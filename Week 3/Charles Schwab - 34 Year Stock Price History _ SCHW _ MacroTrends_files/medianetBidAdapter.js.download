(self.ic_pbjsChunk=self.ic_pbjsChunk||[]).push([[769],{896:function(e,t,n){var i=n(4358),r=n(265),a=n(4699),o=n(3193),d=n(4679),c=n(5102),s=n(5706),u=n(59),p="medianet",l="https://prebid.media.net/video/bundle.js",m=0,f=1,b=2,g="client_timeout",h="client_bid_won",v=(0,c.nH)(),y={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],y.urlData={domain:v.domain,page:v.page,isTop:v.reachedTop};function w(){try{return window.top.document.referrer}catch(e){return document.referrer}}function _(e,t){var n=t.refererInfo,i={domain:(e=e||{}).domain||n.domain,page:e.page||n.page,ref:e.ref||w(),topMostLocation:n.topmostLocation,isTop:e.isTop||n.reachedTop};return Object.assign(i,function(){if(y.pageMeta)return y.pageMeta;var e=x('link[rel="canonical"]',"href"),t=x('meta[property="og:url"]',"content"),n=x('meta[name="twitter:url"]',"content");return y.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),y.pageMeta}())}function x(e,t){var n,r,a=function(e,t){try{var n=(0,i.Zy)().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return a&&(n=a,(r=(0,i.Zy)().document.createElement("a")).href=n,r.href)}function j(e,t){return e.filter((function(e){return e.type===t}))}function T(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function I(e,t){var n=(0,r.Z)(e,"params"),a=(0,r.Z)(t,"gdprConsent"),d=(0,r.Z)(t,"uspConsent"),c=(0,r.Z)(e,"userId"),s=(0,r.Z)(e,"schain")||{},u=R.getWindowSize(),p=!(!a||!a.gdprApplies),l=!!d,m=!!o.vc.getConfig("coppa");return Object.assign({},{customer_id:n.cid},{prebid_version:ic_pbjs.version},{gdpr_applies:p},p&&{gdpr_consent_string:a.consentString||""},{usp_applies:l},l&&{usp_consent_string:d||""},{coppa_applies:m},-1!==u.w&&-1!==u.h&&{screen:u},c&&{user_id:c},ic_pbjs.medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,i.xb)(s)&&{schain:s})}function k(e){var t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);var n,a=(0,r.Z)(e,"mediaTypes.banner.sizes")||[],o=(0,r.Z)(e,"mediaTypes.video")||{},c=(0,r.Z)(e,"params.video")||{},s=Object.assign({},c,o);if((0,i.xb)(s)||(t.video=s),a.length>0&&(t.banner=(n=a,(0,i.kJ)(n)&&2===n.length&&!(0,i.kJ)(n[0])?[T(n)]:n.map((function(e){return T(e)})))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){(0,i.H)("".concat(p," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());var u=parseFloat(e.params.bidfloor||e.params.bidFloor);u&&(t.bidfloor=u);var l=function(e){var t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){var n=(0,i.ky)(e).divId;(0,i.d8)(n)&&(t=document.getElementById(n))}if(t&&t.getBoundingClientRect){var r=t.getBoundingClientRect(),a={};return a.top_left={y:r.top,x:r.left},a.bottom_right={y:r.bottom,x:r.right},a}return null}(e.adUnitCode);if(l&&t.banner&&0!==t.banner.length){var g=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(l);t.ext.coordinates=g,t.ext.viewability=C(l.top_left,O(t.banner)),C(g.top_left,O(t.banner))>.5?t.ext.visibility=f:t.ext.visibility=b}else t.ext.visibility=m;var h=function(e){var t=[];"function"==typeof e.getFloor&&[d.Mk,d.pX,d.B5].forEach((function(n){e.mediaTypes.hasOwnProperty(n)&&(n==d.Mk?e.mediaTypes.banner.sizes.forEach((function(i){M(e,n,i,t)})):M(e,n,"*",t))}));return t}(e);return h&&h.length>0&&(t.bidfloors=h),t}function M(e,t,n,i){var r=e.getFloor({currency:"USD",mediaType:t,size:n});n.length>1&&(r.size=n),r.mediaType=t,i.push(r)}function O(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}function C(e,t){var n=t.w*t.h,i=R.getWindowSize(),r={x:e.x+t.w,y:e.y+t.h};return 0===n||-1===i.w||-1===i.h?0:function(e,t,n,i){if(e.x>i.x||t.x<n.x||e.y>i.y||t.y<n.y)return 0;return(Math.min(t.x,i.x)-Math.max(e.x,n.x))*(Math.min(t.y,i.y)-Math.max(e.y,n.y))}(e,r,{x:0,y:0},{x:i.w,y:i.h})/n}function Z(e,t){t=(0,i.kJ)(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=(0,r.Z)(t,"0.auctionId")||"",n.cid=ic_pbjs.medianetGlobals.cid||"",n.crid=t.map((function(e){return(0,r.Z)(e,"params.0.crid")||e.adUnitCode})).join("|"),n.adunit_count=t.length||0,n.dn=y.urlData.domain||"",n.requrl=y.urlData.page||"",n.istop=y.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}function S(e,t){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:Z(e,t)};(0,i.hq)((0,i.Q2)(n))}function q(e){var t,n=(0,r.Z)(e,"context")||"",a=(0,r.Z)(e,"vto");"outstream"==n&&a&&(e.renderer=((t=s.Th.install({url:l})).setRender((function(e){window.mnet.queue.push((function(){var t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},n=e.dfp_id,r=(0,i.ky)(n).divId||n;window.mnet.mediaNetoutstreamPlayer(e,r,t)}))})),t))}ic_pbjs.medianetGlobals=ic_pbjs.medianetGlobals||{};var R={code:p,gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[d.Mk,d.B5,d.pX],isBidRequestValid:function(e){return e.params?e.params.cid&&(0,i.d8)(e.params.cid)&&!(0,i.jH)(e.params.cid)?(Object.assign(ic_pbjs.medianetGlobals,!ic_pbjs.medianetGlobals.cid&&{cid:e.params.cid}),!0):((0,i.H)("".concat(p," : cid should be a string")),!1):((0,i.H)("".concat(p," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,i=function(e,t){return{site:_(e[0].params.site,t),ext:I(e[0],t),id:e[0].auctionId,imp:e.map((function(e){return k(e)})),ortb2:t.ortb2,tmax:t.timeout||o.vc.getConfig("bidderTimeout")}}(e=(0,u.lY)(e),t);return{method:"POST",url:(n=i.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(i)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return(0,i.PN)("".concat(p," : response is empty")),n;var r=e.body.bidList;return(0,i.kJ)(r)&&0!==r.length?((n=r.filter((function(e){return function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)}))).forEach(q),n):((0,i.PN)("".concat(p," : no bids")),n)},getUserSyncs:function(e,t){var n,r=(n=t,!(0,i.xb)(n)&&n[0].body&&n[0].body.ext&&(0,i.kJ)(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return e.iframeEnabled?j(r,"iframe"):e.pixelEnabled?j(r,"image"):void 0},onTimeout:function(e){try{S({name:g,value:e.length,related_data:e[0].timeout||o.vc.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{S({name:h,value:e.cpm},[e])}catch(e){}},clearMnData:function(){y={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,a.dX)(R),window.ic_pbjs.installedModules.push("medianetBidAdapter")}},function(e){var t;t=896,e(e.s=t)}]);