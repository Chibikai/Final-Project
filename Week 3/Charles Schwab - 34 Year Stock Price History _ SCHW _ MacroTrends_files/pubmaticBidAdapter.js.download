(self.ic_pbjsChunk=self.ic_pbjsChunk||[]).push([[126],{5817:function(e,r,t){var a=t(9062),i=t(4942),n=t(1002),s=t(4358),o=t(265),d=t(6475),p=t(4699),c=t(4679),l=t(3193),u=t(5706),m=t(5975),h=t(59);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}var g="pubmatic",y="PubMatic: ",v="USD",b=void 0,E="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),w={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},I="number",T="string",O="boolean",P="array",x={mimes:P,minduration:I,maxduration:I,startdelay:I,playbackmethod:P,api:P,protocols:P,w:I,h:I,battr:P,linearity:I,placement:I,minbitrate:I,maxbitrate:I,skip:I},D={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},k=1,N=2,Y=3,S=[{id:D.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:D.TITLE.ID,required:!0},{id:D.IMAGE.ID,required:!0}],C={1:"PMP",5:"PREF",6:"PMPG"},R={bootstrapPlayer:function(e){var r={code:e.adUnitCode};if(e.vastXml?r.vastXml=e.vastXml:e.vastUrl&&(r.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var t,a=R.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),n=0;n<window.bluebillywig.renderers.length;n++)if(window.bluebillywig.renderers[n]._id===a){t=window.bluebillywig.renderers[n];break}t?t.bootstrap(r,i):(0,s.yN)("".concat(y,": Couldn't find a renderer with ").concat(a))}else(0,s.yN)("".concat(y,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,r){var t=E.replace("$RENDERER",e),a=u.Th.install({url:t,loaded:!1,adUnitCode:r});try{a.setRender(R.outstreamRender)}catch(e){(0,s.yN)("".concat(y,": Error tying to setRender on renderer"),e)}return a},outstreamRender:function(e){e.renderer.push((function(){R.bootstrapPlayer(e)}))},getRendererId:function(e,r){return"".concat(e,"-").concat(r)}},K=[c.Mk,c.pX,c.B5],z=0,A=!1,j={},U={},q=["pubmatic"],L=["all"];function B(e,r){if(!(0,s.d8)(r))return r&&(0,s.yN)(y+"Ignoring param key: "+e+", expects string-value, found "+(0,n.Z)(r)),b;switch(e){case"pmzoneid":return r.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(r)||b;case"yob":return parseInt(r)||b;default:return r}}function M(e){var r;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(r=e.params.adSlot,(0,s.d8)(r)?r.replace(/^\s+/g,"").replace(/\s+$/g,""):(r&&(0,s.yN)(g+": adSlot must be a string. Ignoring adSlot"),""));var t=e.params.adSlot,a=t.split(":");if(t=a[0],2==a.length&&(e.params.adUnitIndex=a[1]),a=t.split("@"),e.params.adUnit=a[0],a.length>1){if(2!=(a=a[1].split("x")).length)return void(0,s.yN)(y+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(c.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,n=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&n.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=n,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function _(e,r,t){var a,i="Ignoring param key: "+e+", expects "+t+", found "+(0,n.Z)(r);switch(t){case O:a=s.jn;break;case I:a=s.hj;break;case T:a=s.d8;break;case P:a=s.kJ}return a(r)?r:((0,s.yN)(y+i),b)}function X(e,r){var t=e.KEY;return{id:e.ID,required:r[t].required?1:0,data:{type:e.TYPE,len:r[t].len,ext:r[t].ext}}}function J(e){var r={assets:[]};for(var t in e){if(e.hasOwnProperty(t)){var a={};if(!(r.assets&&r.assets.length>0&&r.assets.hasOwnProperty(t)))switch(t){case D.TITLE.KEY:e[t].len||e[t].length?a={id:D.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}}:(0,s.yN)(y+"Error: Title Length is required for native ad: "+JSON.stringify(e));break;case D.IMAGE.KEY:a={id:D.IMAGE.ID,required:e[t].required?1:0,img:{type:Y,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:b),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:b),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:b),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:b),mimes:e[t].mimes,ext:e[t].ext}};break;case D.ICON.KEY:a={id:D.ICON.ID,required:e[t].required?1:0,img:{type:k,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:b),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:b)}};break;case D.VIDEO.KEY:a={id:D.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case D.EXT.KEY:a={id:D.EXT.ID,required:e[t].required?1:0};break;case D.LOGO.KEY:a={id:D.LOGO.ID,required:e[t].required?1:0,img:{type:N,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:b),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:b)}};break;case D.SPONSOREDBY.KEY:case D.BODY.KEY:case D.RATING.KEY:case D.LIKES.KEY:case D.DOWNLOADS.KEY:case D.PRICE.KEY:case D.SALEPRICE.KEY:case D.PHONE.KEY:case D.ADDRESS.KEY:case D.DESC2.KEY:case D.DISPLAYURL.KEY:case D.CTA.KEY:a=X(U[t],e)}}a&&a.id&&(r.assets[r.assets.length]=a)}var i=S.length,n=0;return S.forEach((function(e){for(var t=r.assets.length,a=0;a<t;a++)if(e.id==r.assets[a].id){n++;break}})),A=i!=n,r}function Z(e){var r,t=e.mediaTypes.banner.sizes,a=[];if(t!==b&&(0,s.kJ)(t)){if(r={},e.params.width||e.params.height)r.w=e.params.width,r.h=e.params.height;else{if(0===t.length)return r=b,(0,s.yN)(y+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r;r.w=parseInt(t[0][0],10),r.h=parseInt(t[0][1],10),t=t.splice(1,t.length-1)}t.length>0&&(a=[],t.forEach((function(e){e.length>1&&a.push({w:e[0],h:e[1]})})),a.length>0&&(r.format=a)),r.pos=0,r.topframe=(0,s.yL)()?0:1}else(0,s.yN)(y+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r=b;return r}function G(e){var r,t=(0,s.Ee)((0,o.Z)(e.mediaTypes,"video"),e.params.video);if(t!==b){for(var a in r={},function(e,r){(0,o.Z)(e,"placement")||(0,s.yN)("Video.Placement param missing for "+r)}(t,e.adUnitCode),x)t.hasOwnProperty(a)&&(r[a]=_(a,t[a],x[a]));(0,s.kJ)(e.mediaTypes.video.playerSize[0])?(r.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),r.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,s.hj)(e.mediaTypes.video.playerSize[0])&&(r.w=parseInt(e.mediaTypes.video.playerSize[0],10),r.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else r=b,(0,s.yN)(y+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return r}function F(e,r,t){var a=r.rtd&&r.rtd.jwplayer&&r.rtd.jwplayer.targeting||void 0,i="";if(void 0!==a&&""!==a&&a.hasOwnProperty("segments")){var n,s=a.segments.length;i+="jw-id="+a.content.id;for(var o=0;o<s;o++)i+="|jw-"+a.segments[o]+"=1";t?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(n=e.ext)&&void 0===n.key_val?n.key_val=i:n.key_val+="|"+i}}function V(e,r){var t,a,p={},u={},m=e.hasOwnProperty("sizes")?e.sizes:[],h="",g=[];if(function(e,r){r.params.deals&&((0,s.kJ)(r.params.deals)?r.params.deals.forEach((function(r){(0,s.d8)(r)&&r.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:r})):(0,s.yN)(y+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+r)})):(0,s.yN)(y+"Error: bid.params.deals should be an array of strings."))}(p={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:B("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:B("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?B("currency",e.params.currency):v},e),function(e,r){var t,a="";if(r.params.dctr)if(a=r.params.dctr,(0,s.d8)(a)&&a.length>0){var i=a.split("|");a="",i.forEach((function(e){a+=e.length>0?e.trim()+"|":""})),t=a.length,"|"===a.substring(t,t-1)&&(a=a.substring(0,t-1)),e.ext.key_val=a.trim()}else(0,s.yN)(y+"Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value")}(p,e),F(p,e),e.hasOwnProperty("mediaTypes"))for(h in e.mediaTypes)switch(h){case c.Mk:(t=Z(e))!==b&&(p.banner=t);break;case c.B5:u.request=JSON.stringify(J(e.nativeParams)),A?(0,s.yN)(y+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):p.native=u;break;case c.pX:(a=G(e))!==b&&(p.video=a)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:(0,s.yL)()?0:1},(0,s.kJ)(m)&&m.length>1&&((m=m.splice(1,m.length-1)).forEach((function(e){g.push({w:e[0],h:e[1]})})),t.format=g),p.banner=t;return function(e,r){var t=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},(0,o.Z)(r,"ortb2Imp.ext.data"));Object.keys(t).forEach((function(r){"pbadslot"===r?"string"==typeof t[r]&&t[r]&&(0,d.N)(e,"ext.data.pbadslot",t[r]):"adserver"===r?["name","adslot"].forEach((function(r){var a=(0,o.Z)(t,"adserver.".concat(r));"string"==typeof a&&a&&((0,d.N)(e,"ext.data.adserver.".concat(r.toLowerCase()),a),"adslot"===r&&(0,d.N)(e,"ext.dfp_ad_unit_code",a))})):(0,d.N)(e,"ext.data.".concat(r),t[r])}))}(p,e),function(e,r){var t=-1;"function"!=typeof r.getFloor||l.vc.getConfig("pubmatic.disableFloors")||[c.Mk,c.pX,c.B5].forEach((function(a){if(e.hasOwnProperty(a)){var i=[];"banner"===a&&(e[a].w&&e[a].h&&i.push([e[a].w,e[a].h]),(0,s.kJ)(e[a].format)&&e[a].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var o=r.getFloor({currency:e.bidfloorcur,mediaType:a,size:i});if((0,s.PN)(y,"floor from floor module returned for mediatype:",a," and size:",i," is: currency",o.currency,"floor",o.floor),"object"===(0,n.Z)(o)&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var d=parseFloat(o.floor);(0,s.PN)(y,"floor from floor module:",d,"previous floor value",t,"Min:",Math.min(d,t)),t=-1===t?d:Math.min(d,t),(0,s.PN)(y,"new floor value:",t)}}))}}));e.bidfloor&&((0,s.PN)(y,"floor from floor module:",t,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(t,e.bidfloor)),t=Math.max(t,e.bidfloor));e.bidfloor=!isNaN(t)&&t>0?t:b,(0,s.PN)(y,"new impObj.bidfloor value:",e.bidfloor)}(p,e),p.hasOwnProperty(c.Mk)||p.hasOwnProperty(c.B5)||p.hasOwnProperty(c.pX)?p:b}function H(e,r){(r=r.filter((function(e){return"string"==typeof e||((0,s.yN)(y+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,r,t){return t.indexOf(e)===r}))).length>0&&((0,s.yN)(y+"acat: Selected: ",r),e.ext.acat=r)}function W(e){return!0===(0,s.kJ)(e)&&e.length>0}(0,s.yi)(D,(function(e){j[e.ID]=e.KEY})),(0,s.yi)(D,(function(e){U[e.KEY]=e}));var $={code:g,gvlid:76,supportedMediaTypes:[c.Mk,c.pX,c.B5],isBidRequestValid:function(e){if(e&&e.params){if(!(0,s.d8)(e.params.publisherId))return(0,s.yN)(y+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(c.pX)){var r=(0,o.Z)(e.mediaTypes,"video.mimes"),t=(0,o.Z)(e,"params.video.mimes");if(!1===W(r)&&!1===W(t))return(0,s.yN)(y+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[c.pX].hasOwnProperty("context"))return(0,s.H)("".concat(y,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[c.pX].context&&!(0,s.d8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[c.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(c.Mk)||e.mediaTypes.hasOwnProperty(c.B5)?(delete e.mediaTypes[c.pX],(0,s.yN)("".concat(y,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,s.H)("".concat(y,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,r){var t,i,p,u,f;e=(0,h.lY)(e),r&&r.refererInfo&&(f=r.refererInfo);var g,E=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(f),I=function(e){return{id:""+(new Date).getTime(),at:1,cur:[v],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(E),T="",O=[],P=[],x=[];if(e.forEach((function(e){if((g=(0,s.I8)(e)).params.adSlot=g.params.adSlot||"",M(g),g.mediaTypes&&g.mediaTypes.hasOwnProperty("video")||g.params.hasOwnProperty("video"));else if(!(g.hasOwnProperty("mediaTypes")&&g.mediaTypes.hasOwnProperty(c.B5)||0!==g.params.width||0!==g.params.height))return void(0,s.yN)(y+"Skipping the non-standard adslot: ",g.params.adSlot,JSON.stringify(g));E.pubId=E.pubId||g.params.publisherId,(E=function(e,r){var t,a,i;for(t in r.kadpageurl||(r.kadpageurl=r.pageURL),w)w.hasOwnProperty(t)&&(a=e[t])&&(i=w[t],"object"===(0,n.Z)(i)&&(a=i.f(a,r)),(0,s.d8)(a)?r[t]=a:(0,s.yN)(y+"Ignoring param : "+t+" with value : "+w[t]+", expects string-value, found "+(0,n.Z)(a)));return r}(g.params,E)).transactionId=g.transactionId,""===T?T=g.params.currency||b:g.params.hasOwnProperty("currency")&&T!==g.params.currency&&(0,s.yN)(y+"Currency specifier ignored. Only one currency permitted."),g.params.currency=T,g.params.hasOwnProperty("dctr")&&(0,s.d8)(g.params.dctr)&&O.push(g.params.dctr),g.params.hasOwnProperty("bcat")&&(0,s.kJ)(g.params.bcat)&&(P=P.concat(g.params.bcat)),g.params.hasOwnProperty("acat")&&(0,s.kJ)(g.params.acat)&&(x=x.concat(g.params.acat));var r=V(g);r&&I.imp.push(r)})),0!=I.imp.length){I.site.publisher.id=E.pubId.trim(),z=E.pubId.trim(),I.ext.wrapper={},I.ext.wrapper.profile=parseInt(E.profId)||b,I.ext.wrapper.version=parseInt(E.verId)||b,I.ext.wrapper.wiid=E.wiid||r.auctionId,I.ext.wrapper.wv="prebid_prebid_7.28.0",I.ext.wrapper.transactionId=E.transactionId,I.ext.wrapper.wp="pbjs";var D,k,N=r?m.S.get(r.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==N){if(I.ext.marketplace={},r&&1==N){var Y=m.S.get(r.bidderCode,"allowedAlternateBidderCodes");(0,s.kJ)(Y)?(Y=Y.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(s.tT),q=Y.includes("*")?L:[].concat((0,a.Z)(q),(0,a.Z)(Y))):q=L}I.ext.marketplace.allowedbidders=q.filter(s.tT)}I.user.gender=E.gender?E.gender.trim():b,I.user.geo={},I.user.geo.lat=B("lat",E.lat),I.user.geo.lon=B("lon",E.lon),I.user.yob=B("yob",E.yob),I.device.geo=I.user.geo,I.site.page=E.kadpageurl.trim()||I.site.page.trim(),I.site.domain=(D=I.site.page,(k=document.createElement("a")).href=D,k.hostname),"object"===(0,n.Z)(l.vc.getConfig("content"))&&(I.site.content=l.vc.getConfig("content")),"object"===(0,n.Z)(l.vc.getConfig("device"))&&(I.device=Object.assign(I.device,l.vc.getConfig("device"))),I.device.language=I.device.language&&I.device.language.split("-")[0],(0,d.N)(I,"source.tid",E.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(I.test=1),e[0].schain&&(0,d.N)(I,"source.ext.schain",e[0].schain),r&&r.gdprConsent&&((0,d.N)(I,"user.ext.consent",r.gdprConsent.consentString),(0,d.N)(I,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r&&r.uspConsent&&(0,d.N)(I,"regs.ext.us_privacy",r.uspConsent),!0===l.vc.getConfig("coppa")&&(0,d.N)(I,"regs.coppa",1),function(e,r){var t=(0,o.Z)(r,"0.userIdAsEids");(0,s.kJ)(t)&&t.length>0&&(0,d.N)(e,"user.eids",t)}(I,e);var S,C,R,K=r&&r.ortb2||{};if(K.site){var A=I.site,j=A.page,U=A.domain,_=A.ref;(0,s.Ee)(I,{site:K.site}),I.site.page=j,I.site.domain=U,I.site.ref=_}if(K.user&&(0,s.Ee)(I,{user:K.user}),K.bcat&&(P=P.concat(K.bcat)),null!==(t=K.ext)&&void 0!==t&&null!==(i=t.prebid)&&void 0!==i&&null!==(p=i.bidderparams)&&void 0!==p&&null!==(u=p[r.bidderCode])&&void 0!==u&&u.acat){var X=K.ext.prebid.bidderparams[r.bidderCode].acat;H(I,X)}else x.length&&H(I,x);if(function(e,r){(r=r.filter((function(e){return"string"==typeof e||((0,s.yN)(y+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,r,t){if(e.length>3)return t.indexOf(e)===r;(0,s.yN)(y+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,s.yN)(y+"bcat: Selected: ",r),e.bcat=r)}(I,P),null!=r&&r.timeout)I.tmax=r.timeout||l.vc.getConfig("bidderTimeout");else I.tmax=null===(S=window)||void 0===S||null===(C=S.PWT)||void 0===C||null===(R=C.versionDetails)||void 0===R?void 0:R.timeout;return I.ext.epoch=(new Date).getTime(),"object"===(0,n.Z)(l.vc.getConfig("app"))&&(I.app=l.vc.getConfig("app"),I.app.publisher=I.site.publisher,I.app.ext=I.site.ext||b,"object"!==(0,n.Z)(I.app.content)&&(I.app.content=I.site.content||b),delete I.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(I),bidderRequest:r}}},interpretResponse:function(e,r){var t=[],a=v,i=JSON.parse(r.data),n=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&(0,s.kJ)(e.body.seatbid)&&(a=e.body.cur||a,e.body.seatbid.forEach((function(e){e.bid&&(0,s.kJ)(e.bid)&&e.bid.forEach((function(d){var p={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:a,netRevenue:true,ttl:300,referrer:n,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(d.impid===e.id)switch(function(e,r){if(e.ext&&null!=e.ext.bidtype)r.mediaType=K[e.ext.bidtype];else{(0,s.PN)(y+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var t=e.adm,a="",i=new RegExp(/VAST\s+version/);if(t.indexOf('span class="PubAPIAd"')>=0)r.mediaType=c.Mk;else if(i.test(t))r.mediaType=c.pX;else try{(a=JSON.parse(t.replace(/\\/g,"")))&&a.native&&(r.mediaType=c.B5)}catch(e){(0,s.yN)(y+"Error: Cannot parse native reponse for ad response: "+t)}}}(d,p),p.mediaType){case c.Mk:break;case c.pX:p.width=d.hasOwnProperty("w")?d.w:e.video.w,p.height=d.hasOwnProperty("h")?d.h:e.video.h,p.vastXml=d.adm,function(e,r){var t,a,i;if(r.bidderRequest&&r.bidderRequest.bids){for(var n=0;n<r.bidderRequest.bids.length;n++)r.bidderRequest.bids[n].bidId===e.requestId&&(t=r.bidderRequest.bids[n].params,a=r.bidderRequest.bids[n].mediaTypes[c.pX].context,i=r.bidderRequest.bids[n].adUnitCode);a&&"outstream"===a&&t&&t.outstreamAU&&i&&(e.rendererCode=t.outstreamAU,e.renderer=R.newRenderer(e.rendererCode,i))}}(p,r),function(e,r,t){var a,i,n;if(null!=r&&null!==(a=r.ext)&&void 0!==a&&a.prebiddealpriority){var d=(0,s.zE)(e.requestId,[t.bidderRequest]),p=(0,o.Z)(d,"mediaTypes.video");if((null==p?void 0:p.context)==c.Oh){var l=(null==r||null===(i=r.ext)||void 0===i||null===(n=i.video)||void 0===n?void 0:n.duration)||(null==p?void 0:p.maxduration);e.video={context:c.Oh,durationSeconds:l,dealTier:r.ext.prebiddealpriority}}}}(p,d,r);break;case c.B5:!function(e,r){if(r.native={},e.hasOwnProperty("adm")){var t="";try{t=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,s.yN)(y+"Error: Cannot parse native reponse for ad response: "+r.adm)}if(t&&t.native&&t.native.assets&&t.native.assets.length>0){r.mediaType=c.B5;for(var a=0,i=t.native.assets.length;a<i;a++)switch(t.native.assets[a].id){case D.TITLE.ID:r.native.title=t.native.assets[a].title&&t.native.assets[a].title.text;break;case D.IMAGE.ID:r.native.image={url:t.native.assets[a].img&&t.native.assets[a].img.url,height:t.native.assets[a].img&&t.native.assets[a].img.h,width:t.native.assets[a].img&&t.native.assets[a].img.w};break;case D.ICON.ID:r.native.icon={url:t.native.assets[a].img&&t.native.assets[a].img.url,height:t.native.assets[a].img&&t.native.assets[a].img.h,width:t.native.assets[a].img&&t.native.assets[a].img.w};break;case D.SPONSOREDBY.ID:case D.BODY.ID:case D.LIKES.ID:case D.DOWNLOADS.ID:case D.PRICE:case D.SALEPRICE.ID:case D.PHONE.ID:case D.ADDRESS.ID:case D.DESC2.ID:case D.CTA.ID:case D.RATING.ID:case D.DISPLAYURL.ID:r.native[j[t.native.assets[a].id]]=t.native.assets[a].data&&t.native.assets[a].data.value}r.native.clickUrl=t.native.link&&t.native.link.url,r.native.clickTrackers=t.native.link&&t.native.link.clicktrackers||[],r.native.impressionTrackers=t.native.imptrackers||[],r.native.jstracker=t.native.jstracker||[],r.width||(r.width=0),r.height||(r.height=0)}}}(d,p)}})),d.ext&&d.ext.deal_channel&&(p.dealChannel=C[d.ext.deal_channel]||null),p.meta={},d.ext&&d.ext.dspid&&(p.meta.networkId=d.ext.dspid),d.ext&&d.ext.advid&&(p.meta.buyerId=d.ext.advid),d.adomain&&d.adomain.length>0&&(p.meta.advertiserDomains=d.adomain,p.meta.clickUrl=d.adomain[0]),e.ext&&e.ext.buyid&&(p.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(p.bidderCode=d.ext.marketplace),t.push(p)}))})))}catch(e){(0,s.H)(e)}return t},getUserSyncs:function(e,r,t,a){var i=""+z;return t&&(i+="&gdpr="+(t.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(t.consentString||"")),a&&(i+="&us_privacy="+encodeURIComponent(a)),!0===l.vc.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,r,t,a){return F(e,t.bids[0],!0),(0,s.uh)({publisherId:"string",adSlot:"string"},e)}};(0,p.dX)($),window.ic_pbjs.installedModules.push("pubmaticBidAdapter")}},function(e){var r;r=5817,e(e.s=r)}]);