/*! For license information please see uat-internal.js.LICENSE.txt */
var InternalInvestingChannel;(()=>{var __webpack_modules__={487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},12:e=>{var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],s=0;s<4;s++)8*n+6*s<=8*e.length?i.push(t.charAt(r>>>6*(3-s)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&i.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(n))>>>6-2*r);return i}},e.exports=i},702:function(e,t,i){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,s=void 0,a=function(e,t){c[n]=e,c[n+1]=t,2===(n+=2)&&(s?s(h):b())};var o="undefined"!=typeof window?window:void 0,l=o||{},d=l.MutationObserver||l.WebKitMutationObserver,m="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(h,1)}}var c=new Array(1e3);function h(){for(var e=0;e<n;e+=2)(0,c[e])(c[e+1]),c[e]=void 0,c[e+1]=void 0;n=0}var g,f,S,y,b=void 0;function T(e,t){var i=this,n=new this.constructor(P);void 0===n[v]&&F(n);var r=i._state;if(r){var s=arguments[r-1];a((function(){return N(r,n,s,i._result)}))}else O(i,n,e,t);return n}function I(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(P);return _(t,e),t}b=m?function(){return process.nextTick(h)}:d?(f=0,S=new d(h),y=document.createTextNode(""),S.observe(y,{characterData:!0}),function(){y.data=f=++f%2}):u?((g=new MessageChannel).port1.onmessage=h,function(){return g.port2.postMessage(0)}):void 0===o?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(h)}:p()}catch(e){return p()}}():p();var v=Math.random().toString(36).substring(2);function P(){}var A=void 0,E=1,C=2;function D(t,i,n){i.constructor===t.constructor&&n===T&&i.constructor.resolve===I?function(e,t){t._state===E?U(e,t._result):t._state===C?w(e,t._result):O(t,void 0,(function(t){return _(e,t)}),(function(t){return w(e,t)}))}(t,i):void 0===n?U(t,i):e(n)?function(e,t,i){a((function(e){var n=!1,r=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,(function(i){n||(n=!0,t!==i?_(e,i):U(e,i))}),(function(t){n||(n=!0,w(e,t))}),e._label);!n&&r&&(n=!0,w(e,r))}),e)}(t,i,n):U(t,i)}function _(e,t){if(e===t)w(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(n=t),null===n||"object"!==r&&"function"!==r)U(e,t);else{var i=void 0;try{i=t.then}catch(t){return void w(e,t)}D(e,t,i)}var n,r}function R(e){e._onerror&&e._onerror(e._result),L(e)}function U(e,t){e._state===A&&(e._result=t,e._state=E,0!==e._subscribers.length&&a(L,e))}function w(e,t){e._state===A&&(e._state=C,e._result=t,a(R,e))}function O(e,t,i,n){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+E]=i,r[s+C]=n,0===s&&e._state&&a(L,e)}function L(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,s=e._result,a=0;a<t.length;a+=3)n=t[a],r=t[a+i],n?N(i,n,r,s):r(s);e._subscribers.length=0}}function N(t,i,n,r){var s=e(n),a=void 0,o=void 0,l=!0;if(s){try{a=n(r)}catch(e){l=!1,o=e}if(i===a)return void w(i,new TypeError("A promises callback cannot return that same promise."))}else a=r;i._state!==A||(s&&l?_(i,a):!1===l?w(i,o):t===E?U(i,a):t===C&&w(i,a))}var x=0;function F(e){e[v]=x++,e._state=void 0,e._result=void 0,e._subscribers=[]}var k=function(){function e(e,i){this._instanceConstructor=e,this.promise=new e(P),this.promise[v]||F(this.promise),t(i)?(this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(i),0===this._remaining&&U(this.promise,this._result))):w(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===I){var r=void 0,s=void 0,a=!1;try{r=e.then}catch(e){a=!0,s=e}if(r===T&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===M){var o=new i(P);a?w(o,s):D(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===A&&(this._remaining--,e===C?w(n,i):this._result[t]=i),0===this._remaining&&U(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;O(e,void 0,(function(e){return i._settledAt(E,t,e)}),(function(e){return i._settledAt(C,t,e)}))},e}();var M=function(){function t(e){this[v]=x++,this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){_(e,t)}),(function(t){w(e,t)}))}catch(t){w(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this,n=i.constructor;return e(t)?i.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):i.then(t,t)},t}();return M.prototype.then=T,M.all=function(e){return new k(this,e).promise},M.race=function(e){var i=this;return t(e)?new i((function(t,n){for(var r=e.length,s=0;s<r;s++)i.resolve(e[s]).then(t,n)})):new i((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=I,M.reject=function(e){var t=new this(P);return w(t,e),t},M._setScheduler=function(e){s=e},M._setAsap=function(e){a=e},M._asap=a,M.polyfill=function(){var e=void 0;if(void 0!==i.g)e=i.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M}()},738:(e,t,i)=>{var n,r,s,a;n=i(12),r=i(487).utf8,s=i(487).bin,(a=function(e,t){var i=n.wordsToBytes(function(e){e.constructor==String?e=r.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=n.bytesToWords(e),i=8*e.length,s=[],a=1732584193,o=-271733879,l=-1732584194,d=271733878,m=-1009589776;t[i>>5]|=128<<24-i%32,t[15+(i+64>>>9<<4)]=i;for(var u=0;u<t.length;u+=16){for(var p=a,c=o,h=l,g=d,f=m,S=0;S<80;S++){if(S<16)s[S]=t[u+S];else{var y=s[S-3]^s[S-8]^s[S-14]^s[S-16];s[S]=y<<1|y>>>31}var b=(a<<5|a>>>27)+m+(s[S]>>>0)+(S<20?1518500249+(o&l|~o&d):S<40?1859775393+(o^l^d):S<60?(o&l|o&d|l&d)-1894007588:(o^l^d)-899497514);m=d,d=l,l=o<<30|o>>>2,o=a,a=b}a+=p,o+=c,l+=h,d+=g,m+=f}return[a,o,l,d,m]}(e));return t&&t.asBytes?i:t&&t.asString?s.bytesToString(i):n.bytesToHex(i)})._blocksize=16,a._digestsize=20,e.exports=a},821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.keyValues=e.keyValues,this.autoTargetStatus=e.autoTargetStatus,this.doubleVerify=e.doubleVerify,this.globalTarget=e.globalTarget,this.pixelSegment=e.pixelSegment}return e.prototype.getkeyValues=function(){return this.keyValues},e.prototype.getautoTargetStatus=function(){return this.autoTargetStatus},e.prototype.getdoubleVerify=function(){return this.doubleVerify},e.prototype.getglobalTarget=function(){return this.globalTarget},e.prototype.getpixelSegment=function(){return this.pixelSegment},e}();t.default=i},104:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(973),r=function(){function e(e,t){this.mCallbackid=e.callbackid,this.mScript=e.script,this.mType=e.type,this.registerEvent(t)}return e.prototype.registerEvent=function(e){var t=this;switch(this.mType){case n.CallbackType.PRELOAD:n.Utility.ICJQuery(document).on("Callback_Preload_"+e,(function(){return t.loadScript()}));break;case n.CallbackType.POSTLOAD:n.Utility.ICJQuery(document).on("Callback_Postload_"+e,(function(){return t.loadScript()}));break;case n.CallbackType.ON_VIEWPORT:n.Utility.ICJQuery(document).on("Callback_OnViewport_"+e,(function(i,r){var s=n.Utility.getInstance();s.isInViewport("#"+r,null)?t.loadScript():n.Utility.ICJQuery(document).on("resize scroll."+e,(function(){s.isInViewport("#"+r,null)&&(n.Utility.ICJQuery(document).off("resize scroll."+e),t.loadScript())}))}));break;case n.CallbackType.ON_DOMLOAD:"complete"===document.readyState?this.loadScript():window.onload=function(){t.loadScript()};break;case n.CallbackType.ON_DOMREADY:n.Utility.ICJQuery(document).ready((function(){return t.loadScript()}));break;case n.CallbackType.ON_DOMUNLOAD:n.Utility.ICJQuery(window).on("unload",(function(){return t.loadScript()}));break;case n.CallbackType.ON_BLANK:n.Utility.ICJQuery(document).on("Callback_Blank_"+e,(function(){return t.loadScript()}));break;case n.CallbackType.ON_RENDERED:n.Utility.ICJQuery(document).on("Callback_Rendered_"+e,(function(e,i){t.mScript="(function(adData){"+t.mScript+"}("+JSON.stringify(i)+"))",t.loadScript()}))}},e.prototype.loadScript=function(){n.Utility.getInstance().executeJS(this.mScript)},e.prototype.getType=function(){return this.mType},e.prototype.getScript=function(){return this.mScript},e}();t.default=r},780:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(973),r=function(){function e(e,t,i){this.mIsStorageAccessAllowed=!1,this.mId=e.customvariableid,this.mName=e.name,this.mSource=e.source,this.mSourceVariable=e.sourcevariable,null!=e.defaultvalue&&(this.mValue=e.defaultvalue),this.mIsStorageAccessAllowed=t,this.mTemplate=i,this.setValue()}return e.prototype.setValue=function(){var e=n.Utility.getInstance();switch(this.mSource){case"QueryString":var t=e.getFromQueryString(this.mSourceVariable,this.mTemplate.getUrl());null!=t&&(this.mValue=t);break;case"SessionStorage":if(this.mIsStorageAccessAllowed){var i=e.getFromSessionStorage(this.mSourceVariable);null!=i&&(this.mValue=i)}else this.mValue="";break;case"LocalStorage":if(this.mIsStorageAccessAllowed){var r=e.getFromLocalStorage(this.mSourceVariable);null!=r&&(this.mValue=r)}else this.mValue="";break;case"Cookie":this.mIsStorageAccessAllowed?e.isCookieExists(this.mSourceVariable)&&(this.mValue=e.getFromCookie(this.mSourceVariable)):this.mValue="";break;case"DOM":e.executeJS("function ic_getDOMCustomVariableValue() { return "+this.mSourceVariable+"; }");try{if(window.hasOwnProperty("ic_getDOMCustomVariableValue")){var s=n.Utility.window.ic_getDOMCustomVariableValue.call();null!=s&&(this.mValue=s)}}catch(e){n.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}break;case"CustomJS":e.executeJS("function ic_getCustomJSCustomVariableValue() { "+this.mSourceVariable+" }");try{window.hasOwnProperty("ic_getCustomJSCustomVariableValue")&&(this.mValue=n.Utility.window.ic_getCustomJSCustomVariableValue.call())}catch(e){n.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}}},e.prototype.getId=function(){return this.mId},e.prototype.getName=function(){return this.mName},e.prototype.getValue=function(){return this.mValue},e.prototype.refetchValue=function(){this.setValue()},e}();t.default=r},29:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mType=e.type,this.mDuration=e.duration,this.mUnit=e.unit,this.mCap=e.cap}return e.prototype.getType=function(){return this.mType},e.prototype.getDuration=function(){return this.mDuration},e.prototype.getUnit=function(){return this.mUnit},e.prototype.getCap=function(){return this.mCap},e}();t.default=i},43:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){try{this.mLayout=e.nativelayout.layout}catch(e){throw new Error(e.message)}}return e.prototype.getLayout=function(){return this.mLayout},e.prototype.getNativeLayoutId=function(){return this.mNativeLayoutId},e}();t.default=i},467:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,o,l,d,m=i(973),u=i(979),p=i(620),c=function(){function e(e,t,i,n,r){this.mTags=[],this.mWebVitalsConfig={},this.mCssConfig={},this.mCallbacks=[],this.mIsParent=!0,this.mPublisherKval={},this.mTagsTotalWeight=0,this.mDFPSSPParams={},this.mDFPDMPParams={},this.mIsAutoRefreshEnabled=!1,this.mDATRefreshType=m.RefreshType.ONLOAD,this.mDATAdRefreshState=a.STOP,this.mDATSlotRendered=!1,this.mDATRenderedAdSize=[],this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mIsDATAdIndirectAdvertiser=!1,this.mActiveBrowserWindow=!0,this.mWaitingForTarget=!1,this.mWaitingForNativeLayout=!1,this.mIsImpressionViewable=!1,this.mUnfilledEventListeners=[],this.mRenderedEventListeners=[],this.isProbableLogFired=!1,this.mSSPFetchBidsStartTime=0,this.mCorePlacement=JSON.stringify(e),this.mTemplate=t,this.mPublisherType=i,n&&(this.mWaitingForTarget=n),r&&(this.mWaitingForNativeLayout=r);try{this.mActiveBrowserWindow=document.hasFocus(),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(this.mActiveBrowserWindow=this.mActiveBrowserWindow||parent.document.hasFocus())}catch(t){this.mActiveBrowserWindow=!1,m.Utility.getInstance().ic_ga_event("document.hasFocus()",e.id)}if(this.mRandomNumber=Math.floor(1e16*Math.random()),this.mId=e.id,this.mPriority=e.priority,this.mType=e.placementType,this.mTargeting=void 0,e.targeting)try{this.mTargeting=new u.Targeting(e.targeting,t),this.mTargeting&&this.mTargeting.recalculatePlacementEligibility()}catch(e){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.CUSTOM_TARGETING_FAILED,"Not able to serve the tag as targeting is not matched: "+e.message)}if(this.mFrequency=e.frequency?new u.Frequency(e.frequency):void 0,this.mLoadType=e.loadType,this.mWebVitalsConfig=e.webvitalsconfig?JSON.parse(e.webvitalsconfig):void 0,this.mCssConfig=e.cssconfig?JSON.parse(e.cssconfig):void 0,this.mSelector=e.selector?new u.Selector(e.selector):void 0,this.mType==m.PlacementType.HTML&&(null==this.mSelector||null==this.mSelector))throw new Error("Selector does not exists for the placement "+this.mId);this.mIsAutoRefreshEnabled=this.mTemplate.getAutoRefreshEnabled();for(var s=0;s<e.tags.length;++s){var o=new u.Tag(e.tags[s],this.mTagsTotalWeight);if(o.isForcedTargetEnabled()||null==this.mTemplate.getGlobalTarget()||(o.overrideTarget(this.mTemplate.getGlobalTarget().dfpkeyname),o.overrideTargetKval(this.mTemplate.getGlobalTarget().kval)),o.getType()==m.TagType.DISPLAY||o.getType()==m.TagType.NATIVE){if(o.getSizeMapping())if(o.isSizeMappingValid()){if(""==o.getAdSize()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED);continue}}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID);if(!this.isAdSizeValid(o.getAdSize())){var l="ADVANCE"==this.mPublisherType?null:this.mId;this.mTemplate.pushPlacementErrorLog(l,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZE_INVALID,m.ErrorType.ADSIZE_INVALID.toString()+" ("+o.getAdSize()+")");continue}if(!o.getTargetName()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.TARGET_INVALID);continue}}this.mTagsTotalWeight+=o.getWeight(),this.mTags.push(o)}if(this.mTags.length<=0)throw new Error("No tag exist for the placement.");this.mTags.sort((function(e,t){return e.getWeight()-t.getWeight()}));for(var d=0;d<e.callbacks.length;++d)this.mCallbacks.push(new u.Callback(e.callbacks[d],this.mRandomNumber))}return e.prototype.isAdSizeValid=function(e){if(!e)return!1;for(var t=0,i=e.replace(/\s/g,"").toLowerCase().split(",");t<i.length;t++){var n=i[t];if(!(n.indexOf("x")>=1||"fluid"==n||"oop"==n||"webinterstitial"==n))return!1}return!0},e.prototype.createDAT=function(e){var t=e.getTargetName(),i=e.getSiteDFPKeyName()+"/"+t;this.mSelector.getIdentifier();for(var n=[],r=function(e){if(e.indexOf("x")>=1){var t=e.split("x");if(t.length>2)return"continue";var i=!1;if(t.forEach((function(e){Number(e)||(i=!0)})),i)return"continue";n.push(t.map((function(e){return parseInt(e,10)})))}else"fluid"==e&&n.push(e)},s=0,a=e.getAdSize().replace(/\s/g,"").toLowerCase().split(",");s<a.length;s++)r(a[s]);var o,l=e.isCollapseEmptyDivEnabled(),d=e.isCollapseDivBeforeAdFetchEnabled(),m=this.mTemplate.getSite().getDFPConfig();null==l&&m&&"CollapseEmptyDiv"in m&&m.CollapseEmptyDiv&&(l=m.CollapseEmptyDiv),l&&null==d&&(d=!!(m&&"CollapseDivBeforeAdFetch"in m&&m.CollapseDivBeforeAdFetch)&&m.CollapseDivBeforeAdFetch);var u="";try{m&&"NetworkCode"in m&&(u=m.NetworkCode)}catch(e){}return e.isOOPWIUnit()?o=new p.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!0):e.isOOPUnit()?(o=new p.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!1),l&&o.setCollapseEmptyDiv(l,d),o.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),o.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e))):(o=new p.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!1,n),l&&o.setCollapseEmptyDiv(l,d),o.registerEvent("slotRenderEnded",this.eventDATSlotRenderEnded.bind(this)),o.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e)),o.registerEvent("slotVisibilityChanged",this.eventDATSlotVisibilityChanged.bind(this)),o.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),o.registerEvent("slotResponseReceived",this.eventDATSlotResponseReceived.bind(this)),this.registerWindowEvent()),o},e.prototype.replaceMacros=function(e,t){if(null==e||null==e||""==e)return"";var i=e.match(/%%.*?%%/g);if(!i)return e;var n=m.Utility.getInstance(),r=this.mTemplate.getCustomVariables();if(!r||0==r.length)return m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+" has the macros but does not have the custom variable defined."]),e;for(var s=0;s<i.length;++s){var a=i[s];if(a.indexOf("SYSTEM")>-1)switch(a.replace("%%SYSTEM:","").replace("%%","")){case"TARGET":e=e.replace(a,t.getTargetName());break;case"TARGET_KVAL":e=e.replace(a,t.getTargetKval());break;case"PAGE_ID":e=e.replace(a,""+this.mTemplate.getPageId());break;case"VIEW_COUNT":e=this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE?e.replace(a,n.getFromCookie(m.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+n.getTopWindowDomain())):e.replace(a,"-1");break;case"REFERRER_TYPE":e=e.replace(a,this.mTemplate.getReferrerType());break;case"PAGE_TYPE":e=e.replace(a,this.mTemplate.getPageType());break;case"DOCUMENT_TYPE":e=e.replace(a,this.mTemplate.getDocumentType());break;case"EXELATE_ID":e=e.replace(a,"-1");break;case"PAGE_URL":e=e.replace(a,m.Utility.window.top.location.href);break;case"AUTO_KVAL":e=e.replace(a,JSON.stringify(this.mTemplate.getKeyVal()));break;case"PIXEL_SEGMENT":e=e.replace(a,JSON.stringify(this.mTemplate.getPixelSegment()));break;case"USER_ID":e=e.replace(a,this.mTemplate.getUserId());break;case"DNT":e=e.replace(a,String(!(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE)));break;case"COOKIE_TYPE":e=e.replace(a,this.mTemplate.getUserCookieType());break;case"DAY_OF_WEEK":e=e.replace(a,n.getUSDayOfWeek());break;case"NETWORK_CODE":var o="";this.mTemplate.getSite().getDFPConfig()&&"NetworkCode"in this.mTemplate.getSite().getDFPConfig()&&(o=this.mTemplate.getSite().getDFPConfig().NetworkCode),e=e.replace(a,m.Utility.getInstance().getNetWorkCode(o))}else if(a.indexOf("CUSTOM")>-1){var l=a.replace("%%CUSTOM:","").replace("%%",""),d="";r[l]&&null!=r[l].getValue()?d=r[l].getValue():m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+": Either the custom variable with the name "+l+" does not exist or can't find the value of variable in a given source."]),e=e.replace(a,d)}}return e},e.prototype.getTagToDrop=function(){Math.floor(Math.random()*this.mTagsTotalWeight);for(var e=0;e<this.mTags.length;++e){var t=this.mTags[e];switch(t.getGDPRStatus()){case"SERVE_ALWAYS":return t;case"SERVE_FOR_PERSONALIZED_AD_REQUEST":if(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE)return t;default:if(!this.mTemplate.isUserFromGDPRCountry()&&!this.mTemplate.isUserFromUSPState())return t}}return null},e.prototype.prepareCustomDiv=function(){var e="",t="0";try{this.mTagToRender.isOOPUnit()||this.mTagToRender.isOOPWIUnit()?(t="1",m.Utility.ICJQuery("#investingchannel_css_style").length||(t="2",m.Utility.ICJQuery("head").prepend("<style id='investingchannel_css_style'>.ic_1x1_css_class{width: 1px;height: 1px;}</style>")),t="3",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"' class='ic_1x1_css_class'></div>"):(t="4",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"'></div>")}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("placement.prepareCustomDiv",m.Utility.getInstance().prepareGALabel(u.Template.getAPIKey(),this.mTemplate.getPageId(),t+") "+e.message+" PlacementId: "+this.mId))}return e},e.prototype.dropCustomDiv=function(e){var t="0";try{var i=this.mTemplate.getElementForThePlacement(this.mRandomNumber),n=void 0;if(t="1",!i)return;switch(n=m.Utility.ICJQuery(i),t="2",this.mSelector.getInsertionType()){case m.InsertionType.AFTER:n.after(e);break;case m.InsertionType.BEFORE:n.before(e);break;case m.InsertionType.FIRST_CHILD:n.prepend(e);break;case m.InsertionType.LAST_CHILD:n.append(e);break;case m.InsertionType.REPEAT:n.prepend(e)}var r=document.getElementById(this.mICDivId),s=this.mTemplate.getSite().getWebVitalsConfig(),a="";if(r&&this.mWebVitalsConfig&&"IsEnabled"in this.mWebVitalsConfig&&this.mWebVitalsConfig.IsEnabled){var o;for(var l in this.mTags){var d=this.mTags[l];if(null!=d.getAdSize()&&null!=d.getAdSize()){o=d.getMinWidthHeight();break}}"MinWidth"in this.mWebVitalsConfig?a+="min-width:"+this.mWebVitalsConfig.MinWidth+"px;":o&&o.indexOf("x")>0&&(a+="min-width:"+o.split("x")[0]+"px;"),"MinHeight"in this.mWebVitalsConfig?a+="min-height:"+this.mWebVitalsConfig.MinHeight+"px;":o&&o.indexOf("x")>0&&(a+="min-height:"+o.split("x")[1]+"px;"),"ImageLink"in this.mWebVitalsConfig?a+="background: url("+this.mWebVitalsConfig.ImageLink+") no-repeat left;":"ImageLink"in s&&(a+="background: url("+s.ImageLink+") no-repeat left;")}this.mCssConfig&&"Style"in this.mCssConfig&&(a+=this.mCssConfig.Style+";"),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside dropCustomDiv Style :"+this.mICDivId+" - "+a),r&&""!=a&&r.setAttribute("style",a),r&&this.mCssConfig&&"ClassName"in this.mCssConfig&&r.setAttribute("class",this.mCssConfig.ClassName)}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("placement.dropCustomDiv",m.Utility.getInstance().prepareGALabel(u.Template.getAPIKey(),this.mTemplate.getPageId(),t+") "+e.message+" $# "+this.mId+" $# "+this.mSelector.getInsertionType()))}},e.prototype.setTargetToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.mDFPParams.setTarget(e.getTargetName());var t=[];if(null==e.getTargetKval()){var i=this.mTemplate.getTargetData(e.getTargetName());null!=i&&(t=i.kval)}else t=e.getTargetKval();if("kval"in this.mPublisherKval){var n=this.mPublisherKval.kval;Array.isArray(n)||(n=[n]),t=t.concat(n)}"kval"in this.mTemplate.getPublisherKval()&&(n=this.mTemplate.getPublisherKval().kval,Array.isArray(n)||(n=[n]),t=t.concat(n)),t=m.Utility.getInstance().removeDuplicateFromArray(t),this.mDFPParams.setTargetKval(t)}},e.prototype.setAdRefreshParameters=function(){null==this.mDFPParams.getAdRefreshCount()||isNaN(this.mDFPParams.getAdRefreshCount())?this.mDFPParams.setAdRefreshCount(0):this.mDFPParams.setAdRefreshCount(this.mDFPParams.getAdRefreshCount()+1),this.mDFPParams.setAdRefreshType(this.mDATRefreshType)},e.prototype.updateAdPositionParametersToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){var t=this.prepareAdPositionsParams();null!=t.browserSize&&this.mTemplate.getDocumentType()==m.DocumentType.PAGE&&this.mDFPParams.setBrowserSize(t.browserSize),null!=t.absolutePosition&&this.mDFPParams.setAbsolutePosition(t.absolutePosition),null!=t.relativePosition&&this.mDFPParams.setRelativePosition(t.relativePosition)}},e.prototype.updateViewabilityAttributesToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE))if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){var t=this.calculateViewabilityAttributes();this.mDFPParams.setFoldPosition(""+t.foldPosition),this.mDFPParams.setVisiblePercentage(""+t.visiblePercentage)}else this.mDFPParams.setFoldPosition("-1"),this.mDFPParams.setVisiblePercentage("-1")},e.prototype.updateAdxParametersToDFPParams=function(){var e="e"+Math.floor(10*Math.random());this.mDFPParams.setAdxRandomNumber(e),this.mDFPParams.setAdxHour((new Date).getUTCHours().toString())},e.prototype.getLogParams=function(e,t){var i=u.Template.getBrowserUrl(),r=e.getId(),s=this.mId;"ADVANCE"==this.mPublisherType&&(r=null,s=null);var a={publisherType:this.mPublisherType,pageId:""+this.mTemplate.getPageId(),rnd:""+this.mRandomNumber,apiKey:u.Template.getAPIKey(),placementId:""+s,placementType:this.mType,tagId:""+r,tagType:e.getType(),logType:t,documentType:this.mTemplate.getDocumentType(),device:this.mTemplate.getDeviceType(),sitename:"",adsize:"",dfpKval:encodeURIComponent("bs:"+m.Utility.getInstance().getBrowserSize()),atStatus:this.mTemplate.getAutoTargetStatus(),version:m.Constant.VERSION,uspstring:this.mTemplate.getUSPString(),refererUrl:encodeURIComponent(this.mTemplate.getReferer()),pageUrl:encodeURIComponent(i),renderType:"",kruxSegments:this.mTemplate.getKruxUserSegments()};if(this.mType==m.PlacementType.HTML&&(a.renderType=this.mSelector.getInsertionType(),e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),a.sitename=e.getSiteDFPKeyName()+"/"+e.getTargetName(),a.adsize=e.getAdSize();var o,l=this.getTickerValues(e),d=this.mTemplate.getParametersForDFP(),p=m.Utility.getInstance().getUSDayOfWeek();o=l.length>0?n(n(n(n(n(n(n({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{t:l}),{dow:p}):n(n(n(n(n(n({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{dow:p});var c="";for(var h in o)"tl"!=h&&"rnd"!=h&&"pageId"!=h&&"dt"!=h&&"d"!=h&&"referer"!=h&&(c+=h+":"+o[h]+";");a.dfpKval=c.length>0?encodeURIComponent(c.replace(/;\s*$/,"")):c}return a},e.prototype.sspCallback=function(e){if(e&&e.markit)for(var t in e.markit)this.mDFPSSPParams[t]=""+e.markit[t]},e.prototype.prepareUAT5Key=function(){"uat5"in this.mPublisherKval||(this.mPublisherKval.uat5=["true"]);var e=m.Constant.ENVIRONMENT;"prod"!=e&&-1==this.mPublisherKval.uat5.indexOf(e)&&this.mPublisherKval.uat5.push(e)},e.prototype.checkAdhesionPlacement=function(){if(this.mPublisherKval&&"adslot"in this.mPublisherKval){var e=this.mPublisherKval.adslot;if(e&&e.toString().toLowerCase().indexOf("adhesion")>=0)return!0}return!1},e.prototype.getStackSspServeVertical=function(e,t){var i=n({a9:e.a9},e.prebid),r=-2,s=-2,a=-2,o=-2,l="",d="",u="",c="",h=-2,g="";for(var f in i){var S=i[f];if(S){var y=S[(f=m.Utility.getInstance().getBidderNameByCode(f,p.SSP.getInstance().getBidderOldToNewKeys()))+"_sz"];S[f+"_id"]&&(g=S[f+"_id"]);var b=S[f];if("a9"==f){var T=p.SSP.getInstance();h=b,-1!=b&&0!=b&&(h=T.getA9PriceByCode(b))}else h=b;"31"==y?h>r&&(r=h):"36"==y?h>s&&(s=h):"32"==y&&(h>a?(o=a,a=h,d=l,l=f,c=u,u=g):h>o&&(o=h,d=f,c=g))}}if(+a>0&&+o>0&&+a+ +o>+s&&+a+ +o>+r){var I=t.getAdSize(),v=I.split(",");if(v.length>0&&v.indexOf("300x501")<0){v.push("300x501"),I=v.join(","),t.setAdSize(I);var P=t.getSizeMapping();if(P&&P.length>0)for(var A=0;A<P.length;A++){var E=P[A][1];(this.isArrayExistsinList([300,600],E)||this.isArrayExistsinList([300,1050],E))&&E.push([300,501])}var C=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),C&&t.getDAT().setTargeting(C)}var D=p.SSP.getInstance().getPrebid().getPriceBucketString(""+(+a+ +o),this.mTemplate.getSSPConfig().prebid.priceGranularity);this.mTemplate.isDebugModeEnabled()&&(m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501 , Actual Values :: bidder 1 :: "+a+", Bidder 2 :: "+o+", sum :: "+(a+o)),m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501, after Price granularity Values :: "+D)),e.tt={tt:""+parseFloat(D),tt_v:l+":"+d,tt_id:u+":"+c}}return e},e.prototype.prepareHorizontalStackBids=function(e,t){var i=p.SSP.getInstance().getStackSspServeHorizontal(e,t,this.mICDivId);if(Object.keys(i).length>0&&"tt"in i&&""!=i.tt){var n=t.getAdSize(),r=n.split(",");if(r.length>0&&r.indexOf("950x250")<0){r.push("950x250"),n=r.join(","),t.setAdSize(n);var s=t.getSizeMapping();if(s&&s.length>0)for(var a=0;a<s.length;a++){var o=s[a][1];this.isArrayExistsinList([970,250],o)&&o.push([950,250])}var l=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),l&&t.getDAT().setTargeting(l)}var d=i.tt;d=p.SSP.getInstance().getPrebid().getPriceBucketString(""+d,this.mTemplate.getSSPConfig().prebid.priceGranularity),i.tt=parseFloat(d),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Stack Ads - 970x250:: tt ::  "+JSON.stringify(i)),e.tt=i}return e},e.prototype.isArrayExistsinList=function(e,t){for(var i=e.join("x"),n=0;n<t.length;n++)if("object"==typeof t[n]&&i==t[n].join("x"))return!0;return!1},e.prototype.prepareDFPParams=function(e){return r(this,void 0,void 0,(function(){var t,i,n,r,a,o,l,c,h,g,f,S,y,b,T,I,v,P,A,E,C;return s(this,(function(s){switch(s.label){case 0:if(this.mDFPSSPParams={},this.prepareUAT5Key(),"ADVANCE"!=this.mPublisherType&&this.mDFPParams.setTagId(e.getId()),e.isOOPUnit()||e.isOOPWIUnit())return[3,2];if(this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),t=u.Template.getStackVerticalalEnabled(),i=u.Template.getStackHorizontalEnabled(),null!=(n=p.SSP.getInstance())&&(r=n.getPrebid(),a=!1,r&&(a=r.isDummyStackPlacement(this.mICDivId)),0==a&&(o=void 0,o=p.SSP.getInstance().getBids(this.mICDivId)))){if(1==t&&o.placement&&"size"in o.placement&&o.placement.size.indexOf("300x250")>-1&&(o.placement.size.indexOf("300x600")>-1||o.placement.size.indexOf("300x1050")>-1)&&(o=this.getStackSspServeVertical(o,e)).tt)for(v in o.tt)this.mDFPSSPParams[v]=""+o.tt[v];if(1==i&&o.placement&&"size"in o.placement&&o.placement.size.indexOf("970x250")>-1&&(o=this.prepareHorizontalStackBids(o,e)).tt)for(v in o.tt)this.mDFPSSPParams[v]=""+o.tt[v];if(o.a9)for(v in o.a9)this.mDFPSSPParams[v]=""+o.a9[v];if(o.prebid){for(v in String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),l=-2,c="",h="",g="",f="",S=this.mTemplate.getSSPPrebidIgnoreList(),o.prebid){for(b in y=o.prebid[v])this.mDFPSSPParams[b]=""+y[b];if(S.indexOf(v)<0)for(b in y)if(!(b.endsWith("_id")||b.endsWith("_d")||b.endsWith("_sz"))&&l<y[b]){for(T in l=y[b],c=v,g="",f="",h="",y)T.endsWith("_sz")?g=y[T]:T.endsWith("_id")?h=y[T]:T.endsWith("_d")&&(f=y[T]);break}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside PrepareDFPParam SSP KEY "+v+" - ",[y])}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("preparedfpparams :: ",o),l>=-1&&(this.mDFPSSPParams["pb_"+g]=""+l,l>0&&(this.mDFPSSPParams.pb_v=c,h&&(this.mDFPSSPParams["pb_"+g+"_id"]=h),f&&(this.mDFPSSPParams["pb_"+g+"_d"]=f)))}if(o.markit)for(v in o.markit)this.mDFPSSPParams[v]=""+o.markit[v]}return this.mTemplate.isPredictiveEnabled()?[4,this.mTemplate.getPredictiveValue(this,this.mDATRefreshType,this.getSSPAdSizes())]:[3,2];case 1:if(I=s.sent(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement getPredictiveValue Response: "+I),I)for(v in I)I[v]&&I.hasOwnProperty(v)&&(P="ml_"+d[v],A=10*Math.round(I[v]/10),this.mDFPSSPParams[P]=""+A);s.label=2;case 2:try{this.mTemplate.isKruxScriptDropped()&&m.Utility.window.Krux&&(m.Utility.window.Krux.user||m.Utility.window.ic_krux_getuserid(),this.mDFPDMPParams.kuid=m.Utility.window.Krux.user,m.Utility.window.Krux.segments&&m.Utility.window.Krux.segments.length>0&&(E=this.mTemplate.getKruxSegmentIds())&&E.length>0&&(this.mTemplate.setKruxUserSegments(m.Utility.window.Krux.segments.toString()),(C=m.Utility.window.Krux.segments.filter((function(e){return E.indexOf(e)>=0})))&&C.length>0&&(this.mDFPDMPParams.as=C)))}catch(e){}return[2]}}))}))},e.prototype.getKruxData=function(){var e=this;if(m.Utility.window.ic_krux_getuserid(),m.Utility.window.Krux.user){if(this.mDFPDMPParams.kuid=m.Utility.window.Krux.user,m.Utility.window.Krux.segments&&m.Utility.window.Krux.segments.length>0){var t=this.mTemplate.getKruxSegmentIds();if(t&&t.length>0){var i=m.Utility.window.Krux.segments.filter((function(e){return t.indexOf(e)>=0}));i&&i.length>0&&(this.mDFPDMPParams.as=i)}}clearInterval(this.mKruxTimeoutInstance)}else this.mKruxTimeoutInstance=setTimeout((function(){return e.getKruxData()}),this.mTemplate.getKruxTimeout())},e.prototype.validateSSP=function(e,t){return r(this,void 0,void 0,(function(){var i,n,r,a,o,l=this;return s(this,(function(s){switch(s.label){case 0:return this.mTemplate.getUSPStatus()!=m.USPStatus.NOT_APPLICABLE?[3,6]:(i=(new Date).valueOf()-this.mTemplate.getLastDFPCallTime())<this.mTemplate.getDFPCallBufferTime()?(this.mValidateSSPTimeout=setTimeout((function(){return l.validateSSP(e,t)}),this.mTemplate.getDFPCallBufferTime()-i),[3,5]):[3,1];case 1:return p.SSP.getInstance()&&p.SSP.getInstance().isBidsExpired(this.mICDivId)?(n=!1,this.mTemplate.isPredictiveEnabled()&&this.mDATRefreshType!=m.RefreshType.TIME&&(r=this.mTemplate.getSSPEnabledAdSizes(this))&&r.length>0?[4,this.mTemplate.getPredictiveValue(this,this.mDATRefreshType,r)]:[3,3]):[3,4];case 2:a=s.sent(),n=this.mTemplate.isSspHVPlacement(a),s.label=3;case 3:p.SSP.getInstance().refreshBids(this.mICDivId,this.mDATRefreshType,n,this.mDFPParams.getAdRefreshCount()),this.mSSPFetchBidsStartTime=(new Date).getTime(),s.label=4;case 4:o=t?+this.mTemplate.getSSPConfig().totalDelayRefresh:+this.mTemplate.getSSPConfig().totalDelay,this.waitForSSP(e,o,t,!0),s.label=5;case 5:return[3,7];case 6:t?this.refreshDisplayTag(e):this.renderDisplayTag(e),s.label=7;case 7:return[2]}}))}))},e.prototype.waitForSSP=function(e,t,i,n){var r=this,s=t-((new Date).getTime()-this.mSSPFetchBidsStartTime);if((!p.SSP.getInstance()||"RECEIVED"!=p.SSP.getInstance().getStatus(this.mICDivId)&&"NOT_APPLICABLE"!=p.SSP.getInstance().getStatus(this.mICDivId))&&s>0){var a=+this.mTemplate.getSSPConfig().delayStep;a=n?Math.round(s/2.5):a>s?s:a,this.mWaitForSSPTimeout=setTimeout((function(){r.waitForSSP(e,t,i,!1)}),a)}else clearInterval(this.mWaitForSSPTimeout),this.mSSPFetchBidsStartTime=0,i?this.refreshDisplayTag(e):this.renderDisplayTag(e)},e.prototype.getTickerValues=function(e){var t=[];try{"t"in this.mPublisherKval&&(t=t.concat(this.mPublisherKval.t.join().toUpperCase().split(","))),"t"in this.mTemplate.getPublisherKval()&&(t=t.concat(this.mTemplate.getPublisherKval().t.join().toUpperCase().split(","))),"t"in this.mDFPSSPParams&&(t=t.concat(this.mDFPSSPParams.t.toUpperCase().split(",")));var i=this.mTemplate.getParametersForDFP();"t"in i&&(t=t.concat(i.t.toUpperCase().split(",")))}catch(e){console.log(e)}return m.Utility.getInstance().removeDuplicateFromArray(t)},e.prototype.renderDisplayTag=function(e){return r(this,void 0,void 0,(function(){var t,i,r,a,o,l,d,u,p,c=this;return s(this,(function(s){switch(s.label){case 0:return this.mDATRefreshType=m.RefreshType.ONLOAD,e.getTargetName().indexOf(".bottom")>0&&(this.mTemplate.eligibleForBottomZoning(this)||(e.disableBottomZoning(),e.getDAT()&&(t=e.getDAT(),i=t.getTargeting(),t.destroy(),t=this.createDAT(e),e.setDAT(t),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping()),t.setTargeting(i)),this.mDFPParams.setTarget(e.getTargetName()))),e.getDAT()||(e.setDAT(this.createDAT(e)),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping())),[4,this.prepareDFPParams(e)];case 1:s.sent(),r=e.getDAT(),a=this.getTickerValues(e),o=this.mTemplate.getParametersForDFP(),l=n(n({},this.mTemplate.getPublisherKval()),this.mPublisherKval),d=m.Utility.getInstance().getUSDayOfWeek(),{},u=a.length>0?n(n(n(n(n(n(n({},l),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),o),{t:a}),{dow:d}):n(n(n(n(n(n({},l),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),o),{dow:d}),r.setTargeting(u),this.mTemplate.getDocumentType()==m.DocumentType.IFRAME&&(p=[""],r.setTargetingByKey("rft",p));try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Calling DFP for "+e.getAdSize()+" with the parameters ",[u])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mLoadType==m.LoadType.ON_VIEW||this.mLoadType==m.LoadType.ONLOAD_ONVIEW?this.mTemplate.readyToRender(this.mICDivId,this.mLoadType,e):this.mTemplate.readyToRender(this.mICDivId,this.mLoadType):r.render(),e.isOOPUnit()||e.isOOPWIUnit()||(this.mTargetRuleTimeoutInstance=setTimeout((function(){return c.executeTargetRules(e)}),this.mTemplate.getTargetRulesTimeout())),[2]}}))}))},e.prototype.refreshDisplayTag=function(e){return r(this,void 0,void 0,(function(){var t,i,r,o,l,d;return s(this,(function(s){switch(s.label){case 0:return[4,this.prepareDFPParams(e)];case 1:s.sent(),(t=e.getDAT()).clearTargeting(),i=this.getTickerValues(e),r=this.mTemplate.getParametersForDFP(),o=n(n({},this.mTemplate.getPublisherKval()),this.mPublisherKval),{},d=m.Utility.getInstance().getUSDayOfWeek(),l=i.length>0?n(n(n(n(n(n(n({},o),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),r),{t:i}),{dow:d}):n(n(n(n(n(n({},o),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),r),{dow:d}),t.setTargeting(l);try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Refreshing the tag "+e.getAdSize(),[l])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mTemplate.readyToRefresh(this.mICDivId):(this.mTemplate.setLastDFPCallTime((new Date).valueOf()),t.refresh()),this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mDATSlotRendered=!1,this.mDATAdRefreshState=a.STOP,this.mIsDATAdIndirectAdvertiser=!1,this.mDATAdRefreshTimerInstance,this.mIsImpressionViewable=!1,[2]}}))}))},e.prototype.dropTag=function(e,t){t&&m.Utility.ICJQuery(document).trigger("Callback_Preload_"+this.mRandomNumber);var i=this.replaceMacros(e.getScript(),e);if(this.mType==m.PlacementType.PIXEL)m.Utility.ICJQuery("head").prepend(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));else{if(null==this.mSelector)return;switch(e.getType()){case m.TagType.CUSTOM:m.Utility.ICJQuery("#"+this.mICDivId).append(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));break;case m.TagType.DISPLAY:case m.TagType.NATIVE:this.validateSSP(e,!t);case m.TagType.VIDEO:}}t&&(m.Utility.ICJQuery(document).trigger("Callback_Postload_"+this.mRandomNumber),m.Utility.ICJQuery(document).trigger("Callback_OnViewport_"+this.mRandomNumber,[this.mICDivId])),this.mState=m.PlacementState.LOADED},e.prototype.saveToStorage=function(e,t){var i=m.Utility.getInstance();i.isLocalStorageSupported()?i.saveToLocalStorage(e,t):i.saveToCookie(e,t)},e.prototype.getFromStorage=function(e){var t=m.Utility.getInstance();return t.isLocalStorageSupported()?t.getFromLocalStorage(e):t.getFromCookie(e)},e.prototype.deleteFromStorage=function(e){var t=m.Utility.getInstance();t.isLocalStorageSupported()?t.deleteFromLocalStorage(e):t.deleteFromCookie(e)},e.prototype.displayTag=function(e){var t=this;if(this.mState=m.PlacementState.INITIALIZED,this.mLastRenderedTagType=this.mTagToRender.getType(),this.mType==m.PlacementType.HTML){if(e&&!m.Utility.ICJQuery("#"+this.mICDivId).length){var i=this.prepareCustomDiv();this.dropCustomDiv(i)}this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||!this.mTemplate.isSingleRequestEnabled()||e||this.mTemplate.addTagToRefreshArray(this.mICDivId,this.mTagToRender)}switch(this.setTargetToDFPParams(this.mTagToRender),this.updateAdxParametersToDFPParams(),this.setAdRefreshParameters(),e&&!this.isProbableLogFired&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(this.mTagToRender,l.PROBABLE)),this.isProbableLogFired=!0),this.mLoadType){case m.LoadType.ON_LOAD:"complete"==document.readyState?this.dropTag(this.mTagToRender,e):m.Utility.ICJQuery(window).on("load",(function(){t.dropTag(t.mTagToRender,e)}));break;case m.LoadType.ON_VIEW:this.isInViewPort(e);break;case m.LoadType.ON_REALTIME:case m.LoadType.CUSTOM:this.dropTag(this.mTagToRender,e);break;case m.LoadType.ONLOAD_ONVIEW:"complete"==document.readyState?this.isInViewPort(e):m.Utility.ICJQuery(window).on("load",(function(){t.isInViewPort(e)}))}},e.prototype.isInViewPort=function(e){var t=this,i=m.Utility.getInstance(),n=this.mTemplate.getOnViewBufferPercentage();i.isInViewport("#"+this.mICDivId,0)?this.dropTag(this.mTagToRender,e):document.body.scrollHeight<=document.documentElement.scrollHeight?m.Utility.ICJQuery(document).on("scroll."+this.mRandomNumber,(function(r){i.isInViewport("#"+t.mICDivId,n)&&(m.Utility.ICJQuery(document).off("scroll."+t.mRandomNumber),t.dropTag(t.mTagToRender,e))})):m.Utility.ICJQuery(window).on("scroll."+this.mRandomNumber,(function(r){i.isInViewport("#"+t.mICDivId,n)&&(m.Utility.ICJQuery(window).off("scroll."+t.mRandomNumber),t.dropTag(t.mTagToRender,e))}))},e.prototype.getAbsolutePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var n=m.Utility.window.frameElement.getBoundingClientRect();null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom||(void 0!==m.Utility.window.top.pageXOffset?(t=Math.round(n.left+m.Utility.window.top.pageXOffset),i=Math.round(n.top+m.Utility.window.top.pageYOffset)):(t=Math.round(n.left+m.Utility.window.top.document.documentElement.scrollLeft),i=Math.round(n.top+m.Utility.window.top.document.documentElement.scrollTop)))}var r=e.getBoundingClientRect();return null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom?null:void 0!==pageXOffset?(t+=Math.round(r.left+pageXOffset))+"x"+(i+=Math.round(r.top+pageYOffset)):(t+=Math.round(r.left+document.documentElement.scrollLeft))+"x"+(i+=Math.round(r.top+document.documentElement.scrollTop))},e.prototype.getRelativePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var n=m.Utility.window.frameElement.getBoundingClientRect();null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom||(t=Math.round(n.left),i=Math.round(n.top))}var r=e.getBoundingClientRect();return null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom?null:(t+=Math.round(r.left))+"x"+(i+=Math.round(r.top))},e.prototype.prepareAdPositionsParams=function(){var e=null,t=null,i=null;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){e=m.Utility.getInstance().getBrowserSize();var n=document.getElementById(this.mICDivId),r=this.getAbsolutePosition(n),s=this.getRelativePosition(n);r&&(t=r),s&&(i=s)}return{browserSize:e,absolutePosition:t,relativePosition:i}},e.prototype.getVisibleAreaPercentage=function(e,t,i){t=0==t?1:t,i=0==i?1:i;try{if(!m.Utility.ICJQuery(e).is(":visible"))return-2}catch(e){console.log(e)}var n=e.getBoundingClientRect(),r=m.Utility.getInstance().clientWindowHeight(),s=m.Utility.getInstance().clientWindowWidth(),a=n.top,o=n.left,l=0,d=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var u=m.Utility.window.frameElement.getBoundingClientRect(),p=m.Utility.window.top.innerHeight,c=m.Utility.window.top.innerWidth;if(u.top>p||u.left>c||u.bottom<0||u.right<0||u.top+n.top>p||u.left+n.left>c||n.bottom<0||n.right<0)return 0;u.top<0&&(a+=u.top),u.left<0&&(o+=u.left),p<u.bottom&&p<u.top+n.top+Number(i)?l=Number(i)-(p-(u.top+n.top)):u.bottom<u.top+n.top+Number(i)&&(l=Number(i)-(u.bottom-(u.top+n.top))),c<u.right&&c<u.left+n.left+Number(t)?d=Number(t)-(c-(u.left+n.left)):u.right<u.left+n.left+Number(t)&&(d=Number(t)-(u.right-(u.left+n.left)))}var h=a+Number(i)-l,g=o+Number(t)-d,f=a<0?0:a,S=o<0?0:o,y=h<0?0:h,b=g<0?0:g;return((y=y>r?r:y)-(f=f>r?r:f))*((b=b>s?s:b)-(S=S>s?s:S))/(Number(i)*Number(t))*100},e.prototype.calculateViewabilityAttributes=function(){var e="300x250",t=this.getNonNullPrimaryAdSize(),i=document.getElementById(this.mICDivId);t.indexOf("x")>=0&&!isNaN(+t.split("x")[0])&&!isNaN(+t.split("x")[1])&&(e=t);var n=e.split("x")[0],r=e.split("x")[1],s=this.getVisibleAreaPercentage(i,+n,+r);s>=0&&(s=10*Math.ceil(s/10));var a=0;return s<=-1?a=s:s>=m.Constant.FOLDPOSITION_TOLERANCE&&(a=1),{foldPosition:a,visiblePercentage:s}},e.prototype.setWaitingForTarget=function(e){this.mWaitingForTarget=e},e.prototype.getWaitingForTarget=function(){return this.mWaitingForTarget},e.prototype.setWaitingForNativeLayout=function(e){this.mWaitingForNativeLayout=e},e.prototype.getWaitingForNativeLayout=function(){return this.mWaitingForNativeLayout},e.prototype.initialiseObject=function(e){var t="0";try{this.mICDivId="investingchannel_div_"+this.mRandomNumber,t="1",this.mStorageKey="IC_Placement_"+this.mId,t="2",this.mState=m.PlacementState.UNKNOWN,t="3",this.mDFPParams=new m.DFPPlacementParams,t="4",this.mDFPParams.setRandomNumber(this.mRandomNumber),t="5",this.mDFPParams.setTile(e),t="6",this.mDFPParams.setPosition(this.mTemplate.calculatePosition(this.getNonNullPrimaryAdSize(),this.mRandomNumber)),t="7";for(var i=0;i<this.mTags.length;++i){var n=this.mTags[i];if(t="8."+i,this.mDFPParams.getPosition()>1&&(n.getType()==m.TagType.DISPLAY||n.getType()==m.TagType.NATIVE)&&n.enableBottomZoning(),t="9."+i,t="11."+i,n.getPublisherKVal()){var r=n.getPublisherKVal().split("&");t="12."+i;for(var s=0;s<r.length;++s)if(2==r[s].split("=").length){t="13."+i+"."+s;var a=this.replaceMacros(r[s],n);t="14."+i+"."+s;var o=a.split("=")[0];t="15."+i+"."+s;var l=a.split("=")[1].split(",");t="16."+i+"."+s,null!=this.mPublisherKval&&o in this.mPublisherKval&&(l=l.concat(this.mPublisherKval[o])),t="17."+i+"."+s;var d=m.Utility.getInstance().removeDuplicateFromArray(l);t="18."+i+"."+s,this.mPublisherKval[o]=d,"t"==o.toLowerCase()&&p.DMP.getInstance().addKruxProperty(o,d),t="18.1."+i+"."+s}}}if(this.mTagToRender=this.getTagToDrop(),t="19",!this.mTagToRender)return this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.mPublisherType,m.ErrorType.GDPR_TARGETING_FAILED),void(this.mState=m.PlacementState.TARGETING_FAILED);if(t="20",this.mType==m.PlacementType.HTML){var c=this.prepareCustomDiv();t="21",this.dropCustomDiv(c),t="22"}}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("placement.initialiseObject",m.Utility.getInstance().prepareGALabel(u.Template.getAPIKey(),this.mTemplate.getPageId(),t+") "+e.message))}},e.prototype.startRefreshTimer=function(){var e=this;if(this.mDATAdRefreshState==a.STOP){this.mDATAdRefreshTimerStartTime=(new Date).valueOf();var t=this.mDATAdRefreshTimerStopTime>0?this.mDATAdRefreshTimerStartTime-this.mDATAdRefreshTimerStopTime:0;this.mDATNotInViewTime+=t;var i=this.mAutoRefreshConfig.RefreshTime,n=this.mAutoRefreshConfig.OutOfViewTime;this.mIsDATAdIndirectAdvertiser&&(i=this.mAutoRefreshConfig.RefreshTimeIndirect,n=this.mAutoRefreshConfig.OutOfViewTimeIndirect),this.mDATAdRefreshState=a.START,t>n?(this.mDATRefreshType=m.RefreshType.ACTIVEWINDOW,this.mIsImpressionViewable?this.displayTag(!1):(this.mDATAdRefreshState=a.STOP,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Imression Viewable not yet tiggered totalOutOfView reached. Placement Id="+this.mId))):this.mDATAdRefreshTimerInstance=setTimeout((function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("User IsInactive =>"+e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" , Inactivity Time=>"+e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" Placement Id="+e.mId),e.mDATRefreshType=m.RefreshType.TIME,e.mIsDATAdIndirectAdvertiser&&(e.mLoadType=m.LoadType.ON_VIEW),e.mIsImpressionViewable?!e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)||e.mAutoRefreshConfig.MaxAutoRefreshWithoutInteraction*i>e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)?e.displayTag(!1):(e.mDATInViewTime=i,e.mDATAdRefreshState=a.STOP,e.mActiveUserEvent||null!=e.mActiveUserEvent||e.registerActiveUserEvent()):(e.mDATInViewTime=i,e.mDATAdRefreshState=a.STOP,e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Impression Viewable not yet tiggered timebased. Placement Id="+e.mId))}),i-this.mDATInViewTime)}},e.prototype.stopRefreshTimer=function(){this.mDATAdRefreshState==a.START&&(this.mDATAdRefreshTimerStopTime=(new Date).valueOf(),this.mDATInViewTime=this.mDATInViewTime+(this.mDATAdRefreshTimerStopTime-this.mDATAdRefreshTimerStartTime),clearInterval(this.mDATAdRefreshTimerInstance),this.mDATAdRefreshState=a.STOP)},e.prototype.evaluateAdRefresh=function(e){if(this.mIsAutoRefreshEnabled&&2==this.mDATRenderedAdSize.length&&!(this.mDFPParams.getAdRefreshCount()>=this.mAutoRefreshConfig.MaxRefreshCount)){var t=this.mAutoRefreshConfig.ViewabilityThresholdPercentage;if(this.mIsDATAdIndirectAdvertiser&&(t=this.mAutoRefreshConfig.ViewabilityThresholdPercentageIndirect),"300x1050"==this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]){if(!this.mIsDATAdIndirectAdvertiser)return void(this.mIsAutoRefreshEnabled=!1);t*=.6}e>=t?(this.startRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Start Refresh Timer: Counter="+this.mDATInViewTime+" Placement Id="+this.mId)):this.mIsDATAdIndirectAdvertiser?this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered No Active Timer: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId):(this.stopRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Stop Refresh Timer: StopCounter="+this.mDATInViewTime+" Placement Id="+this.mId))}},e.prototype.windowEventHandler=function(e){if(this.mIsAutoRefreshEnabled){var t=document.getElementById(this.mICDivId);if(t)if(e==o.BLUR)this.mTemplate.getDocumentType()!=m.DocumentType.PAGE?this.mActiveBrowserWindow=document.hasFocus()||parent.document.hasFocus():this.mActiveBrowserWindow=!1,this.mDATSlotRendered&&!this.mActiveBrowserWindow&&this.evaluateAdRefresh(0);else if(e==o.FOCUS&&(this.mActiveBrowserWindow=!0),this.mDATSlotRendered&&this.mActiveBrowserWindow){var i=this.getVisibleAreaPercentage(t,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(i)}}},e.prototype.registerWindowEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(this.mScrollEvent=function(){e.windowEventHandler(o.SCROLL)},this.mResizeEvent=function(){e.windowEventHandler(o.RESIZE)},this.mFocusEvent=function(){e.windowEventHandler(o.FOCUS)},this.mBlurEvent=function(){e.windowEventHandler(o.BLUR)},m.Utility.window.attachEvent?(m.Utility.window.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.attachEvent("onblur",this.mBlurEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.attachEvent("onblur",this.mBlurEvent,!1))):(m.Utility.window.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.addEventListener("blur",this.mBlurEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.addEventListener("blur",this.mBlurEvent,!1))))},e.prototype.unregisterWindowEvent=function(){this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(m.Utility.window.detachEvent?(m.Utility.window.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.detachEvent("onblur",this.mBlurEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.detachEvent("onblur",this.mBlurEvent,!1))):(m.Utility.window.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.removeEventListener("blur",this.mBlurEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.removeEventListener("blur",this.mBlurEvent,!1))))},e.prototype.registerActiveUserEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled&&(this.mActiveUserEvent=function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placemet mActiveUserEvent is called. PlacementId=>"+e.mId),e.unregisterActiveUserEvent(),e.mActiveUserEvent=null,e.displayTag(!1)},this.mTemplate.activateActivityTracker(this.mActiveUserEvent))},e.prototype.unregisterActiveUserEvent=function(){this.mTemplate.deactivateActivityTracker(this.mActiveUserEvent),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Plaement unregisterActiveUserEvent called. PlacementId="+this.mId)},e.prototype.executeTargetRules=function(e){if(clearInterval(this.mTargetRuleTimeoutInstance),e.isForcedTargetEnabled()||null==this.mTemplate.getGlobalTarget())if(null!=e.getTargetRule())this.mTemplate.executeTargetRules(e.getTargetName(),e.getTargetRule());else{var t=this.mTemplate.getTargetData(e.getTargetName());null!=t&&this.mTemplate.executeTargetRules(e.getTargetName(),t.rules)}else this.mTemplate.dropGlobalTargetRules()},e.prototype.renderNativeLayout=function(e){for(var t=null,i=null,n=null,r=0,s=this.mTags;r<s.length;r++){if(t=(n=s[r]).getDAT().getDFPSlot(),e.slot===t){i=n.getNativLayout()?n.getNativLayout().layout:null;break}t=null}if(null!=t){var a=t.getSlotElementId(),o=document.querySelector("#"+a),l=""+this.mDFPParams.getRandomNumber();if(!e.isEmpty){var d=o.dataset.googleQueryId;if(this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("tagTrigger - slotRenderEnded event SlotQueryId - ",d),void 0!==m.Utility.window["native_ad"+d]&&m.Utility.window["native_ad"+d])if(null!=i&&""!=i.trim()){var u=document.querySelector("#investingchannel_native_div_"+l);u||((u=document.createElement("div")).id="investingchannel_native_div_"+l,o.insertBefore(u,null));var p=m.Utility.window["native_ad"+d],c=/cta-\s*(.*?)\s*-repl/g.exec(i);""==p.callToAction&&c&&(p.callToAction=c[1]),i=i.replace('data-id=""','data-id="'+l+'"'),document.querySelector("#investingchannel_native_div_"+l)&&(document.querySelector("#investingchannel_native_div_"+l).innerHTML=this.replaceTemplate(i,p)),o.setAttribute("empty","false");var h=o.children;h.length>=1&&(h[0].style.position="absolute")}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.NATIVE_LAYOUT_NOT_FOUND,m.ErrorType.NATIVE_LAYOUT_NOT_FOUND.toString()+"("+n.getId()+")")}}},e.prototype.replaceTemplate=function(e,t){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("replateTemplate - advert ojbect - ",t);var i=this.mTemplate.getSponsorPagePath();for(var n in 0!=t.canvasPageAdId&&null!=i&&null!=i&&(0===i.toString().indexOf("http")||0===i.toString().indexOf("//")?t.url=i+"?ic_adid="+t.canvasPageAdId:t.url=window.location.protocol+"//"+window.location.hostname+"/"+i+"?ic_adid="+t.canvasPageAdId),"SCR"!=t.type&&(t.url=t.clickTrackingUrl+t.url),t)if(t.hasOwnProperty(n)){var r=t[n];if(r==t.thumbnail){var s=/pref-\s*(.*?)\s*-ratio/g.exec(e);s&&(r=this.getThumb(r,s[1]))}e=e.replace(new RegExp("{{"+n+"}}","g"),r)}return e},e.prototype.getThumb=function(e,t){var i=t.split("-"),n=[];for(var r in i)for(var s in e)s==i[r]&&""!=e[s]&&n.push(e[s]);if(n[0])var a=n[0];return a},e.prototype.eventDATSlotRenderEnded=function(e){this.mDATSlotRendered=!e.isEmpty,this.mDATRenderedAdSize=e.size;var t=null;e.size&&null!=e.size&&e.size.length>=2&&(t=this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]),this.mAutoRefreshConfig=this.mTemplate.getAutoRefreshConfig(t),this.mIsAutoRefreshEnabled=this.mAutoRefreshConfig.IsEnabled,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotRender Ended event ",[e]),this.mDATSlotRendered&&this.renderNativeLayout(e),this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled?(this.mIsDATAdIndirectAdvertiser=this.mAutoRefreshConfig.AdvertisersIndirect.indexOf(e.advertiserId)>=0,this.mAutoRefreshConfig.DisabledCampaigns.indexOf(e.campaignId)>=0&&(this.mIsAutoRefreshEnabled=!1)):this.mIsAutoRefreshEnabled=!1;try{var i={size:e.size,advertiserId:e.advertiserId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,creativeTemplateId:e.creativeTemplateId,isBackfill:e.isBackfill,isEmpty:e.isEmpty,labelIds:e.labelIds,lineItemId:e.lineItemId};if(m.Utility.ICJQuery(document).trigger("Callback_Rendered_"+this.mRandomNumber,[i]),this.mRenderedEventListeners.length>0)for(var n=0;n<this.mRenderedEventListeners.length;++n)this.mRenderedEventListeners[n](i);if(!this.mDATSlotRendered)for(m.Utility.ICJQuery(document).trigger("Callback_Blank_"+this.mRandomNumber),n=0;n<this.mUnfilledEventListeners.length;++n)this.mUnfilledEventListeners[n]()}catch(e){console.log("Something wrong in triggering the rendered or blank event: ",e)}},e.prototype.eventDATImpressionViewable=function(e,t){var i=document.getElementById(this.mICDivId);if(i&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.VIEWED)),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("eventDATImpressionViewable method: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId),this.mIsImpressionViewable=!0,!e.isOOPUnit()&&!e.isOOPWIUnit()&&this.mDATSlotRendered&&this.mActiveBrowserWindow&&void 0!==this.mDATRenderedAdSize&&this.mDATRenderedAdSize.length>1)){var n=i.querySelectorAll("iframe[id^=google_ads_iframe_]");if(!n||n.length<1)return;var r=n[0];if(r){var s=this.getVisibleAreaPercentage(r,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(Math.round(s))}}},e.prototype.eventDATSlotVisibilityChanged=function(e){this.mDATSlotRendered&&this.mActiveBrowserWindow&&this.evaluateAdRefresh(e.inViewPercentage)},e.prototype.eventDATSlotRequested=function(e,t){m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED)),this.mKruxTimeoutInstance&&clearInterval(this.mKruxTimeoutInstance)},e.prototype.getId=function(){return this.mId},e.prototype.getState=function(){return this.mState},e.prototype.getSelector=function(){return this.mSelector},e.prototype.isParent=function(){return this.mIsParent},e.prototype.makeChild=function(){this.mIsParent=!1},e.prototype.getPriority=function(){return this.mPriority},e.prototype.getLoadType=function(){return this.mLoadType},e.prototype.getDivId=function(){return this.mICDivId},e.prototype.getPublisherType=function(){return this.mPublisherType},e.prototype.getTagToRender=function(){return this.mTagToRender},e.prototype.getNativeLayout=function(){return this.mTags&&this.mTags.length>0?this.mTags[0].getNativLayout():{}},e.prototype.isEligibleForRendering=function(e){if(this.mState!=m.PlacementState.UNKNOWN&&this.mState!=m.PlacementState.SELECTOR_NOT_LOADED&&this.mState!=m.PlacementState.SELECTOR_LOADED)return!1;if(e&&this.mLoadType==m.LoadType.CUSTOM)return!1;if(null!=this.mTargeting&&!this.mTargeting.isIsPlacementEligibleForRendering())return!1;if(this.mFrequency){var t=this.getFromStorage(this.mStorageKey);if(t){t=JSON.parse(t);var i=new Date(t.dateTime);switch(this.mFrequency.getUnit()){case m.FrequencyCapUnit.MILLISECONDS:i.setMilliseconds(i.getMilliseconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.SECONDS:i.setSeconds(i.getSeconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MINUTES:i.setMinutes(i.getMinutes()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.HOURS:i.setHours(i.getHours()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.DAYS:i.setDate(i.getDate()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.WEEKS:i.setDate(i.getDate()+7*this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MONTHS:i.setMonth(i.getMonth()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.YEARS:i.setFullYear(i.getFullYear()+this.mFrequency.getDuration())}if(i>new Date){if(Number(t.count)>=this.mFrequency.getCap())return this.mState=m.PlacementState.CAPPING_EXPIRED,!1}else this.deleteFromStorage(this.mStorageKey)}}if(this.mType!=m.PlacementType.HTML)return!0;if("ADVANCE"==this.mPublisherType&&"COMPLETED"!=this.mTemplate.getTargetStatus(this.mTagToRender.getTargetName())&&!this.mTemplate.getGlobalTarget())return this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Not eligible because of Target"),!1;if((this.mTagToRender.getType()==m.TagType.DISPLAY||this.mTagToRender.getType()==m.TagType.NATIVE)&&""==this.mTagToRender.getAdSize())return this.mState=m.PlacementState.TAG_NOT_AVAILABLE,!1;if(!this.mIsParent)return!0;var n=m.Utility.getInstance();if(null!=this.mSelector&&n.isSelectorLoaded(this.mSelector.getIdentifier(),this.mTemplate.getPageId(),this.mId,this.mRandomNumber)){if(this.mState=m.PlacementState.SELECTOR_LOADED,!m.Utility.ICJQuery("#"+this.mICDivId).length){var r=this.prepareCustomDiv();this.dropCustomDiv(r)}return!0}return this.mState=m.PlacementState.SELECTOR_NOT_LOADED,this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.SELECTOR_NOT_FOUND),!1},e.prototype.isEligibleForRefreshing=function(){return(this.mState==m.PlacementState.LOADED||this.mState==m.PlacementState.VIEWED)&&this.mType==m.PlacementType.HTML},e.prototype.render=function(){var e=p.DATManager.getInstance();if(null==e||!e.initialLoadDisabled()||this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||(this.mTagToRender.getDAT()||this.mTagToRender.setDAT(this.createDAT(this.mTagToRender)),this.mTagToRender.getSizeMapping()&&this.mTagToRender.getDAT().defineSizeMapping(this.mTagToRender.getSizeMapping())),this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.addTagToRenderArray(this.mICDivId,this.mTagToRender,this.mLoadType),this.mSSPFetchBidsStartTime=this.mTemplate.getSSPFetchBidsStartTime(),this.mFrequency){var t=this.getFromStorage(this.mStorageKey),i={};if(t){t=JSON.parse(decodeURIComponent(t));var n=new Date(t.dateTime),r=Number(t.count);++r,i.count=r,i.dateTime=n}else i.count=1,i.dateTime=new Date;this.saveToStorage(this.mStorageKey,JSON.stringify(i))}this.displayTag(!0)},e.prototype.getLastRenderedTagType=function(){return this.mLastRenderedTagType},e.prototype.refresh=function(){this.mDATRefreshType=m.RefreshType.MANUAL,this.displayTag(!1)},e.prototype.clear=function(){m.Utility.ICJQuery("#"+this.mICDivId).length&&m.Utility.ICJQuery("#"+this.mICDivId).remove()},e.prototype.destroy=function(){for(var e=0,t=this.mTags;e<t.length;e++){var i=t[e];switch(i.getType()){case m.TagType.DISPLAY:case m.TagType.NATIVE:i.getDAT(),null!=p.SSP.getInstance()&&p.SSP.getInstance().deletePlacement(this.mICDivId),this.clear(),this.mDATAdRefreshTimerInstance&&clearInterval(this.mDATAdRefreshTimerInstance),this.mWaitForSSPTimeout&&clearInterval(this.mWaitForSSPTimeout),this.mValidateSSPTimeout&&clearInterval(this.mValidateSSPTimeout),this.mKruxTimeoutInstance&&clearInterval(this.mKruxTimeoutInstance),this.mTargetRuleTimeoutInstance&&clearInterval(this.mTargetRuleTimeoutInstance),this.unregisterWindowEvent();break;case m.TagType.CUSTOM:this.clear()}}},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=m.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.getNonNullPrimaryAdSize=function(){if(this.mType==m.PlacementType.PIXEL)return null;for(var e in this.mTags){var t=this.mTags[e];if(null!=t.getPrimaryAdSize()&&null!=t.getPrimaryAdSize)return t.getPrimaryAdSize()}return null},e.prototype.defineSizeMapping=function(e){for(var t=0;t<this.mTags.length;++t){var i=this.mTags[t];i.getType()!=m.TagType.DISPLAY&&i.getType()!=m.TagType.NATIVE||(i.updateSizeMapping(e),i.isSizeMappingValid()?""==i.getAdSize()&&this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED):this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID))}},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.registerEventListener=function(e,t){if("function"==typeof t)switch(e){case"tagUnfilled":return void this.mUnfilledEventListeners.push(t);case"tagRendered":return void this.mRenderedEventListeners.push(t);default:return void u.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")}else u.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")},e.prototype.eventDATSlotResponseReceived=function(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotResponseReceived event ",[e]);var t=document.getElementById(this.mICDivId);t.removeAttribute("style"),this.mCssConfig&&"Style"in this.mCssConfig&&t.setAttribute("style",this.mCssConfig.Style)},e.prototype.getSSPAdSizes=function(){for(var e=[],t=0;t<this.mTags.length;++t)if(this.mTags[t].getType()==m.TagType.DISPLAY||this.mTags[t].getType()==m.TagType.NATIVE){var i=this.mTags[t].getAdSize();e.indexOf(i)>=0||(e=e.concat(i.split(",")))}return e},e.prototype.getPosition=function(){return this.mDFPParams?this.mDFPParams.getPosition():null},e.prototype.getTile=function(){return this.mDFPParams?this.mDFPParams.getTile():null},e.prototype.getType=function(){return this.mType},e.prototype.getRandomNumber=function(){return this.mRandomNumber},e.prototype.getRawData=function(){return this.mCorePlacement},e}();t.default=c,function(e){e.STOP="STOPPED",e.START="STARTED"}(a||(a={})),function(e){e.SCROLL="SCROLL",e.RESIZE="RESIZE",e.FOCUS="FOCUS",e.BLUR="BLUR"}(o||(o={})),function(e){e.SERVED="S",e.VIEWED="V",e.PROBABLE="P"}(l||(l={})),function(e){e["160x600"]="16",e["250x250"]="22",e["320x50"]="35",e["300x250"]="32",e["300x600"]="36",e["300x1050"]="31",e["468x60"]="46",e["728x90"]="79",e["970x90"]="99",e["970x250"]="92",e["320x100"]="30"}(d||(d={}))},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mIdentifier=e.identifier,this.mType=e.type}return e.prototype.getIdentifier=function(){return this.mIdentifier},e.prototype.getInsertionType=function(){return this.mType},e}();t.default=i},934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mA9={},this.mAppnexus={},this.mOpenx={},this.mPubmatic={},this.mRubicon={},this.mCriteo={},this.mSovrn={},this.mYieldmo={},this.m33Across={},this.mAol={},this.mGumgum={},this.mTriplelift={},this.mAdaptmx={},this.mSmartAdServer={},this.mImproveDigital={},this.mShareThrough={},this.mMediaNet={},this.mOutbrain={},this.mAutomatad={},this.mGDPRCMP={},this.mUSPPrivacy={},this.mIsAdmiralAdblockerEnabled=!1,this.mDoubleVerify={},this.mKrux={},this.mPredictive={},this.mSSPconfig={},this.mAutoRefreshConfig={},this.mDFPConfig={},this.mAddressability={},this.mWebVitalsConfig={},this.mAdtagname=e.adtagname,this.mDfpkeyname=e.dfpkeyname,this.mGPTTagType="GPTA",this.mSiteid=e.siteid,this.mA9=JSON.parse(e.a9),this.mAppnexus=JSON.parse(e.appnexus),this.mOpenx=JSON.parse(e.openx),this.mPubmatic=JSON.parse(e.pubmatic),this.mRubicon=JSON.parse(e.rubicon),this.mCriteo=JSON.parse(e.criteo),this.mSovrn=JSON.parse(e.sovrn),this.mYieldmo=JSON.parse(e.yieldmo),this.m33Across=JSON.parse(e.across33),this.mAol=JSON.parse(e.aol),this.mGumgum=JSON.parse(e.gumgum),this.mTriplelift=JSON.parse(e.triplelift),this.mAdaptmx=JSON.parse(e.adaptmx),this.mSmartAdServer=JSON.parse(e.smartadserver),this.mImproveDigital=JSON.parse(e.improvedigital),this.mShareThrough=JSON.parse(e.sharethrough),this.mMediaNet=JSON.parse(e.medianet),this.mOutbrain=JSON.parse(e.outbrain),this.mAutomatad=JSON.parse(e.automatad),this.mGDPRCMP=JSON.parse(e.gdprcmp),this.mUSPPrivacy=JSON.parse(e.usprivacy),this.mIsAdmiralAdblockerEnabled=e.isadmiraladblockerenabled,this.mDoubleVerify=JSON.parse(e.doubleverify),this.mKrux=JSON.parse(e.krux),this.mPredictive=JSON.parse(e.predictive),this.mSSPconfig=JSON.parse(e.sspconfig),this.mAutoRefreshConfig=JSON.parse(e.autorefreshconfig),this.mDFPConfig=JSON.parse(e.dfpconfig),this.mAddressability=JSON.parse(e.addressability),this.mWebVitalsConfig=JSON.parse(e.webvitalsconfig)}return e.prototype.getAdTagName=function(){return this.mAdtagname},e.prototype.getDFPKeyName=function(){return this.mDfpkeyname},e.prototype.getGPTTagType=function(){return this.mGPTTagType},e.prototype.getSiteId=function(){return this.mSiteid},e.prototype.getA9=function(){return this.mA9},e.prototype.getAppnexus=function(){return this.mAppnexus},e.prototype.getOpenx=function(){return this.mOpenx},e.prototype.getPubmatic=function(){return this.mPubmatic},e.prototype.getRubicon=function(){return this.mRubicon},e.prototype.getCriteo=function(){return this.mCriteo},e.prototype.getSovrn=function(){return this.mSovrn},e.prototype.getYieldmo=function(){return this.mYieldmo},e.prototype.get33Across=function(){return this.m33Across},e.prototype.getAol=function(){return this.mAol},e.prototype.getGumgum=function(){return this.mGumgum},e.prototype.getTriplelift=function(){return this.mTriplelift},e.prototype.getAdaptMx=function(){return this.mAdaptmx},e.prototype.getSmartAdServer=function(){return this.mSmartAdServer},e.prototype.getImproveDigital=function(){return this.mImproveDigital},e.prototype.getShareThrough=function(){return this.mShareThrough},e.prototype.getMediaNet=function(){return this.mMediaNet},e.prototype.getOutbrain=function(){return this.mOutbrain},e.prototype.getAutomatad=function(){return this.mAutomatad},e.prototype.getGDPRCMP=function(){return this.mGDPRCMP},e.prototype.getUSPPrivacy=function(){return this.mUSPPrivacy},e.prototype.isAdmiralAdblockerEnabled=function(){return this.mIsAdmiralAdblockerEnabled},e.prototype.getDoubleVerify=function(){return this.mDoubleVerify},e.prototype.getKrux=function(){return this.mKrux},e.prototype.getPredictive=function(){return this.mPredictive},e.prototype.getSSPConfig=function(){return this.mSSPconfig},e.prototype.getAutoRefreshConfig=function(){return this.mAutoRefreshConfig},e.prototype.getDFPConfig=function(){return this.mDFPConfig},e.prototype.getAddressability=function(){return this.mAddressability},e.prototype.getWebVitalsConfig=function(){return this.mWebVitalsConfig},e}();t.default=i},461:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Util=__webpack_require__(973),Tag=function(){function Tag(pTag,pTagsTotalWeight){this.mTarget={},this.mDFPConfig={},this.mIsSizeMappingValid=!0,this.mIsOOPUnit=!1,this.mIsOOPWIUnit=!1,this.mPublisherKVal=null,this.mIsCollapseEmptyDivEnabled=void 0,this.mIsCollapseDivBeforeAdFetchEnabled=void 0,this.mId=pTag.tagid,this.mType=pTag.type,this.mScript=pTag.script,this.mWeight=pTag.weight,this.mSiteDFPKeyName=pTag.siteDFPKeyName,this.mNativeLayout=pTag.nativelayout,this.mTarget=pTag.target,null!=this.mTarget&&null!=this.mTarget.kval&&(this.mTarget.kval=this.mTarget.kval.split(";")),this.mIsForcedTargetEnabled=pTag.isforcedtargetenabled,this.mGDPRStatus=pTag.gdprstatus,this.mType!=Util.TagType.DISPLAY&&this.mType!=Util.TagType.NATIVE||(this.mAdSize=pTag.adsize,pTag.sizemapping?this.updateSizeMapping(eval(pTag.sizemapping)):this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize),null!=pTag.isOOPUnit?this.mIsOOPUnit=pTag.isOOPUnit:"oop"==this.mAdSize&&(this.mIsOOPUnit=!0),null!=pTag.isOOPWIUnit?this.mIsOOPWIUnit=pTag.isOOPWIUnit:"webinterstitial"==this.mAdSize&&(this.mIsOOPWIUnit=!0)),pTag.dfpconfig&&(this.mDFPConfig=JSON.parse(pTag.dfpconfig),this.mDFPConfig&&"CollapseEmptyDiv"in this.mDFPConfig&&(this.mIsCollapseEmptyDivEnabled=this.mDFPConfig.CollapseEmptyDiv),this.mDFPConfig&&"CollapseDivBeforeAdFetch"in this.mDFPConfig&&(this.mIsCollapseDivBeforeAdFetchEnabled=this.mDFPConfig.CollapseDivBeforeAdFetch)),this.mPublisherKVal=pTag.publisherkval,this.mPublisherKVal&&(this.mPublisherKVal=this.mPublisherKVal.trim()),this.mMinWeight=pTagsTotalWeight,this.mMaxWeight=pTagsTotalWeight+this.mWeight}return Tag.prototype.getRenderSizeFromSizeMapping=function(){for(var e,t=Util.Utility.getInstance().getBrowserSize().split("x").map(Number),i=null,n=0;n<this.mSizeMapping.length;++n){var r=this.mSizeMapping[n][0];2==r.length&&t[0]>=r[0]&&t[1]>=r[1]&&(null==e||r[0]>=e[0]&&r[1]>=e[1])&&(e=r,i=0==this.mSizeMapping[n][1].length?"":Util.Utility.getInstance().convertAdSize(this.mSizeMapping[n][1]))}return i},Tag.prototype.calculatePrimaryAdSize=function(e){if(null==e||null==e)return e;var t=e.indexOf(",");return-1!=t?e.substring(0,t):e},Tag.prototype.updateSizeMapping=function(e){try{var t;this.mSizeMapping=e,null!=(t=this.getRenderSizeFromSizeMapping())?this.mAdSize=t:this.mIsSizeMappingValid=!1}catch(e){this.mIsSizeMappingValid=!1}this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize)},Tag.prototype.getId=function(){return this.mId},Tag.prototype.getType=function(){return this.mType},Tag.prototype.getScript=function(){return this.mScript},Tag.prototype.getWeight=function(){return this.mWeight},Tag.prototype.getSiteDFPKeyName=function(){return this.mSiteDFPKeyName},Tag.prototype.getTargetName=function(){return this.mTarget?this.mTarget.dfpkeyname:null},Tag.prototype.isForcedTargetEnabled=function(){return this.mIsForcedTargetEnabled},Tag.prototype.getGDPRStatus=function(){return this.mGDPRStatus},Tag.prototype.getAdSize=function(){return this.mAdSize},Tag.prototype.setAdSize=function(e){this.mAdSize=e},Tag.prototype.getSizeMapping=function(){return this.mSizeMapping},Tag.prototype.getPrimaryAdSize=function(){return this.mPrimaryAdSize},Tag.prototype.getTargetKval=function(){return this.mTarget?this.mTarget.kval:null},Tag.prototype.getTargetRule=function(){return this.mTarget?this.mTarget.rules:null},Tag.prototype.getMinWeight=function(){return this.mMinWeight},Tag.prototype.getMaxWeight=function(){return this.mMaxWeight},Tag.prototype.getDAT=function(){return this.mDAT},Tag.prototype.isOOPUnit=function(){return this.mIsOOPUnit},Tag.prototype.isOOPWIUnit=function(){return this.mIsOOPWIUnit},Tag.prototype.getPublisherKVal=function(){return this.mPublisherKVal},Tag.prototype.isSizeMappingValid=function(){return this.mIsSizeMappingValid},Tag.prototype.isCollapseEmptyDivEnabled=function(){return this.mIsCollapseEmptyDivEnabled},Tag.prototype.isCollapseDivBeforeAdFetchEnabled=function(){return this.mIsCollapseDivBeforeAdFetchEnabled},Tag.prototype.setDAT=function(e){this.mDAT=e},Tag.prototype.enableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")<0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname+".bottom")},Tag.prototype.disableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")>0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname.replace(".bottom",""))},Tag.prototype.overrideTarget=function(e){this.mTarget||(this.mTarget={}),this.mTarget.dfpkeyname=e},Tag.prototype.overrideTargetKval=function(e){this.mTarget||(this.mTarget={}),this.mTarget.kval=null==e?[]:e.split(";")},Tag.prototype.getNativLayout=function(){return this.mNativeLayout},Tag.prototype.setNativLayout=function(e){null!=e&&(this.mNativeLayout=e)},Tag.prototype.getMinWidthHeight=function(){if(null==this.mAdSize||null==this.mAdSize)return this.mAdSize;var e=this.mAdSize.split(","),t=0,i=0;return e.length>0&&e.forEach((function(e){if(e&&e.indexOf("x")>0){var n=e.split("x"),r=parseInt(n[0]),s=parseInt(n[1]);(r>10&&r<i||0==i)&&(i=r),(s>10&&s<t||0==t)&&(t=s)}})),t>0&&i>0?i+"x"+t:this.mAdSize},Tag}();exports.default=Tag},756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.mIsPlacementEligibleForRendering=!1;try{var i=JSON.parse(e);this.mLogicalOperator=i.logicalOperator,this.mChildren=i.children,this.mTemplate=t}catch(e){throw new Error(e.message)}}return e.prototype.calculatePlacementEligibility=function(){var e=this.mTemplate.getCustomVariables();if(e&&0!=e.length)try{for(var t=0;t<this.mChildren.length;++t){for(var i=this.mChildren[t].children,n=this.mChildren[t].logicalOperator,r=!1,s=0;s<i.length;++s){var a=e[i[s].operand];if(a){var o=a.getValue();switch(i[s].operator){case"EQUAL":r=""+o==i[s].comparator;break;case"NOT_EQUAL":r=!(!i[s].comparator||""+o==i[s].comparator);break;case"GRATER_THAN":r=o>i[s].comparator;break;case"LESS_THAN":r=o<i[s].comparator;break;case"REG_EX":r=!(!i[s].comparator||!o.match(new RegExp(i[s].comparator,"g")))}if("OR"==n){if(r)break}else if(!r)break}}if(this.mIsPlacementEligibleForRendering=r,"OR"==this.mLogicalOperator){if(this.mIsPlacementEligibleForRendering)break}else if(!this.mIsPlacementEligibleForRendering)break}}catch(e){throw new Error("Error in Placement Targeting: "+e.message)}},e.prototype.isIsPlacementEligibleForRendering=function(){return this.mIsPlacementEligibleForRendering},e.prototype.recalculatePlacementEligibility=function(){this.calculatePlacementEligibility()},e}();t.default=i},23:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(973),o=i(620),l=i(979),d=i(467),m=function(){function e(t,n,r){var s=this;this.sha1=i(738),this.Promise=i(702).Promise,this.mPageUrl="",this.mGlobalConfig={},this.mIsDebugModeEnabled=!1,this.mIsUserFromGDPRCountry=!0,this.mIsUserFromUSPState=!0,this.mUSPStatus=a.USPStatus.NOT_APPLICABLE,this.mShowDFPNonPersonalizedAd=!1,this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mUSPCookieName="usprivacy",this.mDisabledSsps=[],this.mSspsLogsParams={},this.mIsSingleRequestEnabled=!0,this.mIsInitialLoadDisabled=!0,this.mPlacements=[],this.mTargetData={},this.mKeyVal={},this.mGlobalTarget=null,this.mUid="",this.mICFID="",this.mPixelSegment={},this.mPublisherType="ADVANCE",this.mAutoRefreshConfig={},this.mSSPConfig={},this.mPredictiveConfig={},this.mPrebidSSPIgnoreList=[],this.mSSPFetchBidsStartTime=0,this.mIsKruxEnabled=!1,this.mIsKruxScriptDropped=!1,this.mKruxTimeout=0,this.mKruxSegmentIds=[],this.mPublisherKval={},this.mMaxTile=1,this.mPreloads=[],this.mPostloads=[],this.mCustomVariable={},this.mUnrenderedPlacementIds=[],this.mIsAllPlacementRendered=!1,this.mLastDFPCallTime=null,this.mTargetRulesDropped=[],this.mTargetRuleTimeout=0,this.mDoubleVerifyData={},this.mOnViewBuffer=null,this.mOnLoadTagsRender={},this.mRealTimeTagsRender={},this.mCustomTagsToRender={},this.mTagsToRefresh={},this.mCmpVersion=0,this.mCmpConsentDataObject={},this.mCmpVendorConsentDataObject={},this.mCmpTcString="",this.mCmpVersion2NotSuppostedSSPs=[],this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,this.mIsPredictiveEnabled=!1,this.mWaitingForPredictive=!1,this.mFunctionWaitingForPredictive=[],this.mAdvancePlacementsWaitingForTarget=[],this.mAdvancePlacementsWaitingForGdprCmpData=[],this.mNativeLayout={},this.mSponsorPagePath="",this.mUserCookieType=null,this.cFirstPartyId="IC_FID",this.cThirstPartyId="IC_TID",this.cUserCookie="IC_USER_COOKIE",this.mSspAdapterDownloadInterval=10,this.mSspAdapterDownloadTimeout=200,this.sspRotationEnabledSsps=[],this.fetchBidsDelay=!0,this.mSspAdapterDownloadtimer=0,this.s2sBidders=[],this.IsPrebidS2SEnabled=!0,this.mSovrnScriptDropPercentage=0,this.mSovrnUidModuleEnabled=!1,this.mEmptyHashedEmailExpiry=30,this.mValidHashedEmailExpiry=1440,this.mId5UidModule={},this.mConnectUidModule={},this.myWorker=this.createWorker(a.Constant.PREDICTIVE_BASE_URL+"predictive_worker.js"),this.isPredictiveWorkerLoaded=!1,this.workerPredict=function(e){return new Promise((function(t,i){var n=new MessageChannel;n.port1.onmessage=function(e){var r=e.data;n.port1.close(),r.error?i(r.error):t(r[1])},s.myWorker&&null!=s.myWorker&&s.myWorker.postMessage(["Predict",JSON.stringify(e)],[n.port2])}))};var o=a.Utility.getInstance();try{var l=o.getFromSessionStorage("ic_uat_debug");l&&"true"==l&&(this.mIsDebugModeEnabled=!0)}catch(e){console.log(e)}if(o.initializeGA(),e.mApiKey=t,this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Template Constructor Called. ApiKey: "+t),n&&(this.mGlobalConfig=n),this.mGlobalConfig&&"page_url"in this.mGlobalConfig&&0!=this.mGlobalConfig.page_url.indexOf("%%PATTERN:url%%")?(this.mUrl=this.mGlobalConfig.page_url,this.mPageUrl=this.mGlobalConfig.page_url):this.mUrl=a.Utility.window.location.href,this.mDocumentType=e.calculateDocumentType(),this.mReferer=e.calculateReferer(this.mDocumentType),this.mGlobalConfig&&"show_no_ads"in this.mGlobalConfig&&1==this.mGlobalConfig.show_no_ads){this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("show_no_ads flag passed"),this.mPageId=this.generatePageId();var d=this.getPageLog(-1,!1);d.adBlockerStatus=a.AdBlockerStatus.NA;var m=a.Utility.getInstance();m.setGDPRStatus(!0),m.setUSPStatus(a.USPStatus.INPROGRESS),m.preparePageLog(d),m.triggerPageLog()}else{e.mAPIReady=a.APIStatus.INPROGRESS,this.registerGlobalErrorEvent();var u=o.updateUrlIfTranslator(this.mDocumentType,this.mUrl);u&&(this.mUrl=u),this.mICFID=o.getFromLocalStorage(this.cFirstPartyId);var p=o.getFromLocalStorage(this.cUserCookie);p&&null!=p?this.mUserCookieType=p:navigator.cookieEnabled?this.mUserCookieType="fa":this.mUserCookieType="n",this.mICFID||null!==this.mICFID||(this.mICFID=this.generateUUID()),r?(this.createTemplate(r),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Prepared the page object."),this.mWaitingForGdprCmpData||this.mIsGDPRApplicable||(e.mAPIReady=a.APIStatus.READY,a.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):this.getTemplateData(e.mApiKey)}}return e.prototype.predictiveReadyCallback=function(){this.executePredictiveTimeout()},e.prototype.createWorker=function(e){var t=null;try{var i;try{i=new Blob(["importScripts('"+e+"');"],{type:"application/javascript"})}catch(t){console.log("Exception: Worker loaing failed new Blob([importScripts(URL)])",t);var n=new(a.Utility.window.BlobBuilder||a.Utility.window.WebKitBlobBuilder||a.Utility.window.MozBlobBuilder);n.append("importScripts('"+e+"');"),i=n.getBlob("application/javascript")}var r=(window.URL||window.webkitURL).createObjectURL(i);t=new Worker(r)}catch(e){this.mWaitingForPredictive=!1,console.log("Exception: Worker loaing failed completely",e)}return t},e.prototype.dropPredictiveScript=function(){var t=this;this.myWorker&&null!=this.myWorker&&(this.myWorker.onmessage=function(e){"PredictiveInitialized"===e.data[0]&&(t.mWaitingForPredictive=!1,t.isPredictiveWorkerLoaded=!0,t.executePredictiveTimeout())},this.myWorker.postMessage(["apiKey",e.mApiKey]))},e.prototype.predictiveScriptLoaded=function(){var t=this;"undefined"!=typeof IC_Predictive&&(this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Initiating Predictive."),a.Utility.window.ICPredictiveReadyCallback=function(){t.predictiveReadyCallback()},IC_Predictive.initiate(e.mApiKey,a.Constant.PREDICTIVE_BASE_URL+"model/","ICPredictiveReadyCallback"))},e.prototype.registerGlobalErrorEvent=function(){a.Utility.ICJQuery(document).on("IC_JSErrorEvent",(function(e,t){!t&&e&&e.detail&&(t=e.detail)}))},e.prototype.registerUnloadEvent=function(){var e=this;a.Utility.ICJQuery(window).on("load",(function(){onbeforeunload=function(){var t=e;o.SSP.getInstance()&&o.SSP.getInstance().getPrebid()&&o.SSP.getInstance().getPrebid().triggerUserTrackingLogs(!0),setTimeout((function(){t.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage(" Windows unloading initiated.")}),1e3)}}))},e.prototype.getTemplateData=function(t){var i=this,n="",r=a.Utility.getInstance();try{n=r.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}var s="";try{s=a.Utility.getInstance().getUspString(this.mUSPCookieName,!0)}catch(e){console.log(e)}try{var o=a.Constant.UAT_DATA_URL+"/"+t+"?browsersize="+a.Utility.getInstance().getBrowserSize();if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var l=window.location.search,d=new URLSearchParams(l),m=d.get("icfiltertype");if(m&&"performance"==m){var u=d.get("icfilter");u&&(o+="&icfilter="+u+"&icfiltertype="+m)}}o+="&consentsknown="+n+"&usprivacy="+s,this.mGlobalConfig&&"gpdr_applies"in this.mGlobalConfig&&(o+="&gdprapplies="+encodeURIComponent(this.mGlobalConfig.gpdr_applies)),this.mGlobalConfig&&"page_category"in this.mGlobalConfig&&(o+="&pagecategory="+encodeURIComponent(this.mGlobalConfig.page_category.toLowerCase())),o+="&pageurl="+encodeURIComponent(this.mUrl),a.Utility.ICJQuery.support.cors=!0,a.Utility.ICJQuery.ajax({url:o,async:!0,dataType:"json",xhrFields:{withCredentials:!0},type:"GET",success:function(n){n?(i.createTemplate(n),i.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Prepared the page object."),i.mWaitingForGdprCmpData||i.mIsGDPRApplicable||(e.mAPIReady=a.APIStatus.READY,a.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):(i.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Received invalid data from Server"),a.Utility.getInstance().ic_ga_event("getTemplateData_invalidData",a.Utility.getInstance().prepareGALabel(t,i.mPageId,"Received invalid data from Server")))},error:function(e,n,r){console.log("getTemplateData_error: ",r),a.Utility.getInstance().ic_ga_event("getTemplateData_error",a.Utility.getInstance().prepareGALabel(t,i.mPageId,e.status+":"+e.statusText+":"+e.responseText+" $# "+n+" $# "+r))}})}catch(e){console.log("Gettemplatedata :: error: ",e),a.Utility.getInstance().ic_ga_event("getTemplateData",a.Utility.getInstance().prepareGALabel(t,this.mPageId,e.message))}},e.prototype.checkAndLoadSSPLib=function(e){try{var t=e+"BidAdapter.js",i="IC_BidAdapterScript_"+e,n=a.Constant.UAT_PREBID_VERSION_URL+t;a.Utility.getInstance().dropScripts(this.mDocumentType,n,t,this.mIsDebugModeEnabled,i,!0,!1)}catch(e){}},e.prototype.dropSovrnScript=function(e){var t=!1;if(1==e?1==a.Utility.getInstance().calculateRandomAppliedPercentage(this.mSovrnScriptDropPercentage)&&(t=!0):t=!0,1==t&&this.mSovrnUidModuleEnabled)try{var i="sovrnScript",n=a.Constant.SOVRN_UID_SOLTUION_URL;a.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,i,this.mIsDebugModeEnabled)||a.Utility.getInstance().dropScripts(this.mDocumentType,n,"Sovrn Script js",this.mIsDebugModeEnabled,i,!1,!0)}catch(e){}},e.prototype.dropId5Script=function(){if("IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled)try{var e="Id5Script",t=a.Constant.ID5_UID_SOLTUION_URL;a.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,e,this.mIsDebugModeEnabled)||a.Utility.getInstance().dropScripts(this.mDocumentType,t,"ID5 Script js",this.mIsDebugModeEnabled,e,!1,!0)}catch(e){}},e.prototype.dropConnectUidScript=function(){if("IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled){var t=e.getConnectUserId();if(""==t||null==t)try{this.dropUserIdScript(),e.mConnectUidEnabled=!0;var i="connectIdSystem.js",n="ConnectIDScript",r=a.Constant.UAT_PREBID_VERSION_URL+i;a.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,n,this.mIsDebugModeEnabled)||a.Utility.getInstance().dropScripts(this.mDocumentType,r,i,this.mIsDebugModeEnabled,n,!1,!0)}catch(e){}}},e.prototype.dropUserIdScript=function(){try{var e="userId.js",t="UserIDScript",i=a.Constant.UAT_PREBID_VERSION_URL+e;a.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,t,this.mIsDebugModeEnabled)||a.Utility.getInstance().dropScripts(this.mDocumentType,i,e,this.mIsDebugModeEnabled,t,!1,!0)}catch(e){}},e.getConnectUserId=function(){var e="",t=a.Utility.getInstance();if(t.isLocalStorageSupported())try{var i=t.getFromLocalStorage(this.mConnectIdLocalStorageName);if(null!=i&&""!=i){var n=JSON.parse(decodeURIComponent(i));"connectid"in n&&(e=n.connectid)}}catch(t){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+e+" :: ERROR :: "+t)}return e},e.prototype.getTargetKvalData=function(e,t,i){var n=this;return void 0===t&&(t=!1),null==this.mGlobalTarget&&null==this.mGlobalTarget&&(e in this.mTargetData||(this.mTargetData[e]={Status:"IN-PROGRESS",Data:null},a.Utility.ICJQuery.ajax({url:a.Constant.UAT_TARGET_KVAL_URL+e,async:!0,type:"GET",success:function(e){return r(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.updateTargetKval(e)];case 1:return t.sent(),[2]}}))}))},error:function(){n.mTargetData[e].Status="FAILED",t?n.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND,a.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND.toString()+"("+e+")"):i?n.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND,a.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND.toString()+"("+e+")"):n.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND,a.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND.toString()+"("+e+")")}})),!0)},e.prototype.getNativeLayoutData=function(e){var t=this;return e in this.mNativeLayout||(this.mNativeLayout[e]={Status:"IN-PROGRESS",Data:null},a.Utility.ICJQuery.ajax({url:a.Utility.FormatString(a.Constant.UAT_NATIVELAYOUT_URL,this.mSite.getSiteId().toString(),e.toString()),async:!0,type:"GET",success:function(e){return r(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.updateNativeLayout(e)];case 1:return t.sent(),[2]}}))}))},error:function(){t.mNativeLayout[e].Status="FAILED",t.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND,a.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND.toString()+"("+e+")")}})),!0},e.prototype.prepareListOfEnabledS2sSsp=function(){try{if(!this.IsPrebidS2SEnabled)return void(this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Prebid S2S is Disabled"));for(var t=o.SSP.getListOfSsps(),i=0;i<t.length;){var n=t[i];if(this.sspRotationEnabledSsps.indexOf(n)>-1)i++;else{switch(n){case"appnexus":var r=this.mSite.getAppnexus();"IsEnabled"in r&&1==r.IsEnabled&&"IsS2SEnabled"in r&&1==r.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareAppnexusConfig(!0));break;case"rubicon":var s=this.mSite.getRubicon();"IsEnabled"in s&&1==s.IsEnabled&&"IsS2SEnabled"in s&&1==s.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareRubiconConfig(!0));break;case"pubmatic":var l=this.mSite.getPubmatic();"IsEnabled"in l&&1==l.IsEnabled&&"IsS2SEnabled"in l&&1==l.IsS2SEnabled&&(this.s2sBidders.push(n),this.preparePubmaticConfig(!0));break;case"openx":var d=this.mSite.getOpenx();"IsEnabled"in d&&1==d.IsEnabled&&"IsS2SEnabled"in d&&1==d.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareOpenxConfig(!0));break;case"criteo":var m=this.mSite.getCriteo();"IsEnabled"in m&&1==m.IsEnabled&&"IsS2SEnabled"in m&&1==m.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareCriteoConfig(!0));break;case"sovrn":var u=this.mSite.getSovrn();"IsEnabled"in u&&1==u.IsEnabled&&"IsS2SEnabled"in u&&1==u.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareSovrnConfig(!0));break;case"yieldmo":var p=this.mSite.getYieldmo();"IsEnabled"in p&&1==p.IsEnabled&&"IsS2SEnabled"in p&&1==p.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareYieldmoConfig(!0));break;case"aol":var c=this.mSite.getAol();"IsEnabled"in c&&1==c.IsEnabled&&"IsS2SEnabled"in c&&1==c.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareAolConfig(!0));break;case"gumgum":var h=this.mSite.getGumgum();"IsEnabled"in h&&1==h.IsEnabled&&"IsS2SEnabled"in h&&1==h.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareGumgumConfig(!0));break;case"triplelift":var g=this.mSite.getTriplelift();"IsEnabled"in g&&1==g.IsEnabled&&"IsS2SEnabled"in g&&1==g.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareTripleliftConfig(!0));break;case"smartadserver":var f=this.mSite.getSmartAdServer();"IsEnabled"in f&&1==f.IsEnabled&&"IsS2SEnabled"in f&&1==f.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareSmartAdServerConfig(!0));break;case"33across":var S=this.mSite.get33Across();"IsEnabled"in S&&1==S.IsEnabled&&"IsS2SEnabled"in S&&1==S.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepare33AcrossConfig(!0));break;case"improvedigital":var y=this.mSite.getImproveDigital();"IsEnabled"in y&&1==y.IsEnabled&&"IsS2SEnabled"in y&&1==y.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareImproveDigitalConfig(!0));break;case"sharethrough":var b=this.mSite.getShareThrough();"IsEnabled"in b&&1==b.IsEnabled&&"IsS2SEnabled"in b&&1==b.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareShareThroughConfig(!0));break;case"medianet":var T=this.mSite.getMediaNet();"IsEnabled"in T&&1==T.IsEnabled&&"IsS2SEnabled"in T&&1==T.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareMediaNetConfig(!0));break;case"outbrain":var I=this.mSite.getOutbrain();"IsEnabled"in I&&1==I.IsEnabled&&"IsS2SEnabled"in I&&1==I.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareOutbrainConfig(!0));break;case"adaptmx":var v=this.mSite.getAdaptMx();"IsEnabled"in v&&1==v.IsEnabled&&"IsS2SEnabled"in v&&1==v.IsS2SEnabled&&(this.s2sBidders.push("amx"),this.prepareAdaptmxConfig(!0));break;case"automatad":var P=this.mSite.getAutomatad();"IsEnabled"in P&&1==P.IsEnabled&&"IsS2SEnabled"in P&&1==P.IsS2SEnabled&&(this.s2sBidders.push(n),this.prepareAutomatAdConfig(!0))}i++}}e.s2sBiddersList=this.s2sBidders,this.s2sBidders.length>0&&this.checkAndLoadSSPLib("prebidServer"),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("List of Ssp with S2S Enabled ",[this.s2sBidders])}catch(e){}},e.prototype.createTemplate=function(t){var i=this;try{e.setUserActiveTime(),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("pvlogs initiated at :: "+new Date);var n=t;this.cSite=new l.CSite(n.common),this.uSite=new l.USite(n.user),this.mDeviceType=a.DeviceType[this.uSite.getdevice()],this.mCountryCode=this.uSite.getgeo(),this.mRegions=this.uSite.getregion(),this.mBrowser=this.uSite.getbrowser(),this.mSite=new l.Site(n.site);var r=this.mSite.getSSPConfig();if(this.mPredictiveConfig=this.mSite.getPredictive(),"PrebidDedicatedDFPKVAL"in r&&(this.mPrebidSSPIgnoreList=r.PrebidDedicatedDFPKVAL.split(",")),"StackedUnit"in r){var s=JSON.parse(r.StackedUnit);s&&"vertical_enabled"in s&&(e.mStackServeVerticalEnabled=s.vertical_enabled),s&&"horizontal_enabled"in s&&(e.mStackServeHorizontalEnabled=s.horizontal_enabled)}"SspAdapterDownloadTimeout"in r&&(this.mSspAdapterDownloadTimeout=JSON.parse(r.SspAdapterDownloadTimeout)),"SspAdapterDownloadInterval"in r&&(this.mSspAdapterDownloadInterval=JSON.parse(r.SspAdapterDownloadInterval));var o=this.mSite.getAddressability();if("IsEnabled"in o&&1==o.IsEnabled&&"SovrnUidModule"in o){var d=o.SovrnUidModule;"IsEnabled"in d&&1==d.IsEnabled&&(this.mSovrnUidModuleEnabled=d.IsEnabled,"ScriptDropPercentage"in d&&(this.mSovrnScriptDropPercentage=d.ScriptDropPercentage),"EmptyHashedEmailExpiry"in d&&(this.mEmptyHashedEmailExpiry=d.EmptyHashedEmailExpiry),"ValidHashedEmailExpiry"in d&&(this.mValidHashedEmailExpiry=d.ValidHashedEmailExpiry),"StorageName"in d&&""!=d.StorageName&&(e.mPubCommonIdLocalStorageName=d.StorageName))}"IsEnabled"in o&&1==o.IsEnabled&&"Id5UidModule"in o&&(this.mId5UidModule=o.Id5UidModule),"IsEnabled"in o&&1==o.IsEnabled&&"ConnectUidModule"in o&&(this.mConnectUidModule=o.ConnectUidModule,"IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled&&this.dropUserIdScript()),this.mUid=this.uSite.getuid(),this.registerUnloadEvent(),this.getListOfDisabledSSPs(r),this.mUserActivityThrottlerEvent=function(){i.userActivityThrottler()},this.activateActivityTracker(this.mUserActivityThrottlerEvent),this.calculateIsPredictiveEnable()&&(this.dropPredictiveScript(),"Sizes"in this.mPredictiveConfig&&(this.mPredictiveAdSizes=this.mPredictiveConfig.Sizes.split(",")),"Threshold"in this.mPredictiveConfig&&(this.mSspHVPredictiveThreshold=this.mPredictiveConfig.Threshold),"undefined"!=typeof IC_Predictive&&("undefined"==typeof IC_Predictive||"INPROGRESS"!=IC_Predictive.getStatus()&&"UNKNOWN"!=IC_Predictive.getStatus())||(this.mWaitingForPredictive=!0)),this.mIsUserFromUSPState=JSON.parse(this.uSite.getfromUspState());var m=this.mSite.getUSPPrivacy().IsIcUspEnabled;if(this.mSite.getUSPPrivacy().IsEnabled){var u=this.calculateUspString(this.mIsUserFromUSPState,this.mSite.getUSPPrivacy().IsUspOptoutAvailable,m);this.mUSPString=u.uspString,this.mUSPStatus=this.calculateUspStatus(),u.updateCookie&&this.saveUspStringToStorage(m),this.dropUSPWindowFunction(m)}else this.mUSPString="",this.mUSPStatus=a.USPStatus.NOT_APPLICABLE;try{this.mIsDebugModeEnabled&&(a.Utility.getInstance().debugConsoleMessage("USP String calculated successfully ",[this.mUSPString]),a.Utility.getInstance().debugConsoleMessage("USP Status is ",[this.mUSPStatus]))}catch(e){}if(this.dropUSPWindowFunction(m),this.mIsUserFromGDPRCountry=JSON.parse(this.uSite.getfromGDPRCountry()),this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"gpdr_applies"in this.mGlobalConfig){if(this.mDocumentType==a.DocumentType.IFRAME)return void this.triggerBasicPageLog(n.template.templateid);this.processForGdpr(n)}else{try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("GDPR CMP is not applicable.")}catch(e){console.log(e)}this.processData(n,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}}catch(t){console.log("create template :: error :: ",t),a.Utility.getInstance().ic_ga_event("createTemplate",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,t.message))}},e.prototype.processForGdpr=function(e){this.mCmpVersion2NotSuppostedSSPs=this.mSite.getGDPRCMP().non_supported_ssp?this.mSite.getGDPRCMP().non_supported_ssp.toLowerCase().split(","):[];var t=a.Utility.getInstance(),i=this.mSite.getGDPRCMP();i.adTagName=this.mSite.getAdTagName();var n=o.GdprCmp.prepareInstance(i,t,this.mIsDebugModeEnabled,this.mDocumentType,this.mIsUserFromGDPRCountry);if(n.isAnyCMPEnabled())if(this.isGdprConsentsKnown())if(this.isGdprDfpApplicable()){var r=n.getCmpData();this.mCmpVersion=r.cmpVersion,this.mCmpTcString=r.tcString,this.mCmpGdprApplies="true"==r.gdprApplies;try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent and DFP is also applicable.")}catch(e){console.log(e)}this.processData(e,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}else{this.mIsGDPRApplicable=!0,this.triggerBasicPageLog(e.template.templateid);try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent but DFP is Not applicable.")}catch(e){console.log(e)}}else{this.mIsGDPRApplicable=!0,this.triggerBasicPageLog(e.template.templateid);try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}this.mWaitingForGdprCmpData=!0,n.registerGdprCmpCallback(this.gdprCmpCallback.bind(this),e)}else{this.mWaitingForGdprCmpData=!0,this.mIsGDPRApplicable=!0,this.triggerBasicPageLog(e.template.templateid);try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Publisher GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}n.publisherCmpGetConsents(this.publisherGdprCmpCallback.bind(this),e)}},e.prototype.triggerBasicPageLog=function(e){var t=a.Utility.getInstance();this.mPageId=this.generatePageId();var i=this.getPageLog(e,!0);i.adBlockerStatus=a.AdBlockerStatus.NA,t.setGDPRStatus(!0),t.setUSPStatus(a.USPStatus.INPROGRESS),t.preparePageLog(i),t.triggerPageLog()},e.prototype.isGdprConsentsKnown=function(){var e="",t=a.Utility.getInstance();try{e=t.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}return!(!e||"true"!=e.toLowerCase())},e.prototype.isGdprDfpApplicable=function(){var e=a.Utility.getInstance();try{var t=e.getFromLocalStorage(this.mAdmiralDfpApplicableKey);if("true"==t.toLowerCase())return!0;if("false"==t.toLowerCase())return!1}catch(e){console.log(e)}return!0},e.prototype.publisherGdprCmpCallback=function(t,i){this.mCmpVersion=i.cmpVersion,this.mCmpTcString=i.tcString,this.mCmpGdprApplies="true"==i.gdprApplies,this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,a.Utility.getInstance().setGDPRStatus(!1),this.mAdvancePlacementsWaitingForGdprCmpData&&this.mAdvancePlacementsWaitingForGdprCmpData.length>0&&this.renderAdvancePlacements(this.mAdvancePlacementsWaitingForGdprCmpData),this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed(),e.mAPIReady=a.APIStatus.READY,a.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready")},e.prototype.gdprCmpCallback=function(e){var t=this.isGdprDfpApplicable();try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("GDPR CMP, received user consents and DFP is "+(t?"Applicable.":"Not applicable."))}catch(e){console.log(e)}if(t){var i=o.GdprCmp.getInstance().getCmpData();this.publisherGdprCmpCallback(e,i)}},e.prototype.calculateIsPredictiveEnable=function(){return this.mSite.getPredictive()&&this.mSite.getPredictive().IsEnabled?(this.mIsPredictiveEnabled=!0,!0):(this.mIsPredictiveEnabled=!1,!1)},e.prototype.isPredictiveEnabled=function(){return this.mIsPredictiveEnabled},e.prototype.dropUSPWindowFunction=function(e){var t=this;e&&"function"!=typeof a.Utility.window.__uspapi&&(a.Utility.window.__uspapi=function(e,i,n){if("function"==typeof n)return"getUSPData"!==e?n({},!1):n({version:1,uspString:t.mUSPString},!0)})},e.prototype.calculateUspString=function(e,t,i){var n=a.Utility.getInstance().getUspString(this.mUSPCookieName,i),r=!0;return null!=n&&""!=n?(!t&&e&&"N"===n.substring(2,3)&&(n="1NYY",r=!1),e||(r=!1),{uspString:n,updateCookie:r}):(n="1---",e&&(t?n=i?"1YNY":"1YYY":(n="1NYY",r=!1)),{uspString:n,updateCookie:r})},e.prototype.calculateUspStatus=function(){return this.mUSPString&&"Y"!==this.mUSPString.substring(2,3)?a.USPStatus.NOT_APPLICABLE:a.USPStatus.APPLICABLE},e.prototype.saveUspStringToStorage=function(e){var t=a.Utility.getInstance();if(e){var i=2592e3;this.mUSPStatus==a.USPStatus.APPLICABLE&&(i=31536e3),t.saveToLocalStorage(this.mUSPCookieName,this.mUSPString),t.saveToCookie(this.mUSPCookieName,this.mUSPString,i)}},e.checkAndImplementLiveramIdentityLink=function(e){if(""!=e&&null!=e&&"IsEnabled"in e&&1==e.IsEnabled){if(this.isPubmaticIdSolutionEnabled(e))return!1;if(this.isLiverampEnabled(e))return!0}return!1},e.isLiverampEnabled=function(e){if("liverampidentitylink"in e&&null!=e.liverampidentitylink&&""!=e.liverampidentitylink){var t=e.liverampidentitylink;if("IsEnabled"in t&&1==t.IsEnabled&&"pid"in t&&null!=t.pid&&""!=t.pid&&"url"in t&&""!=t.url&&null!=t.url)return!0}return!1},e.isPubmaticIdSolutionEnabled=function(e){if("pubmatic"in e&&null!=e.pubmatic&&""!=e.pubmatic){var t=e.pubmatic;if("IsEnabled"in t&&1==t.IsEnabled&&"profileId"in t&&null!=t.profileId&&""!=t.profileId&&"partnerId"in t&&""!=t.partnerId&&null!=t.partnerId)return!0}return!1},e.prototype.dropUserIdentityScripts=function(){if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=this.mSite.getAddressability()&&null!=this.mSite.getAddressability()){var t=this.mSite.getAddressability();if("IsEnabled"in t&&1==t.IsEnabled){var i=!1;if(e.isPubmaticIdSolutionEnabled(t)){i=!0;var n=t.pubmatic;this.dropPubmaticIdentityScript(n.partnerId,n.profileId)}if(e.isLiverampEnabled(t)){var r=t.liverampidentitylink;i||this.dropIdentityLinkIdSystemScript(),this.dropLiverampIdentityScript(r.url)}}}},e.prototype.dropLiverampIdentityScript=function(e){a.Utility.getInstance().dropScripts(this.mDocumentType,e,"ats.js",this.mIsDebugModeEnabled,"IC_ats",!1,!0)},e.prototype.dropIdentityLinkIdSystemScript=function(){var e="identityLinkIdSystem.js",t=a.Constant.UAT_PREBID_VERSION_URL+e;a.Utility.getInstance().dropScripts(this.mDocumentType,t,e,this.mIsDebugModeEnabled,"IC_BidAdapterScript_identityLinkIdSystem",!0,!1)},e.prototype.dropPubmaticIdentityScript=function(e,t){var i=window.location.href,n="";if(i.indexOf("pwtv=")>0){var r=/pwtv=(.*?)(&|$)/g.exec(i);r.length>=2&&r[1].length>0&&(n="/"+r[1])}var s=a.Constant.PUBMATIC_ID_SOLUTION_URL+e+"/"+t+n+"/pwt.js";a.Utility.getInstance().dropScripts(this.mDocumentType,s,"pwt.js",this.mIsDebugModeEnabled,"IC_pwt",!0,!1)},e.prototype.processData=function(t,i,n){var r="0";try{if(a.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.mUSPStatus==a.USPStatus.NOT_APPLICABLE){try{a.Utility.getInstance().dropICUidIframe()}catch(e){this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("dropICUidIframe method failed. Error Msg: "+e.message),this.mDropICUidIframeEvent=function(){a.Utility.getInstance().dropICUidIframe()},document.addEventListener("DOMContentLoaded",this.mDropICUidIframeEvent,!1)}a.Utility.getInstance().requestUid(this.userIdCallback.bind(this),this.mIsDebugModeEnabled)}r="1",r="1.1",this.mGlobalTarget=null,this.mPixelSegment=null,""!=this.cSite.getglobalTarget()&&null!=this.cSite.getglobalTarget()&&(this.mGlobalTarget=this.cSite.getglobalTarget()),this.mAutoTargetStatus=this.cSite.getautoTargetStatus(),null!=this.cSite.getkeyValues()&&""!=this.cSite.getkeyValues()&&(this.mKeyVal=JSON.parse(this.cSite.getkeyValues())),r="2",""!=this.cSite.getpixelSegment()&&null!=this.cSite.getpixelSegment()&&(this.mPixelSegment=this.cSite.getpixelSegment()),r="3";var s=t.template;if(this.mIsSingleRequestEnabled=s.singleRequestEnabled,this.mIsInitialLoadDisabled=s.initialLoadDisabled,this.mSponsorPagePath=s.sponsorPagePath,r="4",o.DATManager.dropDFPScript(),this.mDocumentType==a.DocumentType.IFRAME){var d=document.referrer;this.mPageUrl&&this.mPageUrl.length>0&&(d=this.mPageUrl),o.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=a.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),a.Utility.getInstance(),this,d)}else o.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=a.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),a.Utility.getInstance(),this,this.mPageUrl);if(r="4.1",this.mSite.getKrux()&&this.mSite.getKrux().IsEnabled&&(this.mIsKruxEnabled=!0,"DataId"in this.mSite.getKrux()&&(this.mKruxDataId=this.mSite.getKrux().DataId),"timeout"in this.mSite.getKrux()&&(this.mKruxTimeout=1e3*+this.mSite.getKrux().timeout),"Segments"in this.mSite.getKrux()&&(this.mKruxSegmentIds=this.mSite.getKrux().Segments.split(","))),"targetrule_timeout"in t.uatConfig&&(this.mTargetRuleTimeout=1e3*+t.uatConfig.targetrule_timeout),"pageview_log_interval"in t.uatConfig){var m=t.uatConfig.pageview_log_interval;try{m&&""!=m&&(e.mPVLogInterval=JSON.parse(m))}catch(e){}}r="5";var u=!0;this.mDocumentType!=a.DocumentType.IFRAME&&a.Utility.window.top.IC_PAGE_ID&&(u=!1),this.initialiseObject();var p=s.templateid,c=this.getPageLog(p,!0);if(this.createSspReqLogsObject(),u)if(a.Utility.window.Krux&&a.Utility.window.Krux.segments&&(this.setKruxUserSegments(a.Utility.window.Krux.segments.toString()),c.kruxSegments=a.Utility.window.Krux.segments.toString()),this.mSite.isAdmiralAdblockerEnabled()&&this.mDocumentType!=a.DocumentType.IFRAME){o.GdprCmp.dropAdmiralScript(this.mSite.getGDPRCMP().Admiral.url,this.mSite.getAdTagName(),this.mDocumentType,!1,this.mIsUserFromGDPRCountry),a.Utility.getInstance().preparePageLog(c);var h=window;this.mDocumentType==a.DocumentType.FRIENDLYFRAME&&(h=window.top),h.admiral("after","measure.detected",(function(e){e.adblocking?c.adBlockerStatus=a.AdBlockerStatus.IP:e.whitelisted?c.adBlockerStatus=a.AdBlockerStatus.WP:e.adblocking||e.whitelisted||(c.adBlockerStatus=a.AdBlockerStatus.NP),a.Utility.getInstance().preparePageLog(c),a.Utility.getInstance().triggerPageLog()}))}else c.adBlockerStatus=a.AdBlockerStatus.NA,a.Utility.getInstance().preparePageLog(c),a.Utility.getInstance().triggerPageLog();else a.Utility.window.Krux&&a.Utility.window.Krux.segments&&this.setKruxUserSegments(a.Utility.window.Krux.segments.toString()),this.mSite.isAdmiralAdblockerEnabled()&&this.mDocumentType!=a.DocumentType.IFRAME&&o.GdprCmp.dropAdmiralScript(this.mSite.getGDPRCMP().Admiral.url,this.mSite.getAdTagName(),this.mDocumentType,!1,this.mIsUserFromGDPRCountry);if(r="5.1",this.dropUserIdentityScripts(),this.mSSPConfig.addressability=this.mSite.getAddressability(),this.isDoubleVerifyEnabled(this.mSite.getDoubleVerify()))try{this.cSite.getdoubleVerify()&&""!=this.cSite.getdoubleVerify()&&null!=this.cSite.getdoubleVerify()&&(this.mDoubleVerifyData=JSON.parse(this.cSite.getdoubleVerify()),"bsc"in this.mDoubleVerifyData&&(this.mDoubleVerifyData.bsc=this.mDoubleVerifyData.bsc.map(String)))}catch(e){console.log(e)}r="6",this.mOnViewBuffer=t.uatConfig.onview_buffer,r="7",this.mDFPCallBufferTime=t.uatConfig.dfpcall_buffer_time,r="8",this.prepareAutoRefreshConfig(this.mSite.getAutoRefreshConfig()),r="9",this.prepareSSPConfig(this.mSite.getSSPConfig(),t.uatConfig),r="10",this.prepareListOfEnabledS2sSsp(),r="10.1",this.prepareAndPassHashedEmails(),r="10.2",this.mPreloads=s.preloads,r="11",this.mPostloads=s.postloads,r="12";for(var g=this.mUSPStatus==a.USPStatus.NOT_APPLICABLE,f=0;f<s.customVariables.length;++f){var S=new l.CustomVariable(s.customVariables[f],g,this);r="13."+f,this.mCustomVariable[S.getName()]=S,r="14."+f}for(var y=0;y<s.placements.length;++y){this.mPlacements.length<=0&&(this.mPublisherType="TAGLESS");var b=s.placements[y];if(r="15."+y,null!=b.devices&&null!=i&&b.devices.indexOf(i)<0)this.pushPlacementErrorLog(b.id,b.placementType,0,this.mPublisherType,a.ErrorType.DEVICE_TARGETING_FAILED);else if(r="16."+y,null!=b.geolocations&&null!=n&&b.geolocations.indexOf(n)<0)this.pushPlacementErrorLog(b.id,b.placementType,0,this.mPublisherType,a.ErrorType.GEO_TARGETING_FAILED);else{r="17."+y;var T=void 0;try{T=new l.Placement(b,this,"TAGLESS"),r="18."+y}catch(e){this.pushPlacementErrorLog(b.id,b.placementType,0,this.mPublisherType,a.ErrorType.UNKNOW_ERROR,"Error creating placment object: "+e.message);continue}this.mPlacements[this.mPlacements.length]=T,r="19."+y,T.getLoadType()!=a.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=T.getId()),r="20."+y}}this.mPlacements.sort((function(e,t){return e.getPriority()-t.getPriority()})),r="21";var I=null;null!=this.mGlobalTarget&&this.mGlobalTarget.dfpkeyname&&(I=this.mGlobalTarget.dfpkeyname);for(var v=0;v<this.mPlacements.length;++v){if(this.mPlacements[v].initialiseObject(this.getMaxTile()),r="22."+v,null==I&&this.mPlacements[v].getType()==a.PlacementType.HTML){var P=this.mPlacements[v].getTagToRender();P.getType()!=a.TagType.DISPLAY&&P.getType()!=a.TagType.NATIVE||null==P.getTargetName()||(I=P.getTargetName())}r="23."+v}o.DMP.getInstance().addKruxProperty("zone",I)}catch(t){console.log("processData :: error :: ",t),a.Utility.getInstance().ic_ga_event("processData",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,r+") "+t.message))}},e.getBrowserUrl=function(){var t=e.calculateDocumentType(),i=a.Utility.window.location.href,n=a.Utility.getInstance().updateUrlIfTranslator(t,i);return n&&(i=n),i},e.prototype.pushPlacementErrorLog=function(t,i,n,r,s,o){var l=s.toString();o&&(l=o);var d=e.getBrowserUrl();a.Utility.getInstance().pushToErrorLog({device:this.getDeviceType(),apiKey:e.getAPIKey(),placementId:""+t,placementType:i,publisherType:r,pageId:""+this.getPageId(),rnd:""+n,documentType:this.mDocumentType,errorCode:a.Utility.getInstance().getErrorTypeKeyFromValue(s),errorDetail:l,kval:encodeURIComponent("bs:"+a.Utility.getInstance().getBrowserSize()),version:a.Constant.VERSION,uspstring:this.mUSPString,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(d)})},e.pushAPILog=function(t,i,n){var r=e.getBrowserUrl(),s=e.calculateDocumentType(),o=t.toString();o+=i,n||(n="null"),a.Utility.getInstance().pushToAPILog({apiKey:e.getAPIKey(),publisherType:"ADVANCE",pageId:n,documentType:s,errorCode:a.Utility.getInstance().getErrorTypeKeyFromValue(t),errorDetail:o,kval:encodeURIComponent("bs:"+a.Utility.getInstance().getBrowserSize()),version:a.Constant.VERSION,refererUrl:encodeURIComponent(e.calculateReferer(s)),pageUrl:encodeURIComponent(r)})},e.prototype.getPageLog=function(t,i){var n=e.getBrowserUrl();return{apiKey:e.getAPIKey(),templateId:t,pageId:this.mPageId,documentType:this.mDocumentType,publisherConfig:this.mGlobalConfig,isUatEnabled:i,adBlockerStatus:a.AdBlockerStatus.SK,version:a.Constant.VERSION,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(n)}},e.prototype.prepareAutoRefreshConfig=function(t){try{if(null==t)return;if(this.mDocumentType==a.DocumentType.IFRAME||this.mDocumentType==a.DocumentType.FRIENDLYFRAME&&parent!=top)return void(this.mAutoRefreshConfig.IsEnabled=!1);if(this.mAutoRefreshConfig.AdvertisersIndirect=t.AdvertisersIndirect,this.mAutoRefreshConfig.DisabledCampaigns=t.DisabledCampaigns,this.mAutoRefreshConfig.IsEnabled=t.IsEnabled,"Rules"in t){var i=t.Rules;i&&null!=i&&(this.mAutoRefreshConfig.Rules=i)}}catch(t){console.log(t),a.Utility.getInstance().ic_ga_event("prepareAutoRefreshConfig",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,t.message))}},e.prototype.loadSSPConfig=function(e,t,i){var n;if(!(e in this.mSSPConfig))return i.isEnabled&&((n={}).IsEnabled=!0,"Stack_HV_Id"in t&&(n.Stack_HV_Id=t.Stack_HV_Id),"Stack_Id"in t&&(n.Stack_Id=t.Stack_Id),"HV_Id"in t&&(n.HV_Id=t.HV_Id),"HV_Tpc_Id"in t&&(n.HV_Tpc_Id=t.HV_Tpc_Id),"Tpc_Id"in t&&(n.Tpc_Id=t.Tpc_Id),"Stack_HV_Tpc_Id"in t&&(n.Stack_HV_Tpc_Id=t.Stack_HV_Tpc_Id),"Stack_Tpc_Id"in t&&(n.Stack_Tpc_Id=t.Stack_Tpc_Id),"Default"in t&&(n.Default=t.Default),"Adhesion"in t&&(n.Adhesion=t.Adhesion),"Adhesion_Tpc_Id"in t&&(n.Adhesion_Tpc_Id=t.Adhesion_Tpc_Id),"Stack_Adhesion"in t&&(n.Stack_Adhesion=t.Stack_Adhesion),"Stack_Adhesion_Tpc_Id"in t&&(n.Stack_Adhesion_Tpc_Id=t.Stack_Adhesion_Tpc_Id),"adSizes"in i&&(n.adSizes=i.adSizes),"adsizes"in t&&(n.globalAdSizes=t.adsizes.split(","))),n},e.prototype.getSSPStatus=function(e,t){if(this.mDocumentType==a.DocumentType.IFRAME||this.mUSPStatus!=a.USPStatus.NOT_APPLICABLE)return{isEnabled:!1};if(!this.mSSPConfig.enabled||this.mDisabledSsps.indexOf(e)>-1)return{isEnabled:!1};if(!this.isSSPSupportsCurrentCMPVersion(e))return{isEnabled:!1};if(t&&!t.IsEnabled)return{isEnabled:!1};var i,n=!0;if("adsizes"in t&&(i=t.adsizes),t&&"SspTargeting"in t){var r=this.parseSspRules(t.SspTargeting,!0);"result"in r&&(n=r.result),"resultArray"in r&&null!=r.resultArray&&r.resultArray.length>0&&(i=r.resultArray.toString())}return n?{isEnabled:!0,adSizes:i}:{isEnabled:!1}},e.prototype.prepareA9Config=function(){if(!("a9"in this.mSSPConfig)){var e=this.getSSPStatus("a9",this.mSite.getA9());e.isEnabled&&(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!0,this.mSSPConfig.a9.timeout=this.mSSPConfig.totalDelay-100,this.mSSPConfig.a9.refreshTimeout=this.mSSPConfig.totalDelayRefresh-100,"deals"in this.mSite.getA9()?this.mSSPConfig.a9.deals=this.mSite.getA9().deals:this.mSSPConfig.a9.deals=!1,"adSizes"in e&&(this.mSSPConfig.a9.adSizes=e.adSizes,"adsizes"in this.mSite.getA9()&&(this.mSSPConfig.a9.globalAdSizes=this.mSite.getA9().adsizes.split(","))))}},e.prototype.isSSPSupportsCurrentCMPVersion=function(e){return!(2==this.mCmpVersion&&this.mCmpVersion2NotSuppostedSSPs.length>0&&this.mCmpVersion2NotSuppostedSSPs.indexOf(e.toLowerCase())>-1)},e.prototype.disableA9=function(){"a9"in this.mSSPConfig||(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!1)},e.prototype.prepareAppnexusConfig=function(e){if(!("appnexus"in this.mSSPConfig)){var t=this.getSSPStatus("appnexus",this.mSite.getAppnexus());t.isEnabled&&(e||this.checkAndLoadSSPLib("appnexus"),this.mSSPConfig.appnexus=this.loadSSPConfig("appnexus",this.mSite.getAppnexus(),t))}},e.prototype.disableAppnexus=function(){"appnexus"in this.mSSPConfig||(this.mSSPConfig.appnexus={},this.mSSPConfig.appnexus.IsEnabled=!1)},e.prototype.prepareOpenxConfig=function(e){if(!("openx"in this.mSSPConfig)){var t=this.getSSPStatus("openx",this.mSite.getOpenx());t.isEnabled&&(e||this.checkAndLoadSSPLib("openx"),this.mSSPConfig.openx=this.loadSSPConfig("openx",this.mSite.getOpenx(),t),this.mSSPConfig.openx.delDomain=this.mSite.getOpenx().DelDomain)}},e.prototype.disableOpnex=function(){"openx"in this.mSSPConfig||(this.mSSPConfig.openx={},this.mSSPConfig.openx.IsEnabled=!1)},e.prototype.prepareRubiconConfig=function(e){if(!("rubicon"in this.mSSPConfig)){var t=this.getSSPStatus("rubicon",this.mSite.getRubicon());t.isEnabled&&"SiteId"in this.mSite.getRubicon()&&(e||this.checkAndLoadSSPLib("rubicon"),this.mSSPConfig.rubicon=this.loadSSPConfig("rubicon",this.mSite.getRubicon(),t),this.mSSPConfig.rubicon.SiteId=this.mSite.getRubicon().SiteId)}},e.prototype.disableRubicon=function(){"rubicon"in this.mSSPConfig||(this.mSSPConfig.rubicon={},this.mSSPConfig.rubicon.IsEnabled=!1)},e.prototype.preparePubmaticConfig=function(e){if(!("pubmatic"in this.mSSPConfig)){var t=this.getSSPStatus("pubmatic",this.mSite.getPubmatic());t.isEnabled&&(e||this.checkAndLoadSSPLib("pubmatic"),this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!0,this.mSSPConfig.pubmatic.SlotNamePrefix=this.mSite.getPubmatic().SlotNamePrefix,this.mSSPConfig.pubmatic.PublisherId=this.mSite.getPubmatic().PublisherId,"adSizes"in t&&(this.mSSPConfig.pubmatic.adSizes=t.adSizes,"adsizes"in this.mSite.getPubmatic()&&(this.mSSPConfig.pubmatic.globalAdSizes=this.mSite.getPubmatic().adsizes.split(","))))}},e.prototype.disablePubmatic=function(){"pubmatic"in this.mSSPConfig||(this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!1)},e.prototype.prepareCriteoConfig=function(e){if(!("criteo"in this.mSSPConfig)){var t=this.getSSPStatus("criteo",this.mSite.getCriteo());t.isEnabled&&(e||this.checkAndLoadSSPLib("criteo"),this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!0,"NetworkId"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.networkId=this.mSite.getCriteo().NetworkId),"adSizes"in t&&(this.mSSPConfig.criteo.adSizes=t.adSizes,"adsizes"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.globalAdSizes=this.mSite.getCriteo().adsizes.split(","))))}},e.prototype.disableCriteo=function(){"criteo"in this.mSSPConfig||(this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!1)},e.prototype.prepareSovrnConfig=function(e){if(!("sovrn"in this.mSSPConfig)){var t=this.getSSPStatus("sovrn",this.mSite.getSovrn());t.isEnabled&&(e||this.checkAndLoadSSPLib("sovrn"),this.mSSPConfig.sovrn=this.loadSSPConfig("sovrn",this.mSite.getSovrn(),t))}},e.prototype.disableSovrn=function(){"sovrn"in this.mSSPConfig||(this.mSSPConfig.sovrn={},this.mSSPConfig.sovrn.IsEnabled=!1)},e.prototype.prepareYieldmoConfig=function(e){if(!("yieldmo"in this.mSSPConfig)){var t=this.getSSPStatus("yieldmo",this.mSite.getYieldmo());t.isEnabled&&(e||this.checkAndLoadSSPLib("yieldmo"),this.mSSPConfig.yieldmo=this.loadSSPConfig("yieldmo",this.mSite.getYieldmo(),t))}},e.prototype.disableYieldmo=function(){"yieldmo"in this.mSSPConfig||(this.mSSPConfig.yieldmo={},this.mSSPConfig.yieldmo.IsEnabled=!1)},e.prototype.prepare33AcrossConfig=function(e){if(!("across33"in this.mSSPConfig)){var t=this.getSSPStatus("33across",this.mSite.get33Across());t.isEnabled&&(this.mSSPConfig.across33=this.loadSSPConfig("33across",this.mSite.get33Across(),t),e?("zoneId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.zoneId=this.mSite.get33Across().zoneId),"buyerId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.buyerId=this.mSite.get33Across().buyerId)):this.checkAndLoadSSPLib("33across"))}},e.prototype.disable33Across=function(){"across33"in this.mSSPConfig||(this.mSSPConfig.across33={},this.mSSPConfig.across33.IsEnabled=!1)},e.prototype.prepareAolConfig=function(e){if(!("aol"in this.mSSPConfig)){var t=this.getSSPStatus("aol",this.mSite.getAol());t.isEnabled&&(e||this.checkAndLoadSSPLib("aol"),this.mSSPConfig.aol=this.loadSSPConfig("aol",this.mSite.getAol(),t))}},e.prototype.disableAol=function(){"aol"in this.mSSPConfig||(this.mSSPConfig.aol={},this.mSSPConfig.aol.IsEnabled=!1)},e.prototype.prepareGumgumConfig=function(e){if(!("gumgum"in this.mSSPConfig)){var t=this.getSSPStatus("gumgum",this.mSite.getGumgum());t.isEnabled&&(this.mSSPConfig.gumgum=this.loadSSPConfig("gumgum",this.mSite.getGumgum(),t))}},e.prototype.disableGumgum=function(){"gumgum"in this.mSSPConfig||(this.mSSPConfig.gumgum={},this.mSSPConfig.gumgum.IsEnabled=!1)},e.prototype.prepareTripleliftConfig=function(e){if(!("triplelift"in this.mSSPConfig)){var t=this.getSSPStatus("triplelift",this.mSite.getTriplelift());t.isEnabled&&(e||this.checkAndLoadSSPLib("triplelift"),this.mSSPConfig.triplelift=this.loadSSPConfig("triplelift",this.mSite.getTriplelift(),t))}},e.prototype.disableTriplelift=function(){"triplelift"in this.mSSPConfig||(this.mSSPConfig.triplelift={},this.mSSPConfig.triplelift.IsEnabled=!1)},e.prototype.prepareSmartAdServerConfig=function(e){if(!("smartadserver"in this.mSSPConfig)){var t=this.getSSPStatus("smartadserver",this.mSite.getSmartAdServer());t.isEnabled&&(this.mSSPConfig.smartadserver=this.loadSSPConfig("smartadserver",this.mSite.getSmartAdServer(),t),e?"networkId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.networkId=+this.mSite.getSmartAdServer().networkId):this.checkAndLoadSSPLib("smartadserver"),"SiteId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.siteId=+this.mSite.getSmartAdServer().SiteId),this.mSSPConfig.smartadserver.formatId=+this.mSite.getSmartAdServer().FormatId)}},e.prototype.disableSmartAdServer=function(){"smartadserver"in this.mSSPConfig||(this.mSSPConfig.smartadserver={},this.mSSPConfig.smartadserver.IsEnabled=!1)},e.prototype.prepareImproveDigitalConfig=function(e){if(!("improvedigital"in this.mSSPConfig)){var t=this.getSSPStatus("improvedigital",this.mSite.getImproveDigital());t.isEnabled&&(this.mSSPConfig.improvedigital=this.loadSSPConfig("improvedigital",this.mSite.getImproveDigital(),t),e?"partnerId"in this.mSite.getImproveDigital()&&(this.mSSPConfig.improvedigital.partnerId=+this.mSite.getImproveDigital().partnerId):this.checkAndLoadSSPLib("improvedigital"))}},e.prototype.disableImproveDigital=function(){"improvedigital"in this.mSSPConfig||(this.mSSPConfig.improvedigital={},this.mSSPConfig.improvedigital.IsEnabled=!1)},e.prototype.prepareShareThroughConfig=function(e){if(!("sharethrough"in this.mSSPConfig)){var t=this.getSSPStatus("sharethrough",this.mSite.getShareThrough());t.isEnabled&&(e||this.checkAndLoadSSPLib("sharethrough"),this.mSSPConfig.sharethrough=this.loadSSPConfig("sharethrough",this.mSite.getShareThrough(),t))}},e.prototype.disableShareThrough=function(){"sharethrough"in this.mSSPConfig||(this.mSSPConfig.sharethrough={},this.mSSPConfig.sharethrough.IsEnabled=!1)},e.prototype.prepareMediaNetConfig=function(e){if(!("medianet"in this.mSSPConfig)){var t=this.getSSPStatus("medianet",this.mSite.getMediaNet());t.isEnabled&&"customerId"in this.mSite.getMediaNet()&&(e||this.checkAndLoadSSPLib("medianet"),this.mSSPConfig.medianet=this.loadSSPConfig("medianet",this.mSite.getMediaNet(),t),this.mSSPConfig.medianet.customerId=this.mSite.getMediaNet().customerId)}},e.prototype.disableMediaNet=function(){"medianet"in this.mSSPConfig||(this.mSSPConfig.medianet={},this.mSSPConfig.medianet.IsEnabled=!1)},e.prototype.prepareAutomatAdConfig=function(e){if(!("automatad"in this.mSSPConfig)){var t=this.getSSPStatus("automatad",this.mSite.getAutomatad());t.isEnabled&&"siteId"in this.mSite.getAutomatad()&&(e||this.checkAndLoadSSPLib("automatad"),this.mSSPConfig.automatad=this.loadSSPConfig("automatad",this.mSite.getAutomatad(),t),this.mSSPConfig.automatad.siteId=this.mSite.getAutomatad().siteId)}},e.prototype.disableAutomatAd=function(){"automatad"in this.mSSPConfig||(this.mSSPConfig.automatad={},this.mSSPConfig.automatad.IsEnabled=!1)},e.prototype.prepareOutbrainConfig=function(e){if(!("outbrain"in this.mSSPConfig)){var t=this.getSSPStatus("outbrain",this.mSite.getOutbrain());t.isEnabled&&"publisherId"in this.mSite.getOutbrain()&&(e||this.checkAndLoadSSPLib("outbrain"),this.mSSPConfig.outbrain=this.loadSSPConfig("outbrain",this.mSite.getOutbrain(),t),this.mSSPConfig.outbrain.publisherId=this.mSite.getOutbrain().publisherId)}},e.prototype.disableOutbrain=function(){"outbrain"in this.mSSPConfig||(this.mSSPConfig.outbrain={},this.mSSPConfig.outbrain.IsEnabled=!1)},e.prototype.prepareAdaptmxConfig=function(e){if(!("adaptmx"in this.mSSPConfig)){var t=this.getSSPStatus("adaptmx",this.mSite.getAdaptMx());t.isEnabled&&"tagId"in this.mSite.getAdaptMx()?(e||this.checkAndLoadSSPLib("amx"),this.mSSPConfig.adaptmx=this.loadSSPConfig("adaptmx",this.mSite.getAdaptMx(),t),this.mSSPConfig.adaptmx.tagId=this.mSite.getAdaptMx().tagId):t.isEnabled=!1}},e.prototype.disableAdaptmx=function(){"adaptmx"in this.mSSPConfig||(this.mSSPConfig.adaptmx={},this.mSSPConfig.adaptmx.IsEnabled=!1)},e.prototype.isMarkitEnabled=function(e){return"true"==e.markit_enabled&&this.mUSPStatus==a.USPStatus.NOT_APPLICABLE},e.prototype.isDoubleVerifyEnabled=function(e){return!(!this.mSite.getDoubleVerify()||!this.mSite.getDoubleVerify().IsEnabled)},e.prototype.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.prototype.prepareSSPConfig=function(t,i){var n="0";try{n="1",this.mSSPConfig.bidsExpiry=+t.BidsExpiry,this.mSSPConfig.callBufferTime=+t.CallBufferTime,this.mSSPConfig.deviceType=this.mDeviceType,this.mSSPConfig.countryCode=this.mCountryCode,this.mSSPConfig.delayStep=+t.DelayStep,this.mSSPConfig.dfpSiteName=this.mSite.getDFPKeyName(),this.mSSPConfig.adTagName=this.mSite.getAdTagName(),this.mSSPConfig.globalAdSizes=t.GlobalAdSizes.split(","),this.mSSPConfig.isDebugModeEnabled=this.mIsDebugModeEnabled,n="2",this.mCountryCode&&"US"!=this.mCountryCode?(this.mSSPConfig.totalDelay=+t.TotalDelayInternational,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayInternationalRefresh,n="4"):(this.mSSPConfig.totalDelay=+t.TotalDelay,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayRefresh,n="3"),this.isMarkitEnabled(i)&&(this.mSSPConfig.markit={IsEnabled:JSON.parse(i.markit_enabled),DFPKeyName:null==i.markit_dfp_keynames?null:i.markit_dfp_keynames.split(",")}),n="5",this.mSSPConfig.prebid=this.mSSPConfig.prebid||{},this.mSSPConfig.prebid.priceGranularity=JSON.parse(t.PrebidPriceGranularity),this.mSSPConfig.prebid.passConsentManagementConfig=!1,this.mSSPConfig.prebid.cmpVersion=this.mCmpVersion,1==this.mCmpVersion?(this.mSSPConfig.prebid.cmpConsentData=this.mCmpConsentDataObject,this.mSSPConfig.prebid.cmpVendorConsentData=this.mCmpVendorConsentDataObject):2==this.mCmpVersion&&(this.mSSPConfig.prebid.cmpTcString=this.mCmpTcString,this.mSSPConfig.prebid.cmpGdprApplies=this.mCmpGdprApplies),!this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"show_nonpersonalized_ad"in this.mGlobalConfig||(1==this.mCmpVersion&&this.mCmpConsentDataObject&&this.mCmpVendorConsentDataObject&&!a.Utility.ICJQuery.isEmptyObject(this.mCmpConsentDataObject)&&!a.Utility.ICJQuery.isEmptyObject(this.mCmpVendorConsentDataObject)&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0),2==this.mCmpVersion&&this.mCmpTcString&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0)),this.mSSPConfig.prebid.uspString=this.mUSPString,n="6";var r=!1,s=void 0;if(null!=this.mSite.getSSPConfig()){this.mSite.getSSPConfig(),this.mSSPConfig.enabled=!0,this.mSSPConfig.enabledAdSizes=null;try{var l={};l.Rules=t.SspRotation.Rules;var d=this.parseSspRules(l,!1);if("result"in d&&(r=d.result),"resultArray"in d&&null!=d.resultArray&&d.resultArray.length>0){s=d.maxSsps;for(var m=0;m<d.resultArray.length&&s>0;++m){var u=this.getTheSspsFromTier(d.resultArray[m],s);s-=u.length,this.sspRotationEnabledSsps=this.sspRotationEnabledSsps.concat(u)}this.sspRotationEnabledSsps=a.Utility.getInstance().removeDuplicateFromArray(this.sspRotationEnabledSsps)}}catch(e){console.log("IC SSP Rotation failed ::",e)}n="15"}if(this.mSSPConfig.prebid.timeout=this.mSSPConfig.totalDelay-50,this.mSSPConfig.prebid.refreshTimeout=this.mSSPConfig.totalDelayRefresh-50,r&&s&&s>0)for(var p=o.SSP.getListOfSsps();s>0&&p.length>0;){var c=p.length,h=this.getRandomNumber(0,c-1),g=p[h].toLowerCase();p.splice(h,1),this.sspRotationEnabledSsps.indexOf(g)>-1||this.isSspEnabled(g)&&(this.sspRotationEnabledSsps.push(g),--s)}else r||(this.IsPrebidS2SEnabled=!1,this.prepareA9Config(),n="16",this.prepareAppnexusConfig(),n="17",this.prepareAdaptmxConfig(),n="18",this.prepareRubiconConfig(),n="19",this.preparePubmaticConfig(),n="20",this.prepareCriteoConfig(),n="22",this.prepareOpenxConfig(),n="23",this.prepareSovrnConfig(),n="24",this.prepareYieldmoConfig(),n="25",this.prepare33AcrossConfig(),n="26",this.prepareAolConfig(),n="27",this.prepareGumgumConfig(),n="28",this.prepareImproveDigitalConfig(),n="29",this.prepareTripleliftConfig(),n="30",this.prepareSmartAdServerConfig(),n="31",this.prepareShareThroughConfig(),n="32",this.prepareMediaNetConfig(),n="33",this.prepareOutbrainConfig(),n="34",this.prepareAutomatAdConfig(),n="35");if(this.mSSPConfig.s2sConfig={},"S2SConfig"in t){var f=JSON.parse(t.S2SConfig);"accountId"in f&&(this.mSSPConfig.s2sConfig.accountId=f.accountId),"bidderTimeout"in f&&(this.mSSPConfig.s2sConfig.bidderTimeout=f.bidderTimeout),"auctionTimeout"in f&&(this.mSSPConfig.s2sConfig.auctionTimeout=f.auctionTimeout),"timeoutBuffer"in f&&(this.mSSPConfig.s2sConfig.timeoutBuffer=f.timeoutBuffer),"timeout"in f&&(this.mSSPConfig.s2sConfig.timeout=f.timeout)}n="36";try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Enabled SSPs for this page are ",[this.sspRotationEnabledSsps])}catch(e){console.log(e)}n="37"}catch(t){console.log("prepareSSPConfig :: error :: ",t),a.Utility.getInstance().ic_ga_event("prepareSSPConfig",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,n+") "+t.message))}},e.prototype.getTheSspsFromTier=function(e,t){var i=[];try{if("random"==e.rotation.type.toLowerCase())i=this.randomlySelectSspFromArray(e,t);else if("pageview"==e.rotation.type.toLowerCase()){var n=+this.mDFPParams.getViewCount();if(!n)return i;var r=n%e.rotation.pageViewGroupSize;if(0==r&&(r=e.rotation.pageViewGroupSize),e.rotation.pageViewsFromGroup.indexOf(r)>-1)i=this.randomlySelectSspFromArray(e,t);else for(var s=0;s<e.ssps.length;++s)this.disableSsp(e.ssps[s].toLowerCase())}}catch(e){console.log(e)}return i},e.prototype.randomlySelectSspFromArray=function(e,t){for(var i=e.ssps,n=[],r=e.maxSsps;i.length>0;){var s=i.length,a=this.getRandomNumber(0,s-1),o=i[a].toLowerCase();if(i.splice(a,1),this.isSspEnabled(o)&&(n.push(o),--t),n.length==r||0==t)break}return n},e.prototype.isSspEnabled=function(e){switch(e){case"a9":return this.prepareA9Config(),"a9"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.a9&&this.mSSPConfig.a9.IsEnabled;case"appnexus":return this.prepareAppnexusConfig(),"appnexus"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.appnexus&&this.mSSPConfig.appnexus.IsEnabled;case"rubicon":return this.prepareRubiconConfig(),"rubicon"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.rubicon&&this.mSSPConfig.rubicon.IsEnabled;case"pubmatic":return this.preparePubmaticConfig(),"pubmatic"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.pubmatic&&this.mSSPConfig.pubmatic.IsEnabled;case"openx":return this.prepareOpenxConfig(),"openx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.openx&&this.mSSPConfig.openx.IsEnabled;case"criteo":return this.prepareCriteoConfig(),"criteo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.criteo&&this.mSSPConfig.criteo.IsEnabled;case"sovrn":return this.prepareSovrnConfig(),"sovrn"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sovrn&&this.mSSPConfig.sovrn.IsEnabled;case"yieldmo":return this.prepareYieldmoConfig(),"yieldmo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.yieldmo&&this.mSSPConfig.yieldmo.IsEnabled;case"33across":return this.prepare33AcrossConfig(),"across33"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.across33&&this.mSSPConfig.across33.IsEnabled;case"aol":return this.prepareAolConfig(),"aol"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.aol&&this.mSSPConfig.aol.IsEnabled;case"gumgum":return this.prepareGumgumConfig(),"gumgum"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.gumgum&&this.mSSPConfig.gumgum.IsEnabled;case"triplelift":return this.prepareTripleliftConfig(),"triplelift"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.triplelift&&this.mSSPConfig.triplelift.IsEnabled;case"smartadserver":return this.prepareSmartAdServerConfig(),"smartadserver"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.smartadserver&&this.mSSPConfig.smartadserver.IsEnabled;case"improvedigital":return this.prepareImproveDigitalConfig(),"improvedigital"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.improvedigital&&this.mSSPConfig.improvedigital.IsEnabled;case"sharethrough":return this.prepareShareThroughConfig(),"sharethrough"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sharethrough&&this.mSSPConfig.sharethrough.IsEnabled;case"medianet":return this.prepareMediaNetConfig(),"medianet"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.medianet&&this.mSSPConfig.medianet.IsEnabled;case"outbrain":return this.prepareOutbrainConfig(),"outbrain"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.outbrain&&this.mSSPConfig.outbrain.IsEnabled;case"adaptmx":return this.prepareAdaptmxConfig(),"adaptmx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.adaptmx&&this.mSSPConfig.adaptmx.IsEnabled;case"automatad":return this.prepareAutomatAdConfig(),"automatad"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.automatad&&this.mSSPConfig.automatad.IsEnabled}},e.prototype.disableSsp=function(e){switch(e){case"a9":return void this.disableA9();case"appnexus":return void this.disableAppnexus();case"rubicon":return void this.disableRubicon();case"pubmatic":return void this.disablePubmatic();case"openx":return void this.disableOpnex();case"criteo":return void this.disableCriteo();case"sovrn":return void this.disableSovrn();case"yieldmo":return void this.disableYieldmo();case"33across":return void this.disable33Across();case"aol":return void this.disableAol();case"gumgum":return void this.disableGumgum();case"triplelift":return void this.disableTriplelift();case"smartadserver":return void this.disableSmartAdServer();case"improvedigital":return void this.disableImproveDigital();case"sharethrough":return void this.disableShareThrough();case"adaptmx":return void this.disableAdaptmx();case"medianet":return void this.disableMediaNet();case"outbrain":return void this.disableOutbrain();case"automatad":return void this.disableAutomatAd()}},e.prototype.createSspReqLogsObject=function(){this.mSspsLogsParams={pageId:this.getPageId(),apiKey:e.mApiKey,device:this.mDeviceType,siteName:this.mSite.getDFPKeyName(),uspState:this.isUserFromUSPState(),gdprCountry:this.isUserFromGDPRCountry(),region:this.mRegions.join()}},e.prototype.getListOfDisabledSSPs=function(e){var t=[];if("SspTargeting"in e)for(var i=JSON.parse(e.SspTargeting).Rules,n=0;n<i.length;n++){for(var r=i[n].children,s=!1,o=i[n].logicalOperator,l=void 0,d=0;d<r.length;++d)if("DisabledSsps"in r[d])l=r[d].DisabledSsps;else{if(s=this.isChildrenEnable(r[d]),"AND"==o){if(s)continue;break}if("OR"==o){if(s)break;continue}}1==s&&t.push.apply(t,l)}this.mDisabledSsps=t,this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("mDisabledSsps :: ",[this.mDisabledSsps])},e.prototype.parseSspRules=function(e,t){try{for(var i=[],n=!1,r=void 0,s=0;s<e.Rules.length;++s)try{for(var o=e.Rules[s].children,l=e.Rules[s].logicalOperator,d=!0,m=0;m<o.length;++m){if(d=this.isChildrenEnable(o[m]),"AND"==l){if(d)continue;break}if("OR"!=l);else if(d)break}if(n=n||d,d&&(t&&"EnabledAdSizes"in e.Rules[s]&&(i=i.concat(e.Rules[s].EnabledAdSizes)),!t&&"Tiers"in e.Rules[s])){i=e.Rules[s].Tiers,r=e.Rules[s].maxSsps;break}}catch(e){console.log(e)}return i.length>0&&t&&(i=a.Utility.getInstance().removeDuplicateFromArray(i)),{result:n,resultArray:i,maxSsps:r}}catch(e){console.log(e)}return{result:!1}},e.prototype.parseAndGetAutoRefreshConfig=function(t,i){try{var n=null,r=!1;if(!t.Rules||null==t.Rules)return null;for(var s=0;s<t.Rules.length;++s)try{for(var a=t.Rules[s].children,o=t.Rules[s].logicalOperator,l=!0,d=0;d<a.length;++d){if(l=this.isChildrenEnable(a[d],i),"AND"==o){if(l)continue;break}if("OR"!=o);else if(l)break}if(r=r||l,l&&"config"in t.Rules[s]){var m=t.Rules[s].config;n={IsEnabled:this.mAutoRefreshConfig.IsEnabled,DisabledCampaigns:this.mAutoRefreshConfig.DisabledCampaigns,AdvertisersIndirect:this.mAutoRefreshConfig.AdvertisersIndirect,MaxRefreshCount:m.MaxRefreshCount?m.MaxRefreshCount:10,RefreshTime:m.RefreshTime?1e3*m.RefreshTime:12e4,RefreshTimeIndirect:m.RefreshTimeIndirect?1e3*m.RefreshTimeIndirect:35e3,OutOfViewTime:m.OutOfViewTime?1e3*m.OutOfViewTime:18e4,OutOfViewTimeIndirect:m.OutOfViewTimeIndirect?1e3*m.OutOfViewTimeIndirect:18e4,ViewabilityThresholdPercentage:m.ViewabilityThresholdPercentage?m.ViewabilityThresholdPercentage:60,ViewabilityThresholdPercentageIndirect:m.ViewabilityThresholdPercentageIndirect?m.ViewabilityThresholdPercentageIndirect:50,MaxAutoRefreshWithoutInteraction:m.MaxAutoRefreshWithoutInteraction?m.MaxAutoRefreshWithoutInteraction:0,ActiveUserTimeoutFromLastInteraction:m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4},e.mActiveUserTimeoutFromLastInteraction=m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4;break}}catch(e){console.log(e)}return n}catch(e){console.log(e)}return null},e.prototype.isChildrenEnable=function(e,t){void 0===t&&(t=null);try{switch(e.operand){case"Region":if(!this.mRegions&&"NOTIN"==e.operator)return!0;if(!this.mRegions)return!1;if("IN"==e.operator){for(var i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!0;return!1}if("NOTIN"==e.operator){for(i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!1;return!0}return!0;case"Device":return"IN"==e.operator?e.comparator.indexOf(this.mDeviceType)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mDeviceType)<=-1;case"Browser":return"IN"==e.operator?e.comparator.indexOf(this.mBrowser)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mBrowser)<=-1;case"Sizes":return!(!t&&null===t)&&("IN"==e.operator?e.comparator.indexOf(t)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(t)<=-1)}}catch(e){console.log(e)}return!1},e.prototype.updateTargetKval=function(e){return r(this,void 0,void 0,(function(){var t,i,n,r,a,o,l,d,m;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),!(t=JSON.parse(e)))return[2];for(i=t.dfpkeyname,this.mTargetData[i].Status="COMPLETED",this.mTargetData[i].Data=t,null!=this.mTargetData[i].Data.kval&&(this.mTargetData[i].Data.kval=this.mTargetData[i].Data.kval.split(";")),n=this.getAllAdvancePlacements(),r=[],l=0;l<n.length;++l)a=n[l],o=a.getTagToRender().getTargetName().replace(".bottom",""),a.getWaitingForTarget()&&o===i&&(a.setWaitingForTarget(!1),this.mAdvancePlacementsWaitingForTarget.indexOf(a.getRandomNumber())>-1&&r.push(a));for(l=0;l<r.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(r[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);return r.length>0?[4,this.renderAdvancePlacements(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[3,4];case 3:return m=s.sent(),console.error(m),[3,4];case 4:return[2]}}))}))},e.prototype.updateNativeLayout=function(e){return r(this,void 0,void 0,(function(){var t,i,n,r,a,o,l,d;return s(this,(function(s){try{if(!(t=JSON.parse(e)))return[2];for(i=t.nativelayoutid,this.mNativeLayout[i].Status="COMPLETED",this.mNativeLayout[i].Data=t,n=this.getAllAdvancePlacements(),r=[],l=0;l<n.length;++l)a=n[l],o=a.getTagToRender().getNativLayout(),a.getWaitingForNativeLayout()&&o.nativelayoutid===i&&(a.setWaitingForNativeLayout(!1),a.getTagToRender().setNativLayout(t),this.mAdvancePlacementsWaitingForTarget.indexOf(a.getRandomNumber())>-1&&r.push(a));for(l=0;l<r.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(r[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);r.length>0&&this.renderAdvancePlacements(r)}catch(e){console.error(e)}return[2]}))}))},e.prototype.renderPreloads=function(){for(var e=a.Utility.getInstance(),t=0;t<this.mPreloads.length;++t)e.executeJS(this.mPreloads[t])},e.prototype.renderPostloads=function(){for(var e=a.Utility.getInstance(),t=0;t<this.mPostloads.length;++t)e.executeJS(this.mPostloads[t])},e.prototype.renderPlacements=function(t){return r(this,void 0,void 0,(function(){var i,n,r,o,l,d,m,u,p=this;return s(this,(function(s){switch(s.label){case 0:i=[],n=[],m=0,s.label=1;case 1:return m<t.length?(u=t[m]).isEligibleForRendering("ADVANCE"!=u.getPublisherType())?(u.getType()!=a.PlacementType.HTML||u.getTagToRender().getType()!=a.TagType.DISPLAY&&u.getTagToRender().getType()!=a.TagType.NATIVE||!this.isSingleRequestEnabled()||this.addTagToRenderArray(u.getDivId(),u.getTagToRender(),u.getLoadType()),"ADVANCE"!=u.getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(u)]):[3,4]:[3,7];case 2:(r=s.sent())&&n.push(r),null!=(o=e.checkAndPrepareDummyPlacements(r))&&n.push(o),s.label=3;case 3:return i.push(u),[3,5];case 4:if(u.getState()==a.PlacementState.CAPPING_EXPIRED)this.pushPlacementErrorLog(u.getId(),u.getType(),u.getRandomNumber(),u.getPublisherType(),a.ErrorType.UNKNOW_ERROR,"FREQUENCY CAPPING EXPIRED");else{if(u.getState()!=a.PlacementState.TAG_NOT_AVAILABLE)return[3,6];l=u.getId(),"ADVANCE"==u.getPublisherType()&&(l=null),this.pushPlacementErrorLog(l,u.getType(),u.getRandomNumber(),u.getPublisherType(),a.ErrorType.UNKNOW_ERROR,"No tag exist for the placement")}s.label=5;case 5:this.mUnrenderedPlacementIds.indexOf(u.getId())>-1&&this.mUnrenderedPlacementIds.splice(this.mUnrenderedPlacementIds.indexOf(u.getId()),1),s.label=6;case 6:return++m,[3,1];case 7:return(d=n.length>0)?[4,this.callSSPToFetchTheBids(n)]:[3,9];case 8:d=s.sent(),s.label=9;case 9:for(d&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),m=0;m<i.length;++m)i[m].render();if("complete"!=document.readyState&&this.mUnrenderedPlacementIds.length>0)setTimeout((function(){p.renderPlacements(t)}),1e3);else if(this.mUnrenderedPlacementIds.length>0)for(m=0;m<t.length;++m)u=t[m],-1!=this.mUnrenderedPlacementIds.indexOf(u.getId())&&(u.getState()==a.PlacementState.SELECTOR_NOT_LOADED?this.pushPlacementErrorLog(u.getId(),u.getType(),u.getRandomNumber(),u.getPublisherType(),a.ErrorType.SELECTOR_NOT_FOUND):u.getState()!=a.PlacementState.TARGETING_FAILED&&u.getState()!=a.PlacementState.TAG_NOT_AVAILABLE&&this.pushPlacementErrorLog(u.getId(),u.getType(),u.getRandomNumber(),u.getPublisherType(),a.ErrorType.UNKNOW_ERROR,"Due to some unknown error, placement is not eligible for rendering."));return[2]}}))}))},e.prototype.calculateViewCount=function(){if(this.mUSPStatus!=a.USPStatus.NOT_APPLICABLE)return"-1";var e=a.Utility.getInstance(),t=NaN,i=e.isCookieEnabled();if(i)t=parseInt(e.getFromCookie(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()));else if(o=e.getFromLocalStorage(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()))try{if("timestamp"in(o=JSON.parse(o))){var n=o.timestamp;((new Date).getTime()-n)/1e3<1800&&"value"in o&&(t=parseInt(o.value))}}catch(e){console.log(e)}var r=t;if(isNaN(r)&&(r=0),!a.Utility.window.top.IC_PAGE_ID){r++;var s=void 0;if(i)e.saveToCookie(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain(),r.toString(),1800),s=parseInt(e.getFromCookie(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()));else{var o={value:r.toString(),timestamp:(new Date).getTime()};e.saveToLocalStorage(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain(),JSON.stringify(o));var l=e.getFromLocalStorage(a.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain());if(l&&"value"in(l=JSON.parse(l)))try{s=parseInt(l.value)}catch(e){console.log(e)}}if(isNaN(s)||s==t)return"-1"}return 0==r?"-1":r<10?"0"+r:""+r},e.calculateDocumentType=function(){try{return self==a.Utility.window.top?a.DocumentType.PAGE:a.Utility.window.location.hostname==a.Utility.window.top.location.hostname?a.DocumentType.FRIENDLYFRAME:a.DocumentType.IFRAME}catch(e){return a.DocumentType.IFRAME}},e.prototype.isReferrerASearchEngine=function(){return!!RegExp("https?://[^/]*(google)|(askjeeves)|(altavista)|(yahoo)|(bing)|(ask).*").test(this.mReferer)},e.prototype.calculateReferrerType=function(){this.mDocumentType!=a.DocumentType.IFRAME?this.mReferer?this.isReferrerASearchEngine()?this.mReferrerType=a.ReferrerType.SEARCH_ENGINE:this.mReferer.match(/:\/\/(.[^/]+)/)[1]==a.Utility.window.top.location.hostname?this.mReferrerType=a.ReferrerType.INTERNAL:this.mReferrerType=a.ReferrerType.EXTERNAL:this.mReferrerType=a.ReferrerType.DIRECT:this.mReferrerType=a.ReferrerType.UNKNOWN,this.mDFPParams||(this.mDFPParams=new a.DFPTemplateParams),this.mDFPParams.setReferrerType(this.mReferrerType),o.DMP.getInstance().addKruxProperty("rft",this.mReferrerType)},e.prototype.calculatePageType=function(){var e=this.mDocumentType==a.DocumentType.IFRAME?document.referrer:a.Utility.window.top.location.href;return/^https?\:\/\/[^\/]+\/?$/.test(e)?a.PageType.HOME:-1!=e.indexOf("ic_welcome=1")?a.PageType.WELCOMEAD:a.PageType.UNKNOWN},e.prototype.isTopWindowRefererASearchEngine=function(){return!!RegExp("https?://[^/]*(google)|(askjeeves)|(altavista)|(yahoo)|(bing)|(ask).*").test(this.mReferer)},e.calculateReferer=function(e){if(e==a.DocumentType.IFRAME||e==a.DocumentType.FRIENDLYFRAME)return document.referrer;if(void 0===a.Utility.window.top.IC_PAGE_REFERER){var t=a.Utility.window.top.document.referrer;return a.Utility.window.top.IC_PAGE_REFERER=a.Utility.window.top.location.href,t}var i=a.Utility.window.top.IC_PAGE_REFERER;return a.Utility.window.top.IC_PAGE_REFERER=a.Utility.window.top.location.href,i},e.prototype.generatePageId=function(){return this.mDocumentType==a.DocumentType.IFRAME?this.generateUUID():(a.Utility.window.top.IC_PAGE_ID||(a.Utility.window.top.IC_PAGE_ID=this.generateUUID()),a.Utility.window.top.IC_PAGE_ID)},e.prototype.generateUUID=function(){var e=(new Date).getTime();return Date.now&&(e=Date.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))},e.prototype.getMaxTile=function(){return this.mDocumentType==a.DocumentType.IFRAME?this.mMaxTile++:(a.Utility.window.top.IC_MAX_TILE?this.mMaxTile=a.Utility.window.top.IC_MAX_TILE:a.Utility.window.top.IC_MAX_TILE=this.mMaxTile,a.Utility.window.top.IC_MAX_TILE++)},e.prototype.initialiseObject=function(){try{this.mDFPParams=new a.DFPTemplateParams;var t=this.mUSPStatus!=a.USPStatus.NOT_APPLICABLE;if(this.mDFPParams.setDoNotTrack(t),this.mIsKruxEnabled&&this.mKruxDataId&&this.mUSPStatus==a.USPStatus.NOT_APPLICABLE){var i=o.DMP.getInstance();try{i.callKrux(this.mKruxDataId,this.mIsUserFromGDPRCountry,this.mIsUserFromUSPState),this.mIsKruxScriptDropped=!0}catch(e){}}this.mDFPParams.setDeviceType(this.mDeviceType),this.mDocumentType!=a.DocumentType.IFRAME&&this.mDFPParams.setViewCount(this.calculateViewCount()),this.mPageId=this.generatePageId(),this.mDFPParams.setPageId(this.mPageId),o.DMP.getInstance().addKruxProperty("viewcount",this.mDFPParams.getViewCount()),this.mDFPParams.setDocumentType(this.mDocumentType),this.calculateReferrerType(),this.mPageType=this.calculatePageType(),this.mDFPParams.setPageType(this.mPageType),this.mDFPParams.setAdTagName(this.mSite.getAdTagName()),o.DMP.getInstance().addKruxProperty("usn",this.mSite.getAdTagName()),this.mIsSearchEngine=this.isTopWindowRefererASearchEngine(),this.mDFPParams.setIsSearchEngine(this.mIsSearchEngine),this.mDFPParams.setUserCookie(this.mUserCookieType),t||a.Utility.getInstance().saveToLocalStorage(this.cFirstPartyId,this.mICFID),this.mDFPParams.setICFID(this.mICFID);var n=a.Utility.getInstance().getFromLocalStorage(this.cThirstPartyId);n&&null!==n&&this.mDFPParams.setICTID(n),o.DMP.getInstance().addKruxProperty("cookietype",this.mUserCookieType),o.DMP.getInstance().addKruxProperty("pageid",this.mPageId),o.DMP.getInstance().addKruxProperty("userid",this.mUid)}catch(t){console.log(t),a.Utility.getInstance().ic_ga_event("initialiseObject",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,t.message))}},e.prototype.resetObject=function(){this.mReferer=e.calculateReferer(this.mDocumentType),this.calculateReferrerType()},e.prototype.getUrl=function(){return this.mUrl},e.prototype.getReferer=function(){return this.mReferer},e.prototype.getUSPStatus=function(){return this.mUSPStatus},e.prototype.getUSPString=function(){return this.mUSPString},e.prototype.isUserFromGDPRCountry=function(){return this.mIsUserFromGDPRCountry},e.prototype.isUserFromUSPState=function(){return this.mIsUserFromUSPState},e.prototype.getGlobalConfig=function(){return this.mGlobalConfig},e.prototype.userIdCallback=function(t,i){e.mICTID=t,t&&""!==t&&null!=this.mDFPParams&&this.mDFPParams.setICTID(t),i&&this.setUserCookieType(i)},e.getICUid=function(){return e.mICTID},e.prototype.getUserId=function(){return this.mUid},e.prototype.isKruxScriptDropped=function(){return this.mIsKruxScriptDropped},e.prototype.getKruxTimeout=function(){return this.mKruxTimeout},e.prototype.getKruxSegmentIds=function(){return this.mKruxSegmentIds},e.prototype.setKruxUserSegments=function(e){this.mKruxUserSegments=e},e.prototype.getKruxUserSegments=function(){return this.mKruxUserSegments},e.prototype.getTargetRulesTimeout=function(){return this.mTargetRuleTimeout},e.prototype.getRepeatPlacementbySelector=function(e){for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t].getSelector();if(null!=i&&i.getIdentifier()==e&&i.getInsertionType()==a.InsertionType.REPEAT)return this.mPlacements[t]}},e.prototype.getPlacementbySelector=function(e){for(var t=[],i=0;i<this.mPlacements.length;++i){var n=this.mPlacements[i].getSelector();null!=n&&n.getIdentifier()==e&&t.push(this.mPlacements[i])}return t},e.prototype.getAllAdvancePlacements=function(){for(var e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"==this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e},e.prototype.getPlacementByRandomNumber=function(e){for(var t=0;t<this.mPlacements.length;++t)if(this.mPlacements[t].getRandomNumber()===e)return this.mPlacements[t];return null},e.prototype.render=function(){return r(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:for(this.renderPreloads(),e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"!=this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e.length>0?[4,this.renderPlacements(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.renderPostloads(),[2]}}))}))},e.prototype.clear=function(){for(var e=0;e<this.mPlacements.length;++e)this.mPlacements[e].clear()},e.prototype.destroy=function(){for(var t=0;t<this.mPlacements.length;++t)this.mPlacements[t].destroy(),delete this.mPlacements[t];e.mAPIReady=a.APIStatus.NOT_READY,a.Utility.window.top.IC_PAGE_ID=void 0,a.Utility.window.top.IC_MAX_TILE=void 0;var i=o.SSP.getInstance();i&&i.destroy(),this.mWaitingForPredictiveTimmer&&clearInterval(this.mWaitingForPredictiveTimmer),this.deactivateActivityTracker(this.mUserActivityThrottlerEvent),a.Utility.getInstance().destroy()},e.prototype.executePredictiveTimeout=function(){if(this.mWaitingForPredictive=!1,this.mWaitingForPredictiveTimmer&&(clearInterval(this.mWaitingForPredictiveTimmer),this.mWaitingForPredictiveTimmer=null),this.mFunctionWaitingForPredictive&&this.mFunctionWaitingForPredictive.length>0){for(var e=0;e<this.mFunctionWaitingForPredictive.length;++e)"function"==typeof this.mFunctionWaitingForPredictive[e]&&this.mFunctionWaitingForPredictive[e]();this.mFunctionWaitingForPredictive=[]}},e.prototype.renderAdvancePlacements=function(e){return r(this,void 0,void 0,(function(){var t,i,n=this;return s(this,(function(r){switch(r.label){case 0:if(this.mWaitingForPredictive)return this.mFunctionWaitingForPredictive.push(this.renderAdvancePlacements.bind(this,e)),this.mWaitingForPredictiveTimmer||(this.mWaitingForPredictiveTimmer=setTimeout((function(){return n.executePredictiveTimeout}),1e3)),[2];if(this.mWaitingForGdprCmpData){for(i=0;i<e.length;++i)this.mAdvancePlacementsWaitingForGdprCmpData.push(e[i]);return[2]}for(t=[],i=0;i<e.length;++i)e[i].getWaitingForTarget()||e[i].getWaitingForNativeLayout()?-1==this.mAdvancePlacementsWaitingForTarget.indexOf(e[i].getRandomNumber())&&this.mAdvancePlacementsWaitingForTarget.push(e[i].getRandomNumber()):t.push(e[i]);return t.length>0?[4,this.renderPlacements(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.clearPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].clear()},e.prototype.refreshPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].isEligibleForRefreshing()&&(t[i].getLastRenderedTagType()==a.TagType.CUSTOM&&t[i].clear(),t[i].refresh())},e.prototype.refreshPlacements=function(){this.mReferer=e.calculateReferer(this.mDocumentType),this.calculateReferrerType();for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t];i.isEligibleForRefreshing()&&(i.getLastRenderedTagType()==a.TagType.CUSTOM&&i.clear(),i.refresh())}},e.prototype.getCustomVariables=function(){return this.mCustomVariable},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=a.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.getPublisherKval=function(){return this.mPublisherKval},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.setUserId=function(t,i,o,l){var d=this;if(l&&(e.mIsCalledFromApi=!0),l||!e.mIsCalledFromApi){if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=i&&null!=i)var m=0,u=this,p=setInterval((function(){return r(d,void 0,void 0,(function(){var r,d,c,h;return s(this,(function(s){if(m+=1,this.mSSPConfig&&"addressability"in this.mSSPConfig&&0==e.isLiverampEnabled(this.mSSPConfig.addressability))return this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Liveramp is disabled. Won't Set User ID"),clearInterval(p),[2];if(void 0!==(r=a.Utility.window.top).ats&&"object"==typeof r.ats)try{if(d="",c=!0,"phone"==t?(o||null==(i=a.Utility.getInstance().isValidPhone(i))&&(c=!1),d="phoneNumber"):"email"==t?(o||a.Utility.getInstance().isValidEmail(i),d="emailHashes"):c=!1,!c)return this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Type is incorrect to setUserId:: Type ::"+t),clearInterval(p),[2];if(!o){if("string"!=typeof i)return this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Value is incorrect to setUserId:: Value ::"+i),clearInterval(p),[2];i=this.sha1(i)}l&&(e.mPublisherSuppliedHash.SHA1=i),h={type:d,id:[i]},this.mCmpGdprApplies&&""!=this.mCmpTcString?h=n({consentString:this.mCmpTcString,consentType:"gdpr"},h):this.mUSPStatus==a.USPStatus.APPLICABLE&&(h=n({consentString:this.mUSPString,consentType:"ccpa"},h)),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Object passed to Liveramp:: "+JSON.stringify(h)),r.ats.setAdditionalData(h),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("User Identity for Liveramp"),clearInterval(p)}catch(e){this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Error occured for setUserId:: e ::"+e),clearInterval(p)}else m>=60&&(u.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Breaking LiveRamp loop, as system not able to find ATS object for 1 minute."),clearInterval(p));return[2]}))}))}),1e3)}else this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Publisher called setUserId, sovrn uid module for liveramp wont' be applied")},e.prototype.defineTag=function(e,t,i,n,r){if(2==e.split("/").length){var s=e.split("/")[0];if(s.toLowerCase()!==this.mSite.getAdTagName().toLowerCase()){var o=n?a.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:a.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH;return this.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",o,o.toString()+"("+s.toLowerCase()+")"),null}var d=!1,m=e.split("/")[1];m&&(m=m.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(m,!1,n)&&"COMPLETED"!=this.getTargetStatus(m)&&(d=!0);var u=!1;n&&this.getNativeLayoutData(n)&&"COMPLETED"!=this.getNativeLayoutStatus(n)&&(u=!0);var p={id:null};this.mPlacements?p.id=100+this.mPlacements.length:p.id=100;var c=a.LoadType.CUSTOM;if(r&&"object"==typeof r&&r&&"load_type"in r){var h=r.load_type;h.toUpperCase()in a.LoadType&&(c=h.toUpperCase())}p.loadType=c,p.devices=null,p.geolocations=null,p.frequency=null,p.callbacks=[],p.placementType=a.PlacementType.HTML,p.priority=0,p.selector={selectorid:null,identifier:"#"+i,type:a.InsertionType.FIRST_CHILD},p.targeting=null,p.tags=[{tagid:null,script:null,weight:1,type:a.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:m,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:t,nativelayout:{nativelayoutid:n}}],n&&(!u&&n in this.mNativeLayout&&"Data"in this.mNativeLayout[n]&&(p.tags[0].nativelayout=this.mNativeLayout[n].Data),p.tags[0].type=a.TagType.NATIVE);var g=new l.Placement(p,this,"ADVANCE",d,u);return this.mPlacements.push(g),g.initialiseObject(this.getMaxTile()),g.getLoadType()!=a.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=g.getId()),g}},e.prototype.defineOutOfPageTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH,a.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var n=!1,r=e.split("/")[1];r&&(r=r.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(r,!0)&&(n=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=a.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=a.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:a.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:a.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:r,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"oop",isOOPUnit:!0}];var o=new l.Placement(s,this,"ADVANCE",n);return this.mPlacements.push(o),o.initialiseObject(this.getMaxTile()),o.getLoadType()!=a.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=o.getId()),o}},e.prototype.defineWebInterstitialTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,a.PlacementType.HTML,null,"ADVANCE",a.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH,a.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var n=!1,r=e.split("/")[1];r&&(r=r.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(r,!0)&&(n=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=a.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=a.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:a.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:a.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:r,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"webinterstitial",isOOPWIUnit:!0}];var o=new l.Placement(s,this,"ADVANCE",n);return this.mPlacements.push(o),o.initialiseObject(this.getMaxTile()),o.getLoadType()!=a.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=o.getId()),o}},e.prototype.getElementForThePlacement=function(t){var i;try{for(var n=0;n<this.mPlacements.length;++n)if(i=this.mPlacements[n].getId(),this.mPlacements[n].getType()==a.PlacementType.HTML&&this.mPlacements[n].getRandomNumber()==t&&this.mPlacements[n].getSelector()){var r=a.Utility.getInstance().getEmptyElementsForSelector(this.mPlacements[n].getSelector().getIdentifier(),this.mPageId,this.mPlacements[n].getId());if(r.length>0)return r[0]}}catch(t){console.log(t),a.Utility.getInstance().ic_ga_event("getElementForThePlacement",a.Utility.getInstance().prepareGALabel(e.mApiKey,this.mPageId,t.message+" $# "+i))}},e.prototype.loadMore=function(){return r(this,void 0,void 0,(function(){var e,t,i,n,r,o,l,m,u;return s(this,(function(s){switch(s.label){case 0:e=[],t=[],u=0,s.label=1;case 1:if(!(u<this.mPlacements.length))return[3,6];if((m=this.mPlacements[u]).getType()==a.PlacementType.PIXEL||m.getSelector().getInsertionType()!=a.InsertionType.REPEAT||!m.isParent())return[3,5];i=a.Utility.getInstance().getEmptyElementsForSelector(m.getSelector().getIdentifier(),this.mPageId,this.mPlacements[u].getId()),n=0,s.label=2;case 2:return n<i.length?(r=new d.default(JSON.parse(m.getRawData()),this,m.getPublisherType()),this.mPlacements.push(r),r.initialiseObject(this.getMaxTile()),r.getSSPAdSizes(),r.makeChild(),e.push(r),[4,this.preparePlacementForSSP(r)]):[3,5];case 3:(o=s.sent())&&t.push(o),s.label=4;case 4:return++n,[3,2];case 5:return++u,[3,1];case 6:return t?[4,this.callSSPToFetchTheBids(t)]:[3,8];case 7:s.sent(),this.mSSPFetchBidsStartTime=(new Date).getTime(),s.label=8;case 8:for(l=[],u=0;u<e.length;++u)(m=e[u]).isEligibleForRendering(!1)&&(m.getType()==a.PlacementType.HTML&&m.getTagToRender().getType()==a.TagType.DISPLAY&&this.isSingleRequestEnabled()&&this.addTagToRenderArray(m.getDivId(),m.getTagToRender(),m.getLoadType()),l.push(m));for(u=0;u<l.length;++u)l[u].render();return[2]}}))}))},e.prototype.getParametersForDFP=function(){var e=n(n(n({},this.mKeyVal),this.mDFPParams),this.mPixelSegment);return this.mDoubleVerifyData&&(e=n(n({},e),this.mDoubleVerifyData)),e},e.prototype.markitCallbackAtTemplate=function(e){for(var t in e)o.DMP.getInstance().addKruxProperty(t,e[t])},e.prototype.calculatePosition=function(e,t){for(var i=0,n=0;n<this.mPlacements.length;++n){var r=this.mPlacements[n],s=r.getNonNullPrimaryAdSize();if(null!=s&&s==e&&++i,r.getRandomNumber()==t)break}return i},e.prototype.eligibleForBottomZoning=function(e){for(var t=e.getNonNullPrimaryAdSize(),i=0;i<this.mPlacements.length;++i){var n=this.mPlacements[i];if(n.getId()==e.getId())return!1;if(n.getState()!=a.PlacementState.SELECTOR_NOT_LOADED&&n.getState()!=a.PlacementState.TAG_NOT_AVAILABLE){var r=n.getNonNullPrimaryAdSize();if(null!=r&&r==t)return!0}}return!1},e.getStackHorizontalEnabled=function(){return e.mStackServeHorizontalEnabled},e.getStackVerticalalEnabled=function(){return e.mStackServeVerticalEnabled},e.prototype.getPageId=function(){return this.mPageId},e.getAPIKey=function(){return this.mApiKey},e.prototype.getDeviceType=function(){return this.mDeviceType},e.prototype.getReferrerType=function(){return this.mReferrerType},e.prototype.getPageType=function(){return this.mPageType},e.prototype.getCountryCode=function(){return this.mCountryCode},e.prototype.getDocumentType=function(){return this.mDocumentType},e.prototype.IsSearchEngine=function(){this.mIsSearchEngine},e.prototype.getGlobalTarget=function(){return this.mGlobalTarget},e.prototype.getKeyVal=function(){return this.mKeyVal},e.prototype.getAutoTargetStatus=function(){return this.mAutoTargetStatus},e.prototype.getPixelSegment=function(){return this.mPixelSegment},e.prototype.getTargetData=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Data:null},e.prototype.getTargetStatus=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Status:"FAILED"},e.prototype.getNativeLayoutStatus=function(e){return e in this.mNativeLayout?this.mNativeLayout[e].Status:"FAILED"},e.prototype.getAutoRefreshConfig=function(e){var t=null;return this.mAutoRefreshConfig.IsEnabled&&null!=e&&(t=this.parseAndGetAutoRefreshConfig(this.mAutoRefreshConfig,e)),t&&null!=t||(t={IsEnabled:!1}),t},e.prototype.getAutoRefreshEnabled=function(){return this.mAutoRefreshConfig.IsEnabled},e.prototype.getSSPConfig=function(){return this.mSSPConfig},e.getAPIStatus=function(){return e.mAPIReady},e.registerAPIReadyCallback=function(t){e.mAPIReady==a.APIStatus.READY?"function"==typeof t&&t():a.Utility.ICJQuery(document).on("Callback_ICAPI_Ready",(function(){"function"==typeof t&&t()}))},e.prototype.isDebugModeEnabled=function(){return this.mIsDebugModeEnabled},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.getConfig=function(){return this.mConfig},e.prototype.setLastDFPCallTime=function(e){this.mLastDFPCallTime=e},e.prototype.getLastDFPCallTime=function(){return this.mLastDFPCallTime},e.prototype.getOnViewBufferPercentage=function(){return this.mOnViewBuffer},e.prototype.getDFPCallBufferTime=function(){return this.mDFPCallBufferTime},e.prototype.getSSPPrebidIgnoreList=function(){return this.mPrebidSSPIgnoreList},e.prototype.getSite=function(){return this.mSite},e.getEligibleS2SBidders=function(){return e.s2sBiddersList},e.getMaxScrollDepth=function(){return e.mMaxScrollDepth},e.getHashSuppliedByPublisher=function(){var t="";for(var i in e.mPublisherSuppliedHash)""!=e.mPublisherSuppliedHash[i]&&(t=t+i+":"+e.mPublisherSuppliedHash[i]+";");return t},e.prototype.dropGlobalTargetRules=function(){null!=this.mGlobalTarget&&null!=this.mGlobalTarget.rules&&this.executeTargetRules(this.mGlobalTarget.dfpkeyname,this.mGlobalTarget.rules)},e.prototype.executeTargetRules=function(e,t){this.mTargetRulesDropped.indexOf(e)>-1||(this.mTargetRulesDropped.push(e),a.Utility.getInstance().executeOnLoad(t))},e.prototype.singleRequestCallback=function(e){if(this.mIsSingleRequestEnabled=e,!this.mIsSingleRequestEnabled){var t=[],i=o.DATManager.getInstance();for(var n in this.mCustomTagsToRender)"ReadyToRender"==this.mCustomTagsToRender[n].Status&&t.push(this.mCustomTagsToRender[n].Tag.getDAT());for(var n in this.mOnLoadTagsRender)"ReadyToRender"==this.mOnLoadTagsRender[n].Status&&t.push(this.mOnLoadTagsRender[n].Tag.getDAT());for(var n in this.mRealTimeTagsRender)"ReadyToRender"==this.mRealTimeTagsRender[n].Status&&t.push(this.mRealTimeTagsRender[n].Tag.getDAT());null!=i&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),i.callDFPRender(t),this.mRealTimeTagsRender={},this.mOnLoadTagsRender={},this.mCustomTagsToRender={})}},e.prototype.isSingleRequestEnabled=function(){return this.mIsSingleRequestEnabled},e.prototype.addTagToRenderArray=function(e,t,i){switch(i){case a.LoadType.CUSTOM:if(e in this.mCustomTagsToRender)return;this.mCustomTagsToRender[e]={Tag:t,Status:"InProgress"};break;case a.LoadType.ON_LOAD:if(e in this.mOnLoadTagsRender)return;this.mOnLoadTagsRender[e]={Tag:t,Status:"InProgress"};break;case a.LoadType.ON_REALTIME:if(e in this.mRealTimeTagsRender)return;this.mRealTimeTagsRender[e]={Tag:t,Status:"InProgress"}}},e.prototype.readyToRender=function(e,t,i){var n=[];switch(t){case a.LoadType.CUSTOM:for(var r in e in this.mCustomTagsToRender&&(this.mCustomTagsToRender[e].Status="ReadyToRender"),this.mCustomTagsToRender){if("ReadyToRender"!=this.mCustomTagsToRender[r].Status)return;n.push(this.mCustomTagsToRender[r].Tag.getDAT())}this.mCustomTagsToRender={};break;case a.LoadType.ON_LOAD:for(var r in e in this.mOnLoadTagsRender&&(this.mOnLoadTagsRender[e].Status="ReadyToRender"),this.mOnLoadTagsRender){if("ReadyToRender"!=this.mOnLoadTagsRender[r].Status)return;n.push(this.mOnLoadTagsRender[r].Tag.getDAT())}this.mOnLoadTagsRender={};break;case a.LoadType.ON_REALTIME:for(var r in e in this.mRealTimeTagsRender&&(this.mRealTimeTagsRender[e].Status="ReadyToRender"),this.mRealTimeTagsRender){if("ReadyToRender"!=this.mRealTimeTagsRender[r].Status)return;n.push(this.mRealTimeTagsRender[r].Tag.getDAT())}this.mRealTimeTagsRender={};break;case a.LoadType.ONLOAD_ONVIEW:case a.LoadType.ON_VIEW:n.push(i.getDAT())}var s=o.DATManager.getInstance();null!=s&&n.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),s.callDFPRender(n))},e.prototype.addTagToRefreshArray=function(e,t){e in this.mTagsToRefresh||(this.mTagsToRefresh[e]={Tag:t,Status:"InProgress"})},e.prototype.readyToRefresh=function(e){e in this.mTagsToRefresh&&(this.mTagsToRefresh[e].Status="ReadyToRefresh");var t=[];for(var i in this.mTagsToRefresh){if("ReadyToRefresh"!=this.mTagsToRefresh[i].Status)return;t.push(this.mTagsToRefresh[i].Tag.getDAT())}var n=o.DATManager.getInstance();n&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),n.callDFPRefresh(t)),this.mTagsToRefresh={}},e.prototype.getSSPFetchBidsStartTime=function(){return this.mSSPFetchBidsStartTime},e.prototype.queueProcessed=function(){return r(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.mIsAllPlacementRendered?[2]:[4,this.processTaglessPlacements()];case 1:return e.sent(),[2]}}))}))},e.prototype.getSSPEnabledAdSizes=function(e){var t=e.getSSPAdSizes(),i=[];if(!t)return null;for(var n=0;n<t.length;++n)this.mSSPConfig.enabledAdSizes&&this.mSSPConfig.enabledAdSizes.indexOf(t[n])<0||i.push(t[n]);return i},e.prototype.preparePlacementForSSP=function(e){return r(this,void 0,void 0,(function(){var t,i,n;return s(this,(function(r){switch(r.label){case 0:return(t=this.getSSPEnabledAdSizes(e))&&t.length>0?[4,this.getPredictiveValue(e,"o",t)]:[3,2];case 1:return i=r.sent(),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Inside preparePlacementForSSP :: Predictive Value :: ",i),n=this.isSspHVPlacement(i),[2,{divId:e.getDivId(),adSize:t,position:e.getPosition(),tile:e.getTile(),primaryAdSize:e.getNonNullPrimaryAdSize(),isSspHVPlacement:n,thirdPartyCookie:this.mUserCookieType,isAdhesion:e.checkAdhesionPlacement(),nativeLayout:e.getNativeLayout()}];case 2:return[2,null]}}))}))},e.prototype.callSSPToFetchTheBids=function(e){return r(this,void 0,void 0,(function(){var t,i,n,o,l,d=this;return s(this,(function(m){switch(m.label){case 0:return t=-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/"),this.mDocumentType==a.DocumentType.IFRAME||t?[3,4]:(i=0,-1!==this.sspRotationEnabledSsps.indexOf("a9")&&(i=1),n=this.mSspAdapterDownloadTimeout,o=a.Utility.window.top,l=setInterval((function(){return r(d,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.mSspAdapterDownloadtimer=this.mSspAdapterDownloadtimer+this.mSspAdapterDownloadInterval,this.mSspAdapterDownloadtimer>=n||void 0!==o.ic_pbjs.installedModules&&o.ic_pbjs.installedModules.length-2==this.sspRotationEnabledSsps.length-i?(this.fetchBidsDelay=!1,clearInterval(l),[4,this.callSSPToFetchTheBidsAfterInterval(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[3,4];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}),this.mSspAdapterDownloadInterval),this.fetchBidsDelay?[4,l]:[3,2]);case 1:case 3:return[2,m.sent()];case 2:return clearInterval(l),[4,this.callSSPToFetchTheBidsAfterInterval(e)];case 4:return[2,!1]}}))}))},e.prototype.callSSPToFetchTheBidsAfterInterval=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){return o.SSP.getInstance()||o.SSP.createInstance(this.mSSPConfig),e.length>0?(o.SSP.getInstance().fetchBids(e,this.mUrl,this.markitCallbackAtTemplate.bind(this),this.mSspsLogsParams,this.sspRotationEnabledSsps),[2,!0]):[2,!1]}))}))},e.prototype.processTaglessPlacements=function(){return r(this,void 0,void 0,(function(){var t,i,n,r,o,l=this;return s(this,(function(s){switch(s.label){case 0:if(this.mWaitingForGdprCmpData)return[2];if(this.mIsAllPlacementRendered=!0,t=[],this.mDocumentType==a.DocumentType.IFRAME)return[3,7];if(this.mWaitingForPredictive)return this.mFunctionWaitingForPredictive.push(this.processTaglessPlacements.bind(this)),this.mWaitingForPredictiveTimmer||(this.mWaitingForPredictiveTimmer=setTimeout((function(){return l.executePredictiveTimeout}),1e3)),[2];i=0,s.label=1;case 1:return i<this.mPlacements.length?"ADVANCE"==this.mPlacements[i].getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(this.mPlacements[i])]:[3,4];case 2:(n=s.sent())&&t.push(n),null!=(r=e.checkAndPrepareDummyPlacements(n))&&t.push(r),s.label=3;case 3:return++i,[3,1];case 4:return(o=t)?[4,this.callSSPToFetchTheBids(t)]:[3,6];case 5:o=s.sent(),s.label=6;case 6:o&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),s.label=7;case 7:return this.render(),[2]}}))}))},e.checkAndPrepareDummyPlacements=function(t){if(!t||null==t||Object.keys(t).length<0)return null;var i=n({},t);return 1==e.mStackServeHorizontalEnabled&&"primaryAdSize"in t&&"adSize"in t&&i.adSize.indexOf("970x250")>=0?(i.primaryAdSize="300x250",i.adSize=["300x250"],i.divId=t.divId+"_stack32",i):null},e.prototype.getPredictiveEnabledAdSizes=function(e){for(var t=[],i=0;i<e.length;++i)this.mPredictiveAdSizes.indexOf(e[i])>-1&&t.push(e[i]);return t},e.prototype.getPredictiveValue=function(e,t,i){return r(this,void 0,void 0,(function(){var n,r,o,l,d,m;return s(this,(function(s){switch(s.label){case 0:return n=null,this.isPredictiveWorkerLoaded&&this.mIsPredictiveEnabled?(r=this.getPredictiveEnabledAdSizes(i))&&0!=r.length?(o=null,l=null,this.getDocumentType()==a.DocumentType.PAGE&&(l=a.Utility.getInstance().getBrowserSize(),(d=this.getElementForRelativeHeight(e))&&(o=this.calculateRelativePosition(d))),(m={}).browserSize=l,m.pos=e.getPosition(),m.relativePosition=o,m.pageType=this.getPageType()?this.getPageType():null,m.art=t,m.documentType=this.getDocumentType(),m.deviceType=this.getDeviceType(),m.adSizes=r,[4,this.workerPredict(m)]):[2,n]:[3,2];case 1:(n=s.sent())&&n.response&&(n=n.response);try{this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage('Received value "'+JSON.stringify(n)+'" from Predictive for adsize '+r)}catch(e){console.log(e)}s.label=2;case 2:return[2,n]}}))}))},e.prototype.isSspHVPlacement=function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&e[t]>this.mSspHVPredictiveThreshold)return!0;return!1},e.prototype.getElementForRelativeHeight=function(e){if(e.getDivId()&&document.getElementById(e.getDivId()))return document.getElementById(e.getDivId());var t=this.getElementForThePlacement(e.getId());return t?a.Utility.ICJQuery(t):null},e.prototype.calculateRelativePosition=function(e){var t=e.getBoundingClientRect();return null==t||null==t||0==t.top&&0==t.left&&0==t.right&&0==t.bottom?null:Math.round(t.left)+"x"+Math.round(t.top)},e.prototype.getSponsorPagePath=function(){return this.mSponsorPagePath},e.prototype.getUserCookieType=function(){return this.mUserCookieType},e.prototype.setUserCookieType=function(e){this.mUserCookieType=e,null!=this.mDFPParams&&(this.mDFPParams.setUserCookie(e),o.DMP.getInstance().addKruxProperty("cookietype",e))},e.prototype.activateActivityTracker=function(e){this.getDocumentType()!=a.DocumentType.IFRAME&&(a.Utility.window.attachEvent?(a.Utility.window.attachEvent("mousemove",e,!1),a.Utility.window.attachEvent("mousedown",e,!1),a.Utility.window.attachEvent("keypress",e,!1),a.Utility.window.attachEvent("resize",e,!1),a.Utility.window.attachEvent("DOMMouseScroll",e,!1),a.Utility.window.attachEvent("mousewheel",e,!1),a.Utility.window.attachEvent("touchmove",e,!1),a.Utility.window.attachEvent("MSPointerMove",e,!1),this.getDocumentType()!=a.DocumentType.PAGE&&(a.Utility.window.top.attachEvent("mousemove",e),a.Utility.window.top.attachEvent("mousedown",e),a.Utility.window.top.attachEvent("keypress",e),a.Utility.window.top.attachEvent("resize",e),a.Utility.window.top.attachEvent("DOMMouseScroll",e),a.Utility.window.top.attachEvent("mousewheel",e),a.Utility.window.top.attachEvent("touchmove",e),a.Utility.window.top.attachEvent("pointermove",e))):(a.Utility.window.addEventListener("mousemove",e,!1),a.Utility.window.addEventListener("mousedown",e,!1),a.Utility.window.addEventListener("keypress",e,!1),a.Utility.window.addEventListener("resize",e,!1),a.Utility.window.addEventListener("DOMMouseScroll",e,!1),a.Utility.window.addEventListener("mousewheel",e,!1),a.Utility.window.addEventListener("touchmove",e,!1),a.Utility.window.addEventListener("MSPointerMove",e,!1),this.getDocumentType()!=a.DocumentType.PAGE&&(a.Utility.window.top.addEventListener("mousemove",e,!1),a.Utility.window.top.addEventListener("mousedown",e,!1),a.Utility.window.top.addEventListener("keypress",e,!1),a.Utility.window.top.addEventListener("resize",e,!1),a.Utility.window.top.addEventListener("DOMMouseScroll",e,!1),a.Utility.window.top.addEventListener("mousewheel",e,!1),a.Utility.window.top.addEventListener("touchmove",e,!1),a.Utility.window.top.addEventListener("MSPointerMove",e,!1))),this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("activateActivityTracker Register events"))},e.prototype.deactivateActivityTracker=function(e){a.Utility.window.detachEvent?(a.Utility.window.detachEvent("mousemove",e),a.Utility.window.detachEvent("mousedown",e),a.Utility.window.detachEvent("keypress",e),a.Utility.window.detachEvent("resize",e),a.Utility.window.detachEvent("DOMMouseScroll",e),a.Utility.window.detachEvent("mousewheel",e),a.Utility.window.detachEvent("touchmove",e),a.Utility.window.detachEvent("pointermove",e),this.getDocumentType()!=a.DocumentType.PAGE&&(a.Utility.window.top.detachEvent("mousemove",e),a.Utility.window.top.detachEvent("mousedown",e),a.Utility.window.top.detachEvent("keypress",e),a.Utility.window.top.detachEvent("resize",e),a.Utility.window.top.detachEvent("DOMMouseScroll",e),a.Utility.window.top.detachEvent("mousewheel",e),a.Utility.window.top.detachEvent("touchmove",e),a.Utility.window.top.detachEvent("pointermove",e))):(a.Utility.window.removeEventListener("mousemove",e),a.Utility.window.removeEventListener("mousedown",e),a.Utility.window.removeEventListener("keypress",e),a.Utility.window.removeEventListener("resize",e),a.Utility.window.removeEventListener("DOMMouseScroll",e),a.Utility.window.removeEventListener("mousewheel",e),a.Utility.window.removeEventListener("touchmove",e),a.Utility.window.removeEventListener("MSPointerMove",e),this.getDocumentType()!=a.DocumentType.PAGE&&(a.Utility.window.top.removeEventListener("mousemove",e),a.Utility.window.top.removeEventListener("mousedown",e),a.Utility.window.top.removeEventListener("keypress",e),a.Utility.window.top.removeEventListener("resize",e),a.Utility.window.top.removeEventListener("DOMMouseScroll",e),a.Utility.window.top.removeEventListener("mousewheel",e),a.Utility.window.top.removeEventListener("touchmove",e),a.Utility.window.top.removeEventListener("MSPointerMove",e)))},e.prototype.userActivityThrottler=function(){this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("userActivityThrottler  isInactive=true "),e.mUserInactiveTime=(new Date).valueOf(),e.setUserActiveTime();var t=a.Utility.getInstance().getScrollDepth();t&&t>e.mMaxScrollDepth&&(e.mMaxScrollDepth=t)},e.setUserActiveTime=function(){var t=(new Date).valueOf()-e.mUserInactiveTime,i=0;t>=e.mActiveUserTimeoutFromLastInteraction?this.mUserIsInActive||(i=e.mActiveUserTimeoutFromLastInteraction-this.mActiveUserTimeoutFromLastInteractionPassive,this.mUserIsInActive=!0):t<e.mActiveUserTimeoutFromLastInteraction&&(i=t,this.mUserIsInActive||(i=i+(e.mUserInactiveTime-e.mUserActivityStartTime)-this.mActiveUserTimeoutFromLastInteractionPassive),e.mUserActivityStartTime=e.mUserInactiveTime,this.mUserIsInActive=!1,this.mActiveUserTimeoutFromLastInteractionPassive=t),i&&(e.mUserActiveTime=e.mUserActiveTime+i)},e.getUserActiveTime=function(){return this.setUserActiveTime(),e.mUserActiveTime},e.prototype.getIsUserInActive=function(t){return!!e.mUserInactiveTime&&(new Date).valueOf()-e.mUserInactiveTime>t},e.prototype.getUserInactiveTime=function(t){return e.mUserInactiveTime?(new Date).valueOf()-(e.mUserInactiveTime+t):0},e.IsLiveRampCalledFromApi=function(){return e.mIsCalledFromApi},e.prototype.setId5Uid=function(t){var i=this;if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=t&&null!=t)var n=0,o=this,l=setInterval((function(){return r(i,void 0,void 0,(function(){var i,r,d,m,u,p;return s(this,(function(s){try{if("IsEnabled"in this.mId5UidModule&&0==this.mId5UidModule.IsEnabled)return clearInterval(l),[2];n+=1,(i=a.Utility.window.top).ID5&&"object"==typeof i.ID5?(clearInterval(l),"IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled&&"pid"in this.mId5UidModule&&(r=this.mId5UidModule.pid,d=encodeURIComponent(this.uSite.getip()),m=encodeURIComponent(navigator.userAgent),u="1="+encodeURIComponent(t)+"&10="+d+"&12="+m,p=btoa(u),i.ID5.init({partnerId:r,pd:p}).onAvailable((function(t){o.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("ID5 Callback: returned userId : "+t.getUserId().toString()+" :: "+JSON.stringify(t.getUserIdAsEid())),e.mId5UserIds={userId:t.getUserId(),userIdAsEid:t.getUserIdAsEid()}})))):n>=60&&(o.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Breaking Id5 loop, as system not able to find ID5 object for 1 minute."),clearInterval(l))}catch(e){this.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage("Error occured for setId5Uid:: e ::"+e),clearInterval(l)}return[2]}))}))}),1e3)},e.getId5USerIds=function(){return e.mId5UserIds},e.isConnectIdEnabled=function(){return e.mConnectUidEnabled},e.prototype.prepareAndPassHashedEmails=function(){var t=e.getHashedEmailFromLocalStorage(),i=!1;if(""==t)i=!0;else if("SHA1"in t&&"SHA256"in t&&(""!=t.SHA1||""!=t.SHA256)&&(""!=t.SHA1&&""!=t.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),this.setUserId("email",t.SHA1,!0,!1),this.setId5Uid(t.SHA256),this.dropSovrnScript(!0)):""!=t.SHA1?(this.setUserId("email",t.SHA1,!0,!1),this.dropSovrnScript(!1)):""!=t.SHA256&&(this.dropId5Script(),this.dropConnectUidScript(),this.dropSovrnScript(!1),this.setId5Uid(t.SHA256))),"e"in t){var n=+t.e;(new Date).getTime()>n&&(i=!0)}1==i&&this.checkAndSetPubCommId()},e.prototype.checkAndSetPubCommId=function(){var t=this,i=!1,n=e.getPubCommId();if(n&&null!=n&&""!=n?this.setHashedEmailToLocalStorage(n):i=!0,1==i)var r=0,s=setInterval((function(){try{r=+r+1;var i=e.getPubCommId();i&&null!=i&&""!=i&&(clearInterval(s),t.setHashedEmailToLocalStorage(i),t.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: true")),r>=60&&(clearInterval(s),t.mIsDebugModeEnabled&&a.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: false"))}catch(e){console.log("isPubCommIdSet : ERROR :: "+e),clearInterval(s)}}),1e3)},e.getPubCommId=function(){var e="",t=a.Utility.getInstance();if(t.isLocalStorageSupported&&(e=t.getFromLocalStorage(this.mPubCommonIdLocalStorageName),t.isCookieExists(this.mPubCommonIdCookieName))){var i=a.Utility.getInstance().getFromCookie(this.mPubCommonIdCookieName);""!=i&&i!=e&&(t.saveToLocalStorage(this.mPubCommonIdLocalStorageName,i),e=i)}return e},e.getHashedEmailFromLocalStorage=function(){var e="",t=a.Utility.getInstance();if(t.isLocalStorageSupported()){var i=t.getFromLocalStorage(this.mICHashedEmailLocalStorageName);if(i&&""!=i)try{e=JSON.parse(i)}catch(e){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+i+" :: ERROR :: "+e)}}return e},e.prototype.setHashedEmailToLocalStorage=function(t){var i=this;if(t&&null!=t&&""!=t){var n=a.Utility.getInstance();a.Utility.ICJQuery.ajax({url:a.Constant.UAT_HASHED_EMAIL_URL+t,async:!0,type:"GET",success:function(t){return r(i,void 0,void 0,(function(){var i,r,a,o,l,d;return s(this,(function(s){i=e.mICHashedEmailLocalStorageName,r=(new Date).setMinutes(+this.mEmptyHashedEmailExpiry).toString(),a=e.getHashedEmailFromLocalStorage(),o={SHA1:"",SHA256:"",e:r},""!=a&&("SHA1"in a&&(o.SHA1=a.SHA1),"SHA256"in a&&(o.SHA256=a.SHA256));try{t&&null!=t&&""!=t&&("SHA1"in(l=JSON.parse(t))&&"SHA256"in l&&(""!=l.SHA1||""!=l.SHA256)?(d=(new Date).setMinutes(+this.mValidHashedEmailExpiry).toString(),""!=l.SHA1&&""!=l.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),o.SHA1=l.SHA1,o.SHA256=l.SHA256,o.e=d,this.setUserId("email",l.SHA1,!0,!1),this.setId5Uid(l.SHA256),this.dropSovrnScript(!0)):""!=l.SHA1?(o.SHA1=l.SHA1,o.e=d,this.setUserId("email",l.SHA1,!0,!1),this.dropSovrnScript(!1)):""!=l.SHA256&&(this.dropId5Script(),this.dropConnectUidScript(),o.SHA256=l.SHA256,o.e=d,this.dropSovrnScript(!1),this.setId5Uid(l.SHA256))):this.dropSovrnScript(!1)),n.saveToLocalStorage(i,JSON.stringify(o))}catch(e){console.log("getAndSetHashedEmail, Error :: "+e)}return[2]}))}))},error:function(e){console.log("getAndSetHashedEmail, Error :: "+e)}})}},e.getUserIpTarget=function(){return e.mUserIpTarget},e.mAPIReady=a.APIStatus.NOT_READY,e.mICHashedEmailLocalStorageName="IC_HM",e.mPubCommonIdCookieName="_pubcid",e.mPubCommonIdLocalStorageName="_pubcid",e.mConnectIdLocalStorageName="connectId",e.mPVLogInterval={},e.mUserActiveTime=0,e.mUserActivityStartTime=(new Date).valueOf(),e.mUserInactiveTime=(new Date).valueOf(),e.mUserIsInActive=!1,e.mStackServeVerticalEnabled=!1,e.mStackServeHorizontalEnabled=!1,e.mUserIpTarget={},e.mICTID="",e.s2sBiddersList=[],e.mConnectUidEnabled=!1,e.mId5UserIds={},e.mIsCalledFromApi=!1,e.mPublisherSuppliedHash={},e.mMaxScrollDepth=0,e.mActiveUserTimeoutFromLastInteraction=3e4,e.mActiveUserTimeoutFromLastInteractionPassive=0,e}();t.default=m},382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.browser=e.browser,this.device=e.device,this.fromGDPRCountry=e.fromGDPRCountry,this.fromUspState=e.fromUspState,this.geo=e.geo,this.region=e.region,this.uid=e.uid,this.ip=e.ip}return e.prototype.getbrowser=function(){return this.browser},e.prototype.getdevice=function(){return this.device},e.prototype.getfromGDPRCountry=function(){return this.fromGDPRCountry},e.prototype.getfromUspState=function(){return this.fromUspState},e.prototype.getgeo=function(){return this.geo},e.prototype.getregion=function(){return this.region},e.prototype.getuid=function(){return this.uid},e.prototype.getip=function(){return this.ip},e}();t.default=i},979:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USite=t.CSite=t.Site=t.Template=t.Placement=t.Targeting=t.Tag=t.NativeLayout=t.Selector=t.Frequency=t.CustomVariable=t.Callback=void 0;var n=i(104);t.Callback=n.default;var r=i(780);t.CustomVariable=r.default;var s=i(29);t.Frequency=s.default;var a=i(178);t.Selector=a.default;var o=i(461);t.Tag=o.default;var l=i(756);t.Targeting=l.default;var d=i(467);t.Placement=d.default;var m=i(23);t.Template=m.default;var u=i(934);t.Site=u.default;var p=i(43);t.NativeLayout=p.default;var c=i(821);t.CSite=c.default;var h=i(382);t.USite=h.default},499:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.APIStatus=void 0,function(e){e.READY="READY",e.NOT_READY="NOT_READY",e.INPROGRESS="INPROGRESS"}(i=t.APIStatus||(t.APIStatus={})),t.default=i},273:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AdBlockerStatus=void 0,function(e){e.IP="IP",e.WP="WP",e.NP="NP",e.NA="NA",e.SK="SK"}(i=t.AdBlockerStatus||(t.AdBlockerStatus={})),t.default=i},429:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackType=void 0,function(e){e.PRELOAD="PRELOAD",e.POSTLOAD="POSTLOAD",e.ON_BLANK="ON_BLANK",e.ON_RENDERED="ON_RENDERED",e.ON_DOMLOAD="ON_DOMLOAD",e.ON_DOMREADY="ON_DOMREADY",e.ON_DOMUNLOAD="ON_DOMUNLOAD",e.ON_VIEWPORT="ON_VIEWPORT"}(i=t.CallbackType||(t.CallbackType={})),t.default=i},350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.NETWORK_CODE="5206",e.ENVIRONMENT="prod",e.UAT_BASE_URL="https://uat5-b.investingchannel.com/",e.UAT_DATA_URL=e.UAT_BASE_URL+"data",e.UAT_TARGET_KVAL_URL=e.UAT_BASE_URL+"target/",e.UAT_NATIVELAYOUT_URL=e.UAT_BASE_URL+"site/{0}/nativelayout/{1}",e.UAT_LOG_REPORT_URL=e.UAT_BASE_URL+"log/report/",e.UAT_LOG_ERROR_URL=e.UAT_BASE_URL+"log/error/",e.UAT_LOG_API_URL=e.UAT_BASE_URL+"log/api/",e.UAT_LOG_PAGE_URL=e.UAT_BASE_URL+"log/page/",e.UAT_LOG_URL=e.UAT_BASE_URL+"logs/",e.UAT_EXELATE_PIXEL_URL=e.UAT_BASE_URL+"pixels/vendor/exelate",e.SESSION_TEMPLATE_OBJECT_NAME="IC_TemplateObject",e.VIEWCOUNTER_COOKIE_NAME_PREFIX="IC_ViewCounter_",e.FOLDPOSITION_TOLERANCE=1,e.UAT_CDN_URL="https://u5.investingchannel.com/",e.PREDICTIVE_BASE_URL=e.UAT_CDN_URL+"predictive/",e.UID_IFRAME_URL=e.UAT_CDN_URL+"start.html",e.UAT_JS_URL=e.UAT_CDN_URL+"static",e.UAT_PREBID_URL=e.UAT_CDN_URL+"prebid/",e.UAT_PREBID_VERSION_URL=e.UAT_PREBID_URL+"7.28.0/",e.VERSION="7.1.0",e.PUBMATIC_ID_SOLUTION_URL="//ads.pubmatic.com/AdServer/js/pwt/",e.PREBID_S2S_URL="//s2s.investingchannel.com",e.PREBID_S2S_AUCTION_URL=e.PREBID_S2S_URL+"/openrtb2/auction",e.PREBID_S2S_COOKIE_SYNC_URL=e.PREBID_S2S_URL+"/cookie_sync",e.UAT_HASHED_EMAIL_URL=e.UAT_BASE_URL+"users/pubcid/",e.SOVRN_UID_SOLTUION_URL="//get.s-onetag.com/5953ed02-1e0b-4cc7-bc8f-26d349047301/tag.min.js",e.ID5_UID_SOLTUION_URL="https://cdn.id5-sync.com/api/1.0/id5-api.js",e}();t.default=i},369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getRandomNumber=function(){return this.rnd},e.prototype.getTile=function(){return this.tile},e.prototype.getPosition=function(){return this.pos},e.prototype.getBrowserSize=function(){return this.bs},e.prototype.getAbsolutePosition=function(){return this.ap},e.prototype.getRelativePosition=function(){return this.rp},e.prototype.getFoldPosition=function(){return this.fp},e.prototype.getVisiblePercentage=function(){return this.ivp},e.prototype.getAdRefreshCount=function(){return+this.arc},e.prototype.getAdRefreshType=function(){return this.art},e.prototype.getTarget=function(){return this.tl},e.prototype.getTargetKval=function(){return this.kval},e.prototype.getAdomikRandomNumber=function(){return this.ado_g},e.prototype.getAdomikHour=function(){return this.ado_h},e.prototype.getAdxRandomNumber=function(){return this.adx_b},e.prototype.getAdxHour=function(){return this.h},e.prototype.getTagId=function(){return this.tid},e.prototype.setRandomNumber=function(e){this.rnd=e},e.prototype.setTile=function(e){this.tile=e},e.prototype.setPosition=function(e){this.pos=e},e.prototype.setBrowserSize=function(e){this.bs=e},e.prototype.setAbsolutePosition=function(e){this.ap=e},e.prototype.setRelativePosition=function(e){this.rp=e},e.prototype.setFoldPosition=function(e){this.fp=e},e.prototype.setVisiblePercentage=function(e){this.ivp=e},e.prototype.setAdRefreshCount=function(e){this.arc=""+e},e.prototype.setAdRefreshType=function(e){this.art=e},e.prototype.setTarget=function(e){this.tl=e},e.prototype.setTargetKval=function(e){this.kval=e},e.prototype.setAdomikRandomNumber=function(e){this.ado_g=e},e.prototype.setAdomikHour=function(e){this.ado_h=e},e.prototype.setAdxRandomNumber=function(e){this.adx_b=e},e.prototype.setAdxHour=function(e){this.h=e},e.prototype.setTagId=function(e){this.tid=e},e}();t.default=i},918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.xu="-1"}return e.prototype.getPageId=function(){return this.ord},e.prototype.getViewCount=function(){return this.viewCount},e.prototype.getDocumentType=function(){return this.dt},e.prototype.getReferrerType=function(){return this.rft},e.prototype.getAdTagName=function(){return this.usn},e.prototype.getPageType=function(){return this.pt},e.prototype.getDeviceType=function(){return this.d},e.prototype.getExeletUId=function(){return this.xu},e.prototype.IsSearchEngine=function(){return"true"==this.is_search},e.prototype.getDoNotTrack=function(){return"true"==this.dnt},e.prototype.getPageurl=function(){return this.pageurl},e.prototype.getReferer=function(){return this.referer},e.prototype.getUserCookie=function(){return this.uc},e.prototype.setPageId=function(e){this.ord=e},e.prototype.setViewCount=function(e){this.viewCount=e},e.prototype.setDocumentType=function(e){this.dt=e},e.prototype.setReferrerType=function(e){this.rft=e},e.prototype.setAdTagName=function(e){this.usn=e},e.prototype.setPageType=function(e){this.pt=e},e.prototype.setDeviceType=function(e){this.d=e},e.prototype.setExeletUId=function(e){this.xu=e},e.prototype.setIsSearchEngine=function(e){this.is_search=String(e)},e.prototype.setDoNotTrack=function(e){this.dnt=String(e)},e.prototype.setPageurl=function(e){this.pageurl=e},e.prototype.setReferer=function(e){this.referer=e},e.prototype.setUserCookie=function(e){this.uc=e},e.prototype.setICFID=function(e){this.ic_fid=e},e.prototype.setICTID=function(e){this.ic_tid=e},e}();t.default=i},158:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceType=void 0,function(e){e.DESKTOP="d",e.MOBILE="m",e.TABLET="t",e.UNKNOWN="u"}(i=t.DeviceType||(t.DeviceType={})),t.default=i},133:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentType=void 0,function(e){e.UNKNOWN="un",e.PAGE="pg",e.IFRAME="if",e.FRIENDLYFRAME="ff"}(i=t.DocumentType||(t.DocumentType={})),t.default=i},902:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=void 0,function(e){e.SELECTOR_NOT_FOUND="Selector not loaded.",e.GEO_TARGETING_FAILED="Geo not matched.",e.DEVICE_TARGETING_FAILED="Device not matched.",e.GDPR_TARGETING_FAILED="Not able to serve the tag as consents are not given.",e.CUSTOM_TARGETING_FAILED="Not able to serve the tag as targeting is not matched.",e.TAG_NOT_CONFIGURED="Tag is not configured.",e.SELECTOR_INVALID="Selector not configured.",e.ADSIZE_INVALID="AdSize is not configured for display tag.",e.TARGET_INVALID="Target is not configured for display tag.",e.ADSIZEMAPPING_INVALID="Invalid SizeMapping configuration.",e.ADSIZEMAPPING_TARGETING_FAILED="Blank AdSize configured in SizeMapping.",e.NO_ADS="Publisher has passed show_no_ads flag.",e.UNKNOW_ERROR="Due some unknown error, not able to serve the tag.",e.PAGE_OBJECT_NOT_FOUND="Publisher is trying to call API, but page object does not exist ",e.PAGE_DESTROY_TEMPLATE_NOT_FOUND="Template does not exist ",e.PAGE_DESTROY_FAILED="Failed to destroy the page due to some internal error ",e.PAGE_REFRESHTAG_TAG_NOT_FOUND="Publisher tag does not exist.",e.PAGE_REFRESHTAG_FAILED="Failed to refresh the page due to some internal error ",e.ADD_SIZEMAPPING_FAILED="Failed to add the sizemppaing object, due to some internal error ",e.BUILD_SIZEMAPPING_FAILED="Failed to build the size mapping object due to some internal error ",e.PAGE_DEFINETAG_SITE_MISMATCH="Different site provided ",e.PAGE_DEFINETAG_TARGET_NOT_FOUND="Invalid target provided ",e.PAGE_DEFINETAG_INVALID_SIZE="Invalid size provided ",e.PAGE_DEFINETAG_FAILED="Failed to define the tag due to some internal error ",e.PAGE_DEFINETAG_INVALID_DIVID="Publisher is trying to create the multiple tags with the same div-id",e.PAGE_DEFINEOOPTAG_SITE_MISMATCH="Different oop site provided ",e.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND="Invalid oop target provided ",e.PAGE_DEFINEOOPTAG_FAILED="Failed to define the oop tag due to some internal error ",e.PAGE_DEFINEOOPTAG_INVALID_DIVID="Publisher is trying to create the multiple oop tags with the same div-id",e.PAGE_DEFINEOOPTAG_WI_INVALID_DIVID="Publisher is trying to create the multiple oop tags with the same div-id",e.PAGE_DEFINEOOPTAG_WI_FAILED="Failed to define the oop tag for webinterstitial due to some internal error ",e.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH="Different oop webinterstitial site provided ",e.PAGE_GETPUBTAG_TAG_NOT_FOUND="Tag does not exist for the provided divid ",e.PAGE_GETPUBTAG_FAILED="Failed to found the tag due to some internal error ",e.PAGE_SETKVAL_FAILED="Failed to set the kval due to some error ",e.PAGE_SETUSERID_FAILED="Failed to set user Identity due to some error ",e.PAGE_CLEARKVAL_FAILED="Failed to clear the kval due to some error ",e.PAGE_RENDERTAG_TAG_NOT_FOUND="Publisher tag does not exist",e.PAGE_RENDERTAG_FAILED="Failed to render the tags due to some internal error ",e.TAG_DEFINESIZEMAPPING_FAILED="Failed to define the size mapping on tag ",e.TAG_SETKVAL_FAILED="Failed to set the kval due to some error ",e.TAG_CLEARKVAL_FAILED="Failed to clear the kval due to some error ",e.TAG_RENDER_FAILED="Failed to render the tag due to some error ",e.TAG_REFRESH_FAILED="Failed to refresh the tag due to some error ",e.TAG_CLEAR_FAILED="Failed to clear the tag content due to some error ",e.TAG_DESTROY_FAILED="Failed to destroy the tag due to some error ",e.TAG_ADDEVENTLISTNER_FAILED="Failed to register event listener",e.NATIVE_LAYOUT_NOT_FOUND="Native layout is not configured on tag ",e.PAGE_DEFINENATIVETAG_SITE_MISMATCH="Different site provided ",e.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND="Invalid target provided ",e.PAGE_DEFINENATIVETAG_FAILED="Failed to define the native tag due to some internal error ",e.PAGE_DEFINENATIVETAG_INVALID_DIVID="Publisher is trying to create the multiple tags with the same div-id",e.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND="Invalid native layout id provided "}(i=t.ErrorType||(t.ErrorType={})),t.default=i},810:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyCapUnit=void 0,function(e){e.MILLISECONDS="MILLISECONDS",e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS",e.DAYS="DAYS",e.WEEKS="WEEKS",e.MONTHS="MONTHS",e.YEARS="YEARS"}(i=t.FrequencyCapUnit||(t.FrequencyCapUnit={})),t.default=i},479:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyType=void 0,function(e){e.IN_DURATION="IN_DURATION"}(i=t.FrequencyType||(t.FrequencyType={})),t.default=i},692:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.InsertionType=void 0,function(e){e.BEFORE="BEFORE",e.AFTER="AFTER",e.FIRST_CHILD="FIRST_CHILD",e.LAST_CHILD="LAST_CHILD",e.REPEAT="REPEAT"}(i=t.InsertionType||(t.InsertionType={})),t.default=i},967:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadType=void 0,function(e){e.ON_LOAD="ON_LOAD",e.ON_VIEW="ON_VIEW",e.ON_REALTIME="ON_REALTIME",e.ONLOAD_ONVIEW="ONLOAD_ONVIEW",e.CUSTOM="CUSTOM"}(i=t.LoadType||(t.LoadType={})),t.default=i},584:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PageType=void 0,function(e){e.HOME="hm",e.ARTICLE="at",e.TICKER="tk",e.WELCOMEAD="wa",e.UNKNOWN=""}(i=t.PageType||(t.PageType={})),t.default=i},97:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.allowInterstitial=!1,this.allowMultisize=!1}},760:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementState=void 0,function(e){e.UNKNOWN="UNKNOWN",e.SELECTOR_NOT_LOADED="SELECTOR_NOT_LOADED",e.SELECTOR_LOADED="SELECTOR_LOADED",e.INITIALIZED="INITIALIZED",e.LOADED="LOADED",e.VIEWED="VIEWED",e.CAPPING_EXPIRED="CAPPING_EXPIRED",e.TAG_NOT_AVAILABLE="TAG_NOT_AVAILABLE",e.TARGETING_FAILED="TARGETING_FAILED"}(i=t.PlacementState||(t.PlacementState={})),t.default=i},812:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementType=void 0,function(e){e.HTML="HTML",e.PIXEL="PIXEL",e.UNKNOWN=""}(i=t.PlacementType||(t.PlacementType={})),t.default=i},749:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ReferrerType=void 0,function(e){e.DIRECT="di",e.INTERNAL="in",e.EXTERNAL="ex",e.SEARCH_ENGINE="se",e.UNKNOWN=""}(i=t.ReferrerType||(t.ReferrerType={})),t.default=i},960:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshType=void 0,function(e){e.TIME="t",e.ACTIVEWINDOW="w",e.ONLOAD="o",e.MANUAL="m"}(i=t.RefreshType||(t.RefreshType={})),t.default=i},959:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TagType=void 0,function(e){e.CUSTOM="CUSTOM",e.DISPLAY="DISPLAY",e.NATIVE="NATIVE",e.VIDEO="VIDEO"}(i=t.TagType||(t.TagType={})),t.default=i},889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.allow_Multisize=!1}},243:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.USPStatus=void 0,function(e){e.APPLICABLE="APPLICABLE",e.NOT_APPLICABLE="NOT_APPLICABLE",e.INPROGRESS="INPROGRESS"}(i=t.USPStatus||(t.USPStatus={})),t.default=i},946:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.gaElems=t.gaNewElem=void 0;var r=i(620),s=i(973),a=i(350),o=i(243);t.gaNewElem={},t.gaElems={};var l=function(){function e(){var e=this;this.mErrors=[],this.mReports=[],this.mAPIs=[],this.mPageLog=null,this.mSSPLog=[],this.mUIDLog=[],this.mTriggerPageLog=!1,this.mIsGdprApplicable=!1,this.mUSPStatus=o.USPStatus.NOT_APPLICABLE,this.mUidKeyName="IC_TID",this.mUserCookieName="IC_USER_COOKIE",this.mUid="",this.logs={},this.mIsUidIframeLoaded=!1,this.mIsWaitingUidIframe=!1,this.mUidCallback=null,this.mIsDebugModeEnabled=!1,s.Utility.ICJQuery(window).on("unload",(function(){e.destroy()})),setInterval((function(){e.postLogsToServer()}),1e3)}return e.getInstance=function(){return this.mUtil||(this.mUtil=new e),this.mUtil},e.prototype.setGDPRStatus=function(e){this.mIsGdprApplicable=e},e.prototype.setUSPStatus=function(e){this.mUSPStatus=e},e.prototype.executeJS=function(t){e.ICJQuery.globalEval(t)},e.prototype.isSelectorLoaded=function(t,i,n,r){return!!e.ICJQuery("#investingchannel_div_"+r).length||this.getEmptyElementsForSelector(t,i,n).length>0},e.prototype.getEmptyElementsForSelector=function(e,t,i){var n="0";try{var r=[],a=document.querySelectorAll(e);n="1";for(var o=0;o<a.length;++o){var l=s.Utility.ICJQuery(a[o]).children();n="1."+o;for(var d=!1,m=0;m<l.length;++m)if(n="1."+o+"."+m,l[m].id.indexOf("investingchannel_div_")>-1){if(l[m].getAttribute("ic_pageId")!=t){d=!0;break}if(l[m].getAttribute("ic_placementid")==""+i){d=!0;break}}d||(n="2."+o,r.push(a[o]))}return r}catch(e){s.Utility.getInstance().ic_ga_event("Utility.getEmptyElementsForSelector",this.prepareGALabel("",t,n+") "+e.message+" $# "+i))}},e.prototype.executeOnLoad=function(e){try{var t=document.readyState;if("interactive"==t||"complete"==t)return void this.executeJS(e);window.addEventListener("DOMContentLoaded",this.executeJS(e),!1)}catch(t){this.executeJS(e)}},e.prototype.clientWindowHeight=function(){var e=0;return"number"==typeof window.innerHeight?e=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),e},e.prototype.clientWindowWidth=function(){var e=0;return"number"==typeof window.innerWidth?e=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?e=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),e},e.prototype.getBrowserSize=function(){return this.clientWindowWidth()+"x"+this.clientWindowHeight()},e.prototype.convertAdSize=function(e){var t="";if(e.constructor!==Array&&("fluid"==e.toString()||"oop"==e.toString()||"webinterstitial"==e.toString()))return e.toString();if(2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return e.join("x");for(var i=0;i<e.length;++i)e[i].constructor===Array&&2==e[i].length?t+=e[i].join("x")+",":"string"==typeof e[i]&&"fluid"==e[i]&&(t+=e[i]+",");return t&&(t=t.replace(/,\s*$/,"")),t},e.prototype.isInViewport=function(t,i){var n=e.ICJQuery(t);if(!n.length)return!1;var r=n[0];if(null===r)return null;var s=r.getBoundingClientRect(),a=this.clientWindowHeight(),o=this.clientWindowWidth(),l=s.bottom,d=s.right,m=s.top,u=s.left;return i&&i>0&&(l+=a*(i/100),d+=o*(i/100),m-=a*(i/100),u-=o*(i/100)),l>=0&&d>=0&&m<=a&&u<=o},e.prototype.isCookieEnabled=function(){try{document.cookie="ic_cookietest=1";var e=-1!=document.cookie.indexOf("ic_cookietest=");return document.cookie="ic_cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){}return!1},e.prototype.getFromLocalStorage=function(e){try{if("undefined"!=typeof Storage)return localStorage.getItem(e)}catch(e){}return null},e.prototype.getFromSessionStorage=function(e){try{if("undefined"!=typeof Storage)return sessionStorage.getItem(e)}catch(e){}return null},e.prototype.getFromCookie=function(e){try{if(navigator.cookieEnabled){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}}catch(e){}return""},e.prototype.isCookieExists=function(e){if(navigator.cookieEnabled)try{if(2==("; "+document.cookie).split("; "+e+"=").length)return!0}catch(e){}return!1},e.prototype.deleteFromLocalStorage=function(e){try{"undefined"!=typeof Storage&&localStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromSessionStorage=function(e){try{"undefined"!=typeof Storage&&sessionStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromCookie=function(e){try{navigator.cookieEnabled&&(document.cookie=e+"=;expires=Fri, 02-Jan-1970 00:00:00 GMT;path=/")}catch(e){}},e.prototype.saveToLocalStorage=function(e,t){try{"undefined"!=typeof Storage&&localStorage.setItem(e,t)}catch(e){}},e.prototype.saveToSessionStorage=function(e,t){try{"undefined"!=typeof Storage&&sessionStorage.setItem(e,t)}catch(e){}},e.prototype.saveToCookie=function(e,t,i){if(navigator.cookieEnabled)try{document.cookie=null==i?e+"="+t+";path=/":e+"="+t+"; max-age="+i+";path=/"}catch(e){}},e.prototype.getFromQueryString=function(e,t){var i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&]*)|&|$)").exec(i);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e.prototype.getUspString=function(e,t){if("function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){return t?"uspString"in e?e.uspString:void 0:null})),t&&this.isLocalStorageSupported()){var i=this.getFromLocalStorage(e);if(i)return i}return this.getFromCookie(e)},e.prototype.pushToErrorLog=function(e){this.mErrors.push(e)},e.prototype.pushToReportLog=function(e){this.mReports.push(e)},e.prototype.pushToAPILog=function(e){this.mAPIs.push(e)},e.prototype.preparePageLog=function(e){this.mPageLog=e},e.prototype.triggerPageLog=function(){this.mTriggerPageLog=!0},e.prototype.prepareSSPLog=function(e){this.mSSPLog.push(e)},e.prototype.prepareUIDLog=function(e){this.mUIDLog.push(e)},e.prototype.isLocalStorageSupported=function(){try{if("undefined"==typeof Storage)return!1}catch(e){return!1}return!0},e.prototype.adomikRandomAdGroup=function(){var e=Math.random();switch(!1){case!(e<.09):return"ad_ex"+Math.floor(100*e);case!(e<.1):return"ad_bc";default:return"ad_opt"}},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],n=0;n<e.length;++n)t.indexOf(e[n].toLowerCase())>=0||(t.push(e[n].toLowerCase()),i.push(e[n]));return i},e.prototype.getTopWindowDomain=function(){try{return s.Utility.window.top.location.hostname}catch(e){}try{return document.referrer.match(/:\/\/(.[^/]+)/)[1]}catch(e){}return""},e.prototype.prepareGALabel=function(e,t,i){return(e||"")+" $# "+(t||"")+" $# "+i},e.prototype.initializeGA=function(){var e,i,n,r,s,a,o=new Date;e=window,i=document,n="script",r="ga",s=t.gaNewElem,a=t.gaElems,e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*o,s=i.createElement(n),a=i.getElementsByTagName(n)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(s,a)},e.prototype.ic_ga_event=function(e,t,i){i?(ga("create",i,"auto","UAT5Data"),ga("UAT5Data.send",{hitType:"event",eventCategory:"UAT_"+s.Constant.ENVIRONMENT+"_v"+s.Constant.VERSION,eventAction:e,eventLabel:t})):(ga("create","UA-44058249-9","auto","UAT5"),ga("UAT5.send",{hitType:"event",eventCategory:"UAT_"+s.Constant.ENVIRONMENT+"_v"+s.Constant.VERSION,eventAction:e,eventLabel:t}))},e.prototype.postLogsToServer=function(){if(this.logs={},this.mReports.length>0){var t=this.mReports;this.mReports=[],this.logs.reportLogs=t}if(this.mErrors.length>0){var i=this.mErrors;this.mErrors=[],this.logs.errorLogs=i}if(this.mAPIs.length>0){var n=this.mAPIs;this.mAPIs=[],this.logs.apiLogs=n}if(null!=this.mPageLog&&this.mTriggerPageLog){var r=[this.mPageLog];this.mPageLog=null,this.mTriggerPageLog=!1,this.logs.pageLogs=r}if(this.mSSPLog.length>0){var a=this.mSSPLog;this.mSSPLog=[],this.logs.sspLogs=a}if(this.mUIDLog.length>0){var o=this.mUIDLog;this.mUIDLog=[],this.logs.uidLogs=o}null!=this.logs&&(this.logs.reportLogs||this.logs.errorLogs||this.logs.apiLogs||this.logs.pageLogs||this.logs.sspLogs||this.logs.uidLogs)&&e.ICJQuery.post({url:s.Constant.UAT_LOG_URL+"?gdprapplicable="+this.mIsGdprApplicable+"&uspstatus="+this.mUSPStatus,async:!0,data:JSON.stringify(this.logs),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0}})},e.prototype.pushAPILog=function(t,i,n,r,s,a){var o=r.toString();o+=s;var l=e.window.location.href,d=this.updateUrlIfTranslator(t,l);d&&(l=d),a||(a="null"),this.mAPIs.push({apiKey:i,placementId:"null",placementType:"null",publisherType:"ADVANCE",pageId:a,rnd:"null",documentType:t,errorCode:e.getInstance().getErrorTypeKeyFromValue(r),errorDetail:o,kval:encodeURIComponent("bs:"+this.getBrowserSize()),refererUrl:encodeURIComponent(n),pageUrl:encodeURIComponent(l)})},e.prototype.getErrorTypeKeyFromValue=function(e){switch(e){case s.ErrorType.ADSIZE_INVALID:return"ADSIZE_INVALID";case s.ErrorType.CUSTOM_TARGETING_FAILED:return"CUSTOM_TARGETING_FAILED";case s.ErrorType.DEVICE_TARGETING_FAILED:return"DEVICE_TARGETING_FAILED";case s.ErrorType.GDPR_TARGETING_FAILED:return"GDPR_TARGETING_FAILED";case s.ErrorType.GEO_TARGETING_FAILED:return"GEO_TARGETING_FAILED";case s.ErrorType.SELECTOR_INVALID:return"SELECTOR_INVALID";case s.ErrorType.SELECTOR_NOT_FOUND:return"SELECTOR_NOT_FOUND";case s.ErrorType.TAG_NOT_CONFIGURED:return"TAG_NOT_CONFIGURED";case s.ErrorType.TARGET_INVALID:return"TARGET_INVALID";case s.ErrorType.ADSIZEMAPPING_INVALID:return"ADSIZEMAPPING_INVALID";case s.ErrorType.ADSIZEMAPPING_TARGETING_FAILED:return"ADSIZEMAPPING_TARGETING_FAILED";case s.ErrorType.NO_ADS:return"NO_ADS";case s.ErrorType.UNKNOW_ERROR:return"UNKNOW_ERROR";case s.ErrorType.PAGE_OBJECT_NOT_FOUND:return"PAGE_OBJECT_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_TEMPLATE_NOT_FOUND:return"PAGE_DESTROY_TEMPLATE_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_FAILED:return"PAGE_DESTROY_FAILED";case s.ErrorType.PAGE_REFRESHTAG_TAG_NOT_FOUND:return"PAGE_REFRESHTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_REFRESHTAG_FAILED:return"PAGE_REFRESHTAG_FAILED";case s.ErrorType.ADD_SIZEMAPPING_FAILED:return"ADD_SIZEMAPPING_FAILED";case s.ErrorType.BUILD_SIZEMAPPING_FAILED:return"BUILD_SIZEMAPPING_FAILED";case s.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH:return"PAGE_DEFINETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND:return"PAGE_DEFINETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINETAG_INVALID_SIZE:return"PAGE_DEFINETAG_INVALID_SIZE";case s.ErrorType.PAGE_DEFINETAG_FAILED:return"PAGE_DEFINETAG_FAILED";case s.ErrorType.PAGE_DEFINETAG_INVALID_DIVID:return"PAGE_DEFINETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH:return"PAGE_DEFINEOOPTAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND:return"PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINEOOPTAG_FAILED:return"PAGE_DEFINEOOPTAG_FAILED";case s.ErrorType.PAGE_DEFINEOOPTAG_INVALID_DIVID:return"PAGE_DEFINEOOPTAG_INVALID_DIVID";case s.ErrorType.PAGE_GETPUBTAG_TAG_NOT_FOUND:return"PAGE_GETPUBTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_GETPUBTAG_FAILED:return"PAGE_GETPUBTAG_FAILED";case s.ErrorType.PAGE_SETKVAL_FAILED:return"PAGE_SETKVAL_FAILED";case s.ErrorType.PAGE_CLEARKVAL_FAILED:return"PAGE_CLEARKVAL_FAILED";case s.ErrorType.PAGE_RENDERTAG_TAG_NOT_FOUND:return"PAGE_RENDERTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_RENDERTAG_FAILED:return"PAGE_RENDERTAG_FAILED";case s.ErrorType.TAG_DEFINESIZEMAPPING_FAILED:return"TAG_DEFINESIZEMAPPING_FAILED";case s.ErrorType.TAG_SETKVAL_FAILED:return"TAG_SETKVAL_FAILED";case s.ErrorType.TAG_CLEARKVAL_FAILED:return"TAG_CLEARKVAL_FAILED";case s.ErrorType.TAG_RENDER_FAILED:return"TAG_RENDER_FAILED";case s.ErrorType.TAG_REFRESH_FAILED:return"TAG_REFRESH_FAILED";case s.ErrorType.TAG_CLEAR_FAILED:return"TAG_CLEAR_FAILED";case s.ErrorType.TAG_DESTROY_FAILED:return"TAG_DESTROY_FAILED";case s.ErrorType.TAG_ADDEVENTLISTNER_FAILED:return"TAG_ADDEVENTLISTNER_FAILED";case s.ErrorType.NATIVE_LAYOUT_NOT_FOUND:return"NATIVE_LAYOUT_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:return"PAGE_DEFINENATIVETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND:return"PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_FAILED:return"PAGE_DEFINENATIVETAG_FAILED";case s.ErrorType.PAGE_DEFINENATIVETAG_INVALID_DIVID:return"PAGE_DEFINENATIVETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND:return"PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND";default:return"UNKNOWN"}},e.prototype.updateUrlIfTranslator=function(e,t){if(e==s.DocumentType.IFRAME){var i=s.Utility.ICJQuery("<a>").prop("href",t).prop("hostname");if("translate.google.com"==i.toLowerCase()||"translate.googleusercontent.com"==i.toLowerCase()){var n=this.getQueryStringParam("u",t);if(n&&n.length>0)return n[1]}return null}},e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var n=0;n<t.length;++n)i.push(t[n]);console.log.apply(console,i)}catch(e){}},e.consoleTimeMessage=function(e,t,i){if(void 0===i&&(i=!1),t)try{i?console.time("Time taken: "+e):console.timeEnd("Time taken: "+e)}catch(e){}},e.prototype.getQueryStringParam=function(e,t){return decodeURIComponent(t).match(new RegExp(e+"=(.*?)($|&)","i"))||[][1]},e.prototype.destroy=function(){this.mTriggerPageLog=!0,this.postLogsToServer()},e.FormatString=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=0;n<t.length;n++)e=e.replace("{".concat(n,"}"),t[n]);return e},e.prototype.dropICUidIframe=function(){var e=this;if(!document.getElementById("ICUid_Iframe")){var t=document.createElement("iframe");t.id="ICUid_Iframe",t.style.display="none",t.src=s.Constant.UID_IFRAME_URL,t.onload=function(){e.mIsUidIframeLoaded=!0,e.mIsWaitingUidIframe&&e.requestUid(e.mUidCallback,e.mIsDebugModeEnabled),e.mIsWaitingUidIframe},document.body.appendChild(t)}},e.prototype.requestUid=function(e,t){var i=this,n=this.getFromLocalStorage(this.mUidKeyName),r=this.getFromLocalStorage(this.mUserCookieName);if(null!=n&&""!=n){try{t&&this.debugConsoleMessage("Found userid "+n+" in first party local storage")}catch(e){}return this.mUid=n,void("function"==typeof e&&e(n,r))}if(this.mUidCallback=e,!this.mIsUidIframeLoaded)return this.mIsWaitingUidIframe=!0,void(this.mIsDebugModeEnabled=t);var s=document.getElementById("ICUid_Iframe");(s.contentWindow||s.contentDocument).postMessage("getUid","*"),void 0!==window.addEventListener?window.addEventListener("message",(function(n){i.processUidIframeData(n,e,t)}),!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",(function(n){i.processUidIframeData(n,e,t)}))},e.prototype.processUidIframeData=function(e,t,i){if(0==s.Constant.UID_IFRAME_URL.indexOf(e.origin)&&null!=e.data){var n=e.data.split("=");if(2==n.length&&"icuid"==n[0]){var r="",a="f",o="Third party local storage.";""!=n[1]&&null!=n[1]?(r=n[1],a="t"):(o="First party local storage.",a=navigator.cookieEnabled?"f":"n"),this.saveToLocalStorage(this.mUidKeyName,r),this.saveToLocalStorage(this.mUserCookieName,a),this.mUid=r;try{i&&this.debugConsoleMessage("Generated userid is "+r+" and the source is "+o,e)}catch(e){}"function"==typeof t&&t(r,a)}}},e.prototype.getUid=function(){return this.mUid},e.createSSPReqObject=function(e,t,i,r,s){var a,o=[];return t.forEach((function(e,i){t[i]=e.join("x")})),a=t.join(","),e.forEach((function(e){var t=e.split(";")[0].split(":")[1],l=e.split(";")[1].split(":")[1],d=e.split(";")[2].split(":")[1],m="",u=r;try{var p=u.split("_");p[2]&&(m=p[2])}catch(e){}var c=n(n({},i),{arc:s,mediaType:t,adslot:r,rnd:m,bidderCode:l,passedAdSizes:a,source:d});o.push(c)})),o},e.prototype.resetSSPLogsObject=function(e,t){t[e]&&t[e].length>0&&delete t[e]},e.prototype.createSSPResponseObject=function(e,t,i,r){var s=t.bidderRequests.length>0?t.bidderRequests[0].auctionStart:0,a=t.bidsReceived,o=t.noBids,l=t.winningBids,d=t.adUnitCodes,m=r.join(";");for(var u in d){var p=d[u],c=[],h=e[p],g=e[p];try{for(var f in l)if((I=l[f]).adUnitCode&&p==I.adUnitCode){c.push(I.bidder);var S=this.getSspReqObj(h,I.bidder);if(Object.keys(S).length>0){var y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m);y=n(n({},S),b),this.prepareSSPLog(y)}}for(var f in a)(I=a[f]).adUnitCode&&p==I.adUnitCode&&(c.push(I.bidder),S=this.getSspReqObj(h,I.bidder),Object.keys(S).length>0&&(y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m),y=n(n({},S),b),this.prepareSSPLog(y)));for(var f in o)if((I=o[f]).adUnitCode&&p==I.adUnitCode&&(c.push(I.bidder),S=this.getSspReqObj(h,I.bidder),Object.keys(S).length>0)){y={};var T=i-s;b=this.sspLogObject(I.auctionId,s,"","0",s,i,T.toString(),"","",I.size,"","","","","No Bids",I.size,m),y=n(n({},S),b),this.prepareSSPLog(y)}for(var f in g){var I;(I=g[f]).adslot&&p==I.adslot&&c.indexOf(I.bidderCode)<0&&(S=this.getSspReqObj(h,I.bidderCode),Object.keys(S).length>0&&(y={},T=i-s,b=this.sspLogObject("",s,"","-1",s,i,T.toString(),"","","","","","","","Time Out","",m),y=n(n({},S),b),this.prepareSSPLog(y)))}this.resetSSPLogsObject(p,e)}catch(e){console.log("error : ",e)}}},e.prototype.createBidAdapterNotLoadedLogs=function(e,t,i,s){for(var a in e){var o=e[a];for(var l in o){var d=o[l].bids;for(var m in d){var u=r.SSP.getPrebidSource().CLIENT,p=d[m],c={bidderCode:p.bidder};s.indexOf(p.bidder)>-1&&(u=r.SSP.getPrebidSource().S2S);var h,g=i-t,f=this.sspLogObject("","","","-2",t,i,g.toString(),"","","","","","","","Time Out","","");h=n(n(n(n({},{source:u}),o[l].req),c),f),this.prepareSSPLog(h)}}this.resetSSPLogsObject(a,e)}},e.prototype.getBidderNameByCode=function(e,t){return t[e]},e.prototype.getBidderNameByName=function(e,t){var i=e;return null!=typeof t[e]&&(i=t[e]),i},e.prototype.getSspReqObj=function(e,t){var i={};for(var n in e){var r=e[n];r.bidderCode==t&&(i=r)}return i},e.prototype.createA9SSPResponseObject=function(e,t,i,r,s){var a=t[e][0];if(0==s){if(i&&Object.keys(i).length>0){var o={},l=this.sspLogObject(i.auctionId,i.auctionStart,i.amzniid,i.cpm,i.requestTimestamp,i.responseTimestamp,i.timeToRespond,i.ttl,i.adId,i.size,i.currency,i.creativeId,i.netRevenue,i.dealId,i.statusMessage,i.amznsz,"");o=n(n({},a),l),this.prepareSSPLog(o)}r&&Object.keys(r).length>0&&(o={},l=this.sspLogObject(r.auctionId,r.auctionStart,r.requestId,r.cpm,r.requestTimestamp,r.responseTimestamp,r.timeToRespond,r.ttl,r.adId,r.size,r.currency,r.creativeId,r.netRevenue,r.dealId,r.statusMessage,r.amznsz,""),o=n(n({},a),l),this.prepareSSPLog(o)),this.resetSSPLogsObject(e,t)}else o={},l=this.sspLogObject(r.auctionId,r.auctionStart,"","-1",r.requestTimestamp,r.responseTimestamp,r.timeToRespond,r.ttl,"","","","","","","Time Out","",""),o=n(n({},a),l),this.prepareSSPLog(o),this.resetSSPLogsObject(e,t)},e.prototype.sspLogObject=function(e,t,i,n,r,s,a,o,l,d,m,u,p,c,h,g,f){return{auctionID:e||"",auctionStart:t||"",bidderRequestid:i||"",bid_value:n||"",bidder_requestTimestamp:r||"",bidder_responseTimestamp:s||"",bidder_timeToRespond:a||"",bidder_ttl:o||"",adId:l||"",size:d||"",currency:m||"",creativeId:u||"",netrevenue:p||"",dealId:c||"",statusMessage:h||"",receivedAdSizes:g||"",uids:f||""}},e.prototype.createUidLogs=function(e,t,i,n,r,s,a){var o={pageId:e,emailHash:t,activeTime:i,scrollDepth:n,pageHeight:r,uids:s};this.prepareUIDLog(o),a&&this.postLogsToServer()},e.prototype.getEstOffset=function(){return(new Date).getTimezoneOffset()<(e=new Date(0,1),t=new Date(6,1),Math.max(e.getTimezoneOffset(),t.getTimezoneOffset()))?-5:-4;var e,t},e.prototype.getUSDayOfWeek=function(){try{var e=new Date,t=e.getTime()+60*e.getTimezoneOffset()*1e3,i=this.getEstOffset();return["sun","mon","tue","wed","thu","fri","sat"][new Date(t+36e5*i).getDay()]}catch(e){return""}},e.prototype.getNetWorkCode=function(e){var t=a.default.NETWORK_CODE;return e&&null!=e&&e.length>0&&(t=t+","+e),t},e.prototype.dropScripts=function(e,t,i,n,r,a,o){if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var l=document.createElement("script");a&&(l.async=!0),o&&(l.defer=!0),r&&(l.id=r),l.type="text/javascript",l.src=t;var d=document.getElementsByTagName("script")[0];e==s.DocumentType.FRIENDLYFRAME&&(d=s.Utility.window.top.document.getElementsByTagName("head")[0]),d.parentNode.insertBefore(l,d),n&&s.Utility.getInstance().debugConsoleMessage("Dropped script: "+i)}},e.prototype.isValidEmail=function(e){return!!e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)},e.prototype.isValidPhone=function(e){return e.match(/^\d{10}$/)||e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||e.match(/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)?e=e.replace(/\D/g,""):null},e.prototype.calculateRandomAppliedPercentage=function(e){if(e&&""!=e)try{var t=+e;if(e>=0&&e<=100&&Math.floor(100*Math.random())+1<=t)return!0}catch(t){return console.log("calculateRandomAppliedPercentage :: ERROR ::",e),!1}return!1},e.prototype.isJsFileExistsInDom=function(e,t,i){var n=document;return e==s.DocumentType.FRIENDLYFRAME&&(n=s.Utility.window.top),!(!t||!(t in n.getElementsByTagName("script"))||(i&&s.Utility.getInstance().debugConsoleMessage("Script will not be dropped, as it exists in dom :: Script ID :: "+t+" :: documentType  :: "+e),0))},e.prototype.getScrollDepth=function(){return document.documentElement.scrollTop},e.prototype.getPageHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},e.window=window,e.ICJQuery=window.InvestingChannel.JQueryStatic.noConflict(),e}();t.default=l},973:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdBlockerStatus=t.APIStatus=t.ErrorType=t.USPStatus=t.PlacementConfig=t.TemplateConfig=t.RefreshType=t.DeviceType=t.DFPPlacementParams=t.DFPTemplateParams=t.TagType=t.ReferrerType=t.PlacementType=t.PlacementState=t.PageType=t.LoadType=t.InsertionType=t.FrequencyType=t.FrequencyCapUnit=t.DocumentType=t.CallbackType=t.Constant=t.Utility=void 0;var n=i(946);t.Utility=n.default;var r=i(350);t.Constant=r.default;var s=i(429);t.CallbackType=s.default;var a=i(133);t.DocumentType=a.default;var o=i(810);t.FrequencyCapUnit=o.default;var l=i(479);t.FrequencyType=l.default;var d=i(692);t.InsertionType=d.default;var m=i(967);t.LoadType=m.default;var u=i(584);t.PageType=u.default;var p=i(760);t.PlacementState=p.default;var c=i(812);t.PlacementType=c.default;var h=i(749);t.ReferrerType=h.default;var g=i(959);t.TagType=g.default;var f=i(918);t.DFPTemplateParams=f.default;var S=i(369);t.DFPPlacementParams=S.default;var y=i(158);t.DeviceType=y.default;var b=i(960);t.RefreshType=b.default;var T=i(889);t.TemplateConfig=T.default;var I=i(97);t.PlacementConfig=I.default;var v=i(243);t.USPStatus=v.default;var P=i(902);t.ErrorType=P.default;var A=i(499);t.APIStatus=A.default;var E=i(273);t.AdBlockerStatus=E.default},575:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(973),r=function(){function e(e,t,i,r,s,a,o){this.mSize=[],this.mIsOOP=!1,this.mEnableServices=!0,this.mIsOOPWI=!1,this.mAdUnit=e,this.mDivId=t,this.mEnableServices=r,this.mGPTTagType="GPTA",a&&(null==o||o.length<=0)?(this.mIsOOPWI=!0,this.mSize=[1,1]):null==o||o.length<=0?(this.mSize=[1,1],this.mIsOOP=!0):this.mSize=o,this.mDFPNetworkId=n.Utility.getInstance().getNetWorkCode(s),this.defineSlot()}return e.prototype.defineSlot=function(){var e=this;this.mIsOOPWI?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,googletag.enums.OutOfPageFormat.INTERSTITIAL).addService(googletag.pubads())})):this.mIsOOP?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mDivId).addService(googletag.pubads())})):googletag.cmd.push((function(){e.mDFPSlot=googletag.defineSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mSize,e.mDivId).addService(googletag.pubads())})),this.mEnableServices&&googletag.cmd.push((function(){googletag.enableServices()}))},e.prototype.setTargeting=function(e){var t=this;googletag.cmd.push((function(){for(var i in e)e.hasOwnProperty(i)&&t.mDFPSlot.setTargeting(i,e[i])}))},e.prototype.setTargetingByKey=function(e,t){var i=this;googletag.cmd.push((function(){i.mDFPSlot.setTargeting(e,t)}))},e.prototype.setCollapseEmptyDiv=function(e,t){var i=this;googletag.cmd.push((function(){i.mDFPSlot.setCollapseEmptyDiv(e,t)}))},e.prototype.getTargeting=function(){var e=this;googletag.cmd.push((function(){var t=e.mDFPSlot.getTargetingKeys(),i={};for(var n in t)i[t[n]]=e.mDFPSlot.getTargeting(t[n]);return i}))},e.prototype.clearTargeting=function(){this.mDFPSlot.clearTargeting()},e.prototype.clearTargetingByKey=function(e){this.mDFPSlot.clearTargeting(e)},e.prototype.clearTargetingByKeyPrefix=function(e){var t=googletag.pubads().getTargetingKeys();for(var i in t)0==i.indexOf(e)&&this.clearTargetingByKey(i)},e.prototype.render=function(){var e=this;googletag.cmd.push((function(){googletag.display(e.mDivId),googletag.pubads().isInitialLoadDisabled()&&e.refresh()}))},e.prototype.refresh=function(){googletag.pubads().refresh([this.mDFPSlot],{changeCorrelator:!1})},e.prototype.destroy=function(){var e=this;googletag.cmd.push((function(){googletag.destroySlots([e.mDFPSlot])}))},e.prototype.registerEvent=function(e,t){var i=this;googletag.cmd.push((function(){googletag.pubads().addEventListener(e,(function(e){e.slot==i.mDFPSlot&&"function"==typeof t&&t(e)}))}))},e.prototype.defineSizeMapping=function(e){var t=this;googletag.cmd.push((function(){t.mDFPSlot.defineSizeMapping(t.buildSizeMapping(e))}))},e.prototype.buildSizeMapping=function(e){for(var t=googletag.sizeMapping(),i=0,n=e;i<n.length;i++){var r=n[i];t=t.addSize(r[0],r[1])}return t.build()},e.prototype.getDFPSlot=function(){return this.mDFPSlot},e.prototype.getDivId=function(){return this.mDivId},e}();t.default=r},101:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i,n,r,s,a,o,l){this.isSingleRequestEnabled=e,this.mSingleRequestCallback=t,this.isInitialLoadDisabled=i,this.isGDPREnabled=n,this.isUSPEnabled=r,this.mGPTTagType="GPTA",this.mUtil=a,this.mTemplate=o,this.isSingleRequestEnabled&&this.enableSingleRequest(),this.isInitialLoadDisabled&&this.disableInitialLoad(),this.isGDPREnabled&&this.configurePersonalizedAd(),this.isUSPEnabled&&this.configureRestrictDataProcessing(),l&&l.length>0&&this.setPageUrl(l)}return e.createInstance=function(t,i,n,r,s,a,o,l,d){return null==this.mDatManager?this.mDatManager=new e(t,i,n,r,s,a,o,l,d):(this.mDatManager.isGDPREnabled=r,this.mDatManager.isGDPREnabled||this.mDatManager.configureNonPersonalizedAd()),this.mDatManager},e.getInstance=function(){return this.mDatManager},e.dropDFPScript=function(){(i=window.googletag=window.googletag||{}).cmd=i.cmd||[];var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=this.mDFPScript,e.parentNode.insertBefore(t,e)},e.prototype.enableSingleRequest=function(){var e=this;try{i.cmd.push((function(){e.isSingleRequestEnabled=i.pubads().enableSingleRequest(),"function"==typeof e.mSingleRequestCallback&&e.mSingleRequestCallback(e.isSingleRequestEnabled)}))}catch(e){this.mUtil.ic_ga_event("DATManager.configureSingleRequest",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.disableInitialLoad=function(){try{i.cmd.push((function(){i.pubads().disableInitialLoad()}))}catch(e){this.mUtil.ic_ga_event("DATManager.disableInitialLoad",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.configurePersonalizedAd=function(){try{i.cmd.push((function(){i.pubads().setRequestNonPersonalizedAds(1)}))}catch(e){this.mUtil.ic_ga_event("DATManager.configurePersonalizedAd",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.configureNonPersonalizedAd=function(){try{i.cmd.push((function(){i.pubads().setRequestNonPersonalizedAds(0)}))}catch(e){this.mUtil.ic_ga_event("DATManager.configureNonPersonalizedAd",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.configureRestrictDataProcessing=function(){try{i.cmd.push((function(){i.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}catch(e){this.mUtil.ic_ga_event("DATManager.configureRestrictDataProcessing",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.setPageUrl=function(e){try{i.cmd.push((function(){i.pubads().set("page_url",e)}))}catch(e){this.mUtil.ic_ga_event("DATManager.setPageUrl",this.mUtil.prepareGALabel(this.mTemplate.getAPIKey(),this.mTemplate.getPageId(),e.message))}},e.prototype.callDFPRender=function(e){var t=this;i.cmd.push((function(){t.dfpRender(e)}))},e.prototype.dfpRender=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n].getDFPSlot();r&&t.push(r)}if(t.length>0){for(n=0;n<t.length;++n)i.display(t[n]);i.pubads().isInitialLoadDisabled()&&i.pubads().refresh(t,{changeCorrelator:!1})}},e.prototype.callDFPRefresh=function(e){var t=this;i.cmd.push((function(){t.dfpRefresh(e)}))},e.prototype.initialLoadDisabled=function(){return!(!i||!i.apiReady)&&i.pubads().isInitialLoadDisabled()},e.prototype.dfpRefresh=function(e){for(var t=[],n="",r=0;r<e.length;++r){var s=e[r].getDFPSlot();s&&(""==n&&(n=e[r].getDivId()),t.push(s))}t.length>0&&i.pubads().refresh(t)},e.mDFPScript="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.mDatManager=null,e}();t.default=n},427:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.mExeletURL="//loadus.exelator.com/load/?p=763&g=104&j=c&callback=ic_exelate_callback"}return e.getInstance=function(){return null==i&&(i=new e),i},e.prototype.callExelet=function(e){var t="https:"==document.location.protocol,i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=(t?"https:":"http:")+this.mExeletURL;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),window.ic_exelate_callback=function(t){"function"==typeof e&&e(t)}},e.prototype.callKrux=function(e,t,i){var n="IC_Krux_Script",r="IC_Krux_Consent_Script";if(window.ic_krux_controltag={},window.document.getElementById(n))window.Krux("ns:investingchannelinc","page:load",(function(e){}),{pageView:!0});else{var s=document.createElement("script");s.id=n,s.setAttribute("class","kxct"),s.setAttribute("data-id",e),s.setAttribute("data-timing","async"),s.setAttribute("data-version","3.0"),s.type="text/javascript",s.text="window.Krux||((Krux=function(){Krux.q.push(arguments)}).q=[]);\n            (function(){\n            var k=document.createElement('script');k.type='text/javascript';k.async=true;\n            k.src=(location.protocol==='https:'?'https:':'http:')+'//cdn.krxd.net/controltag/"+e+".js';\n            var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(k,s);\n            }());";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a);var o=document.createElement("script");o.id="IC_Krux_Id_Script",o.setAttribute("class","kxct"),o.setAttribute("data-namespace","investingchannelinc"),o.type="text/javascript",o.text="window.Krux||((Krux=function(){Krux.q.push(arguments)}).q=[]);\n            ic_krux_getuserid = function(){\n                function retrieve(n){\n                  var k= 'kx'+'investingchannelinc_'+n, ls=(function(){\n                    try {\n                      return window.localStorage;\n                    } catch(e) {\n                      return null;\n                    }\n                  })();\n                  if (ls) {\n                      return ls[k] || '';\n                  } else if (navigator.cookieEnabled) {\n                      var m = document.cookie.match(k+'=([^;]*)');\n                      return (m && unescape(m[1])) || '';\n                  } else {\n                      return '';\n                  }\n                }                \n                Krux.user = retrieve('user');\n                Krux.segments = retrieve('segs') ? retrieve('segs').split(',') : [];\n              };\n              ic_krux_getuserid();";var l=document.getElementsByTagName("script")[0];if(l.parentNode.insertBefore(o,l),i)(d=document.createElement("script")).id=r,d.type="text/javascript",d.text="Krux('ns:investingchannelinc', 'consent:set', {                    dc: false,                    al: true,                    tg: true,                    cd: true,                    sh: false,                    re: true                }, function(errors, body) {                });",(m=document.getElementsByTagName("script")[0]).parentNode.insertBefore(d,m);else if(!t){var d,m;(d=document.createElement("script")).id=r,d.type="text/javascript",d.text="Krux('ns:investingchannelinc', 'consent:set', {                    dc: true,                    al: true,                    tg: true,                    cd: true,                    sh: true,                    re: true                }, function(errors, body) {                });",(m=document.getElementsByTagName("script")[0]).parentNode.insertBefore(d,m)}}},e.prototype.addKruxProperty=function(e,t){if(window.ic_krux_controltag)if("t"==e.toLowerCase()){var i=window.ic_krux_controltag[e]?window.ic_krux_controltag[e]:[];t.constructor!==Array&&(t=[t]),i=i.concat(t),i=(i=this.removeDuplicateFromArray(i)).map((function(e){return e.toUpperCase()})),window.ic_krux_controltag[e]=i}else window.ic_krux_controltag[e]=t},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],n=0;n<e.length;++n)t.indexOf(e[n].toLowerCase())>=0||(t.push(e[n].toLowerCase()),i.push(e[n]));return i},e}();t.default=n},249:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(){this.mEnabledCMP=n.NONE,this.mIsCMPEnabled=!0,this.mIC_Window=window,this.mWaitingForData=!1,this.mAdmiralLocalStorageTCStringKey="IC_CMP_Admiral_tcString",this.mAdmiralLocalStorageGdprAppliesKey="IC_CMP_Admiral_gdprApplies",this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mAdmiralScriptLoaded=!1,this.mWaitingToShowAdmiralPopup=!1}return e.prepareInstance=function(t,n,r,s,a){return null==i&&((i=new e).mDocumentType=s,"ff"==s&&(i.mIC_Window=window.top),i.mUtil=n,i.mIsUATDebugModeEnabled=r,i.setConfig(t,a)),i},e.getInstance=function(){return i},e.prototype.isAnyCMPEnabled=function(){return this.mEnabledCMP!=n.NONE},e.prototype.showCmpPopup=function(){this.mEnabledCMP==n.ADMIRAL&&(this.mAdmiralScriptLoaded?this.showAdmiralPopup():this.mWaitingToShowAdmiralPopup=!0)},e.prototype.getCmpData=function(){if(this.mEnabledCMP==n.ADMIRAL)return{cmpVersion:2,tcString:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageTCStringKey),gdprApplies:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageGdprAppliesKey)}},e.prototype.registerGdprCmpCallback=function(e,t){"function"==typeof e&&(this.mCMPCallback=e,this.mCMPCallbackParams=t)},e.prototype.setConfig=function(e,t){e.IsEnabled&&"if"!=this.mDocumentType?this.mIsCMPEnabled=!0:this.mIsCMPEnabled=!1,this.mIsCMPEnabled&&"Admiral"in e&&"IsEnabled"in e.Admiral&&e.Admiral.IsEnabled&&(this.mEnabledCMP=n.ADMIRAL,this.loadAdmiralCMP(e.Admiral.url,e.adTagName,t))},e.dropAdmiralScript=function(e,t,i,n,r){var s=window;if("ff"==i&&(s=window.top),"function"!=typeof s.admiral){n&&(s.__cmpGdprAppliesGlobally=!0),s.admiral=function(){(s.admiral.q=s.admiral.q||[]).push(arguments)};var a=s.document.getElementsByTagName("script")[0],o=document.createElement("script");o.id="IC_Admiral_Script_Id",o.src=e+t+".js",o.type="text/javascript",1==r?o.async=!0:o.defer=!0,a&&a.parentNode.insertBefore(o,a)}},e.prototype.loadAdmiralCMP=function(t,i,n){var r=this;e.dropAdmiralScript(t,i,this.mDocumentType,!0,n),this.mIC_Window.admiral("after","cmp.loaded",(function(e){r.mAdmiralScriptLoaded=!0,e&&(e.consentKnown?r.receivedAdmiralCmpData():(r.mIC_Window.admiral("after","cmp.updated",(function(e){r.mUtil.saveToLocalStorage(r.mAdmiralGdprConsentsKnownKey,!0),r.receivedAdmiralCmpData()})),r.mWaitingToShowAdmiralPopup&&r.showAdmiralPopup()))}))},e.prototype.receivedAdmiralCmpData=function(){var e=this;this.mIC_Window.__tcfapi("getTCData",2,(function(t,i){try{e.mIsUATDebugModeEnabled&&e.mUtil.debugConsoleMessage("Admiral GDPR TC Data read successfully ",[t])}catch(e){}var n="",r=!1;try{if("tcString"in t&&"gdprApplies"in t&&e.mUtil.isLocalStorageSupported()){n=t.tcString,r=t.gdprApplies,e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageTCStringKey,n),e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageGdprAppliesKey,r);var s=!1;t.vendor.consents[755]&&t.purpose.consents[1]&&(s=!0),e.mUtil.saveToLocalStorage(e.mAdmiralDfpApplicableKey,s)}}catch(e){}e.mCMPCallback&&e.mCMPCallback(e.mCMPCallbackParams)}))},e.prototype.showAdmiralPopup=function(){var e=this;this.mIC_Window.admiral("after","cmp.loaded",(function(t){!t||t.euVisitor||t.consentKnown||e.mIC_Window.admiral("show","cmp.main")}))},e.prototype.publisherCmpGetConsents=function(e,t){var i=this;this.mIC_Window.__tcfapi("addEventListener",2,(function(n,r){if(r&&("useractioncomplete"==n.eventStatus||"tcloaded"==n.eventStatus)){var s=n.tcString&&n.vendor.consents[755]&&n.purpose.consents[1];try{i.mIsUATDebugModeEnabled&&i.mUtil.debugConsoleMessage("Publisher GDPR CMP, received user consents and DFP is "+(s?"Applicable.":"Not applicable."))}catch(e){}if(s){var a={cmpVersion:2,tcString:n.tcString,gdprApplies:n.gdprApplies};"function"==typeof e&&e(t,a)}}}))},e}();t.default=r,function(e){e.NONE="NONE",e.ADMIRAL="ADMIRAL"}(n||(n={}))},231:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=i(979),s=i(973),a=function(){function e(e){this.mPlacements={},this.mPlacementCl=r.Placement,this.mTemplateCl=r.Template,this.mA9=null,this.mMarkit=null,this.mMarkitDFPKeys=[],this.mPlacementCallback={},this.mPrebid=null,this.mSspsLogsParams={},this.adRefreshcount=0,this.mLoadedAdapters=[],this.mEnabledSSPS=[],this.mIsS2SEnabled=!1,this.mDeviceType=e.deviceType,this.mBidExpiry=e.bidsExpiry,this.createSSPObjects(e)}return e.prototype.createSSPObjects=function(e){if(b=e.isDebugModeEnabled,z=e.globalAdSizes,null==this.mA9&&e.a9&&e.a9.IsEnabled&&(v=e.a9.globalAdSizes,this.mA9=new g(this.mDeviceType,e.a9)),null==this.mPrebid){var t={};t.appnexusConfig=e.appnexus&&e.appnexus.IsEnabled?e.appnexus:null,t.rubiconConfig=e.rubicon&&e.rubicon.IsEnabled?e.rubicon:null,t.pubmaticConfig=e.pubmatic&&e.pubmatic.IsEnabled?e.pubmatic:null,t.openxConfig=e.openx&&e.openx.IsEnabled?e.openx:null,t.criteoConfig=e.criteo&&e.criteo.IsEnabled?e.criteo:null,t.sovrnConfig=e.sovrn&&e.sovrn.IsEnabled?e.sovrn:null,t.yieldmoConfig=e.yieldmo&&e.yieldmo.IsEnabled?e.yieldmo:null,t.across33Config=e.across33&&e.across33.IsEnabled?e.across33:null,t.aolConfig=e.aol&&e.aol.IsEnabled?e.aol:null,t.gumgumConfig=e.gumgum&&e.gumgum.IsEnabled?e.gumgum:null,t.tripleliftConfig=e.triplelift&&e.triplelift.IsEnabled?e.triplelift:null,t.smartadserverConfig=e.smartadserver&&e.smartadserver.IsEnabled?e.smartadserver:null,t.improveDigitalConfig=e.improvedigital&&e.improvedigital.IsEnabled?e.improvedigital:null,t.shareThroughConfig=e.sharethrough&&e.sharethrough.IsEnabled?e.sharethrough:null,t.mediaNetConfig=e.medianet&&e.medianet.IsEnabled?e.medianet:null,t.adaptmxConfig=e.adaptmx&&e.adaptmx.IsEnabled?e.adaptmx:null,t.outbrainConfig=e.outbrain&&e.outbrain.IsEnabled?e.outbrain:null,t.automatAdConfig=e.automatad&&e.automatad.IsEnabled?e.automatad:null,null==t.appnexusConfig&&null==t.rubiconConfig&&null==t.pubmaticConfig&&null==t.openxConfig&&null==t.criteoConfig&&null==t.sovrnConfig&&null==t.adaptmxConfig&&null==t.yieldmoConfig&&null==t.across33Config&&null==t.aolConfig&&null==t.gumgumConfig&&null==t.improveDigitalConfig&&null==t.tripleliftConfig&&null==t.outbrainConfig&&null==t.smartadserverConfig&&null==t.shareThroughConfig&&null==t.mediaNetConfig&&null==t.automatAdConfig||(this.mPrebid=new h(this.mDeviceType,e,t),this.mPrebid.isAppnexusEnable()&&(P=e.appnexus.globalAdSizes),this.mPrebid.isOpenXEnable()&&(A=e.openx.globalAdSizes),this.mPrebid.isPubmaticEnable()&&(I=e.pubmatic.globalAdSizes),this.mPrebid.isRubiconEnable()&&(T=e.rubicon.globalAdSizes),this.mPrebid.isCriteoEnable()&&(E=e.criteo.globalAdSizes),this.mPrebid.isSovrnEnable()&&(C=e.sovrn.globalAdSizes),this.mPrebid.isYieldmoEnable()&&(D=e.yieldmo.globalAdSizes),this.mPrebid.is33AcrossEnable()&&(_=e.across33.globalAdSizes),this.mPrebid.isAolEnable()&&(R=e.aol.globalAdSizes),this.mPrebid.isGumgumEnable()&&(U=e.gumgum.globalAdSizes),this.mPrebid.isTripleliftEnable()&&(w=e.triplelift.globalAdSizes),this.mPrebid.isAdaptmxEnable()&&(O=e.adaptmx.globalAdSizes),this.mPrebid.isSmartAdServerEnable()&&(L=e.smartadserver.globalAdSizes),this.mPrebid.isImproveDigitalEnable()&&(N=e.improvedigital.globalAdSizes),this.mPrebid.isSharethroughEnable()&&(x=e.sharethrough.globalAdSizes),this.mPrebid.isMedianetEnable()&&(F=e.medianet.globalAdSizes),this.mPrebid.isOutbrainEnable()&&(k=e.outbrain.globalAdSizes),this.mPrebid.isAutomatadEnable()&&(M=e.automatad.globalAdSizes))}null==this.mMarkit&&e.markit&&e.markit.IsEnabled&&(this.mMarkit=new f,this.mMarkitDFPKeys=e.markit.DFPKeyName.map((function(e){return e.toUpperCase()})),this.initializedMarkitVariables())},e.createInstance=function(t){return null==e.mSSP?(e.mSSP=new e(t),e.mSSP.mPlacements={}):e.mSSP.createSSPObjects(t),e.mSSP},e.getInstance=function(){return e.mSSP},e.getListOfSsps=function(){return["rubicon","pubmatic","a9","appnexus","openx","criteo","sovrn","yieldmo","33across","aol","gumgum","improvedigital","triplelift","smartadserver","sharethrough","adaptmx","medianet","outbrain","automatad"]},e.getRubiconAdSizes=function(){return T},e.getPubmaticAdSizes=function(){return I},e.getA9AdSizes=function(){return v},e.getAppnexusAdSizes=function(){return P},e.getOpenXAdSizes=function(){return A},e.getCriteoAdSizes=function(){return E},e.getSovrnAdSizes=function(){return C},e.getYieldmoAdSizes=function(){return D},e.get33AcrossAdSizes=function(){return _},e.getAolAdSizes=function(){return R},e.getGumgumAdSizes=function(){return U},e.getTripleliftAdSizes=function(){return w},e.getAdaptmxAdSizes=function(){return O},e.getSmartAdServerAdSizes=function(){return L},e.getImproveDigitalAdSizes=function(){return N},e.getShareThroughAdSizes=function(){return x},e.getMediaNetAdSizes=function(){return F},e.getOutbrainAdSizes=function(){return k},e.getAutomatAdAdSizes=function(){return M},e.getGlobalAdSizes=function(){return z},e.prototype.deletePlacement=function(e){this.mPlacements[e]&&delete this.mPlacements[e]},e.prototype.getLoadedAdapters=function(){return this.mLoadedAdapters},e.prototype.isPrebidS2SEnabled=function(){return e.isPrebidS2SEnabled},e.getPrebidSource=function(){return p},e.prototype.createLoadedAdapters=function(t){var i=[];if(t&&t.length>0)for(var n=0;n<t.length;n++)if(t[n].indexOf("BidAdapter")>-1){var s=t[n].split("BidAdapter")[0];i.push(s)}var a=r.Template.getEligibleS2SBidders();return a.length>0&&(t&&t.indexOf("prebidServerBidAdapter")>-1&&(this.mIsS2SEnabled=!0),i=i.concat(a)),b&&S.getInstance().debugConsoleMessage("Prebid S2S adapter loaded for bidding ",[this.mIsS2SEnabled]),e.isPrebidS2SEnabled=this.mIsS2SEnabled,i},e.prototype.fetchBids=function(e,t,i,n,r){var a=s.Utility.window.top.ic_pbjs.installedModules;this.mEnabledSSPS=r;var l=void 0!==a?this.createLoadedAdapters(a):[];this.mSspsLogsParams=n,(!this.mPageUrl||this.mPageUrl&&this.mPageUrl!=t)&&(this.mPageUrl=t,this.initializedMarkitVariables()),this.mMarkitCallbackFunction=i;for(var d=[],m=0;m<e.length;++m){var u=e[m];if(!this.mPlacements[u.divId]){l.length>0&&(this.mLoadedAdapters[u.divId]=l);for(var p=[],c=0;c<u.adSize.length;++c)(o[u.adSize[c]]||0===u.adSize[c].indexOf("3x"))&&(p[p.length]=u.adSize[c]);p.length<=0||(this.mPlacements[u.divId]={size:p,position:u.position,tile:u.tile,primaryAdSize:u.primaryAdSize,isSspHVPlacement:u.isSspHVPlacement,thirdPartyCookie:u.thirdPartyCookie,isAdhesion:u.isAdhesion,nativeLayout:u.nativeLayout},this.setDefaultValues(u.divId,!1,l),d.push(u))}}d.length>0&&this.callEnabledSSP(d,!1,this.adRefreshcount)},e.prototype.refreshBids=function(e,t,i,n){var a=s.Utility.window.top.ic_pbjs.installedModules,o=this.createLoadedAdapters(a),l=[],d=this.mPlacements[e];if(d){o.length>0&&(this.mLoadedAdapters[e]=o);var m={adSize:d.size,divId:e,position:d.position,tile:d.tile,primaryAdSize:d.primaryAdSize,isSspHVPlacement:i,thirdPartyCookie:d.thirdPartyCookie,isAdhesion:d.isAdhesion,nativeLayout:d.nativeLayout};l.push(m);var u=r.Template.checkAndPrepareDummyPlacements(m);null!=u&&l.push(u),e in this.mLoadedAdapters&&(o=this.mLoadedAdapters[e],this.setDefaultValues(e,!0,o,t)),this.setDefaultValues(e,!0,o,t),this.callEnabledSSP(l,!0,n,t)}},e.prototype.getStatus=function(e){var t=this.mPlacements[e];return t?this.mMarkit&&this.getMarkitStatusFromWindow()==l.INPROGRESS?this.getMarkitStatusFromWindow():t.status:l.NOT_APPLICABLE},e.prototype.destroy=function(){if(null!=this.mMarkit){var t=window.top;t.ic_markit_status=l.INITIALIZED,t.ic_markit_values=null;var i=document.getElementById("IC_MarkitScript");i&&i.parentNode.removeChild(i)}e.mSSP&&delete e.mSSP},e.prototype.initializedMarkitVariables=function(){var e=window.top;e.ic_markit_status=e.ic_markit_status||l.INITIALIZED,e.ic_markit_values=e.ic_markit_values||null},e.prototype.getMarkitStatusFromWindow=function(){var e=window.top;return e.ic_markit_status?e.ic_markit_status:null},e.prototype.setMarkitStatusOnWindow=function(e){var t=window.top;t.ic_markit_status&&(t.ic_markit_status=e)},e.prototype.getMarkitValueFromWindow=function(){var e=window.top;return e.ic_markit_values?e.ic_markit_values:null},e.prototype.setMarkitValueOnWindow=function(e){window.top.ic_markit_values=e},e.prototype.isA9BidsExpired=function(e){var t=(new Date).getTime();return!(!e.a9||!(null!=e.a9.bidsReceivedTime&&t-e.a9.bidsReceivedTime>this.mBidExpiry||e.a9.status==l.USED))},e.prototype.isPrebidBidsExpired=function(e){var t=(new Date).getTime();return!(!e.prebid||!(null!=e.prebid.bidsReceivedTime&&t-e.prebid.bidsReceivedTime>this.mBidExpiry||e.prebid.status==l.USED))},e.prototype.isBidsExpired=function(e){var t=this.mPlacements[e];return!(!t||!this.isA9BidsExpired(t)&&!this.isPrebidBidsExpired(t))},e.prototype.getPlacements=function(e){return this.mPlacements[e]},e.prototype.getBids=function(e,t){var i=this.mPlacements[e],n={};if(n.placement=i,null!=this.mMarkit&&null!=this.getMarkitValueFromWindow()&&(n.markit=this.getMarkitValueFromWindow()),t&&(this.mPlacementCallback[e]={callback:t}),!i)return n;if(null!=this.mA9){var r=i.a9;n.a9=r.bids,i.a9.status=l.USED}if(null!=this.mPrebid){var s=i.prebid;if(n.prebid=n.prebid||{},this.mPrebid.isAppnexusEnable()){var a=s.appnexus;n.prebid.nx=a.bids}if(this.mPrebid.isRubiconEnable()){var o=s.rubicon;n.prebid.rb=o.bids}if(this.mPrebid.isPubmaticEnable()){var d=s.pubmatic;n.prebid.pm=d.bids}if(this.mPrebid.isOpenXEnable()){var m=s.openx;n.prebid.oxb=m.bids}if(this.mPrebid.isCriteoEnable()){var u=s.criteo;n.prebid.ct=u.bids}if(this.mPrebid.isSovrnEnable()){var p=s.sovrn;n.prebid.sv=p.bids}if(this.mPrebid.isYieldmoEnable()){var c=s.yieldmo;n.prebid.ym=c.bids}if(this.mPrebid.is33AcrossEnable()){var h=s.across33;n.prebid.ta=h.bids}if(this.mPrebid.isAolEnable()){var g=s.aol;n.prebid.aol=g.bids}if(this.mPrebid.isGumgumEnable()){var f=s.gumgum;n.prebid.gg=f.bids}if(this.mPrebid.isTripleliftEnable()){var S=s.triplelift;n.prebid.tl=S.bids}if(this.mPrebid.isAdaptmxEnable()){var y=s.amx;n.prebid.amx=y.bids}if(this.mPrebid.isSmartAdServerEnable()){var b=s.smartadserver;n.prebid.sa=b.bids}if(this.mPrebid.isImproveDigitalEnable()){var T=s.improvedigital;n.prebid.dgt=T.bids}if(this.mPrebid.isSharethroughEnable()){var I=s.sharethrough;n.prebid.st=I.bids}if(this.mPrebid.isMedianetEnable()){var v=s.medianet;n.prebid.mn=v.bids}if(this.mPrebid.isOutbrainEnable()){var P=s.outbrain;n.prebid.ob=P.bids}if(this.mPrebid.isAutomatadEnable()){var A=s.automatad;n.prebid.aa=A.bids}i.prebid.status=l.USED}return n},e.prototype.getDefaultBidValues=function(e,t,i,n){for(var r={},s=0;s<n.size.length;++s)if(!(t.indexOf(n.size[s])<0||i&&i.indexOf(n.size[s])<0)){r[e+o[n.size[s]]]=-1;break}return r},e.prototype.getDefaultBidValuesV2=function(e,t,i,n,r,s){var a={},l=-1;t.indexOf("a9")<0&&(this.isAdapterLoaded(s,t)||(l=-2));for(var d=0;d<r.size.length;++d)if(!(i.indexOf(r.size[d])<0||n&&n.indexOf(r.size[d])<0)){null!=e&&(a[e+o[r.size[d]]]=l),a[t]=l,a[t+"_sz"]=o[r.size[d]];break}return a},e.prototype.isAdapterLoaded=function(e,t){var i=s.Utility.getInstance().getBidderNameByCode(t,m),n=r.Template.getEligibleS2SBidders();return!!(e.indexOf(i)>-1&&n.indexOf(i)<0||n.indexOf(i)>-1&&this.mIsS2SEnabled)},e.prototype.setDefaultValues=function(e,t,i,n){var r=this.mPlacements[e];if(r){r.status=l.INITIALIZED;var s={};null!=this.mA9&&(s.bids=this.getDefaultBidValuesV2("a9_","a9",v,this.mA9.getA9EnabledAdSizes(),r,!0),s.status=l.INITIALIZED,s.bidsReceivedTime=null,r.a9=s);var a={};if(null!=this.mPrebid){var d=this.mPrebid.getAdUnitType(r.isSspHVPlacement,t,n,r),m=-1;this.mPrebid.isAppnexusEnable()&&(a.appnexus={},a.appnexus.bids=this.getDefaultBidValuesV2("nx_","nx",P,this.mPrebid.getAppnexusEnabledAdSizes(),r,i)),this.mPrebid.isRubiconEnable()&&(a.rubicon={},a.rubicon.bids=this.getDefaultBidValuesV2("rb_","rb",T,this.mPrebid.getRubiconEnabledAdSizes(),r,i)),this.mPrebid.isPubmaticEnable()&&(a.pubmatic={},a.pubmatic.bids=this.getDefaultBidValuesV2("pm_","pm",I,this.mPrebid.getPubmaticEnabledAdSizes(),r,i)),this.mPrebid.isOpenXEnable()&&(a.openx={},a.openx.bids=this.getDefaultBidValuesV2("oxb_","ox",A,this.mPrebid.getOpenXEnabledAdSizes(),r,i)),this.mPrebid.isCriteoEnable()&&(a.criteo={},a.criteo.bids=this.getDefaultBidValuesV2("ct_","ct",E,this.mPrebid.getCriteoEnabledAdSizes(),r,i));var u={};if(this.mPrebid.isSovrnEnable()){u.bids={},m=this.isAdapterLoaded(i,"sv")?-1:-2;for(var p=this.mPrebid.getSovrnEnabledAdSizes(),c=0;c<r.size.length;++c)if(!(C.indexOf(r.size[c])<0||p&&p.indexOf(r.size[c])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getSovrnConfig(),d,r.size[c],r.position,!1,r.divId))){u.bids.sv=m,u.bids.sv_sz=o[r.size[c]];break}a.sovrn=u}this.mPrebid.isYieldmoEnable()&&(a.yieldmo={},a.yieldmo.bids=this.getDefaultBidValuesV2(null,"ym",D,this.mPrebid.getYieldmoEnabledAdSizes(),r,i)),this.mPrebid.is33AcrossEnable()&&(a.across33={},a.across33.bids=this.getDefaultBidValuesV2(null,"ta",_,this.mPrebid.get33AcrossEnabledAdSizes(),r,i));var h={};if(this.mPrebid.isAolEnable()){h.bids={},m=this.isAdapterLoaded(i,"aol")?-1:-2;var g=this.mPrebid.getAolEnabledAdSizes();for(c=0;c<r.size.length;++c)if(!(R.indexOf(r.size[c])<0||g&&g.indexOf(r.size[c])<0)){var f=this.mPrebid.getSSPPlacementId(this.mPrebid.getAolConfig(),d,r.size[c],r.position,!0,r.divId),S=this.mPrebid.getSiteIdForDevice(this.mPrebid.getAolConfig(),d);if(f&&S){h.bids.aol=m,h.bids.aol_sz=o[r.size[c]];break}}a.aol=h}var y={};if(this.mPrebid.isGumgumEnable()){y.bids={},m=this.isAdapterLoaded(i,"gg")?-1:-2;var b=this.mPrebid.getGumgumEnabledAdSizes();for(c=0;c<r.size.length;++c)if(!(U.indexOf(r.size[c])<0||b&&b.indexOf(r.size[c])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getGumgumConfig(),d,r.size[c],r.position,!0,r.divId)){y.bids.gg_sz=o[r.size[c]],y.bids.gg=m;break}a.gumgum=y}var z={};if(this.mPrebid.isTripleliftEnable()){z.bids={},m=this.isAdapterLoaded(i,"tpl")?-1:-2;var G=this.mPrebid.getTripleliftEnabledAdSizes();for(c=0;c<r.size.length;++c)if(!(w.indexOf(r.size[c])<0||G&&G.indexOf(r.size[c])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getTripleliftConfig(),d,r.size[c],r.position,!0,r.divId)){z.bids.nat=m,z.bids.tpl=m;break}a.triplelift=z}this.mPrebid.isSmartAdServerEnable()&&(a.smartadserver={},a.smartadserver.bids=this.getDefaultBidValuesV2(null,"sa",L,this.mPrebid.getSmartAdServerEnabledAdSizes(),r,i));var V={};if(this.mPrebid.isImproveDigitalEnable()){V.bids={},m=this.isAdapterLoaded(i,"dgt")?-1:-2;var B=this.mPrebid.getImproveDigitalEnabledAdSizes();for(c=0;c<r.size.length;++c)if(!(N.indexOf(r.size[c])<0||B&&B.indexOf(r.size[c])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getImproveDigitalConfig(),d,r.size[c],r.position,!1,r.divId))){V.bids.dgt=m,V.bids.dgt_sz=o[r.size[c]];break}a.improvedigital=V}this.mPrebid.isSharethroughEnable()&&(a.sharethrough={},a.sharethrough.bids=this.getDefaultBidValuesV2(null,"st",x,this.mPrebid.getShareThroughEnabledAdSizes(),r,i)),this.mPrebid.isMedianetEnable()&&(a.medianet={},a.medianet.bids=this.getDefaultBidValuesV2(null,"mn",F,this.mPrebid.getMediaNetEnabledAdSizes(),r,i)),this.mPrebid.isAutomatadEnable()&&(a.automatad={},a.automatad.bids=this.getDefaultBidValuesV2(null,"aa",M,this.mPrebid.getAutomatAdEnabledAdSizes(),r,i));var W={};if(this.mPrebid.isAdaptmxEnable()){W.bids={},m=this.isAdapterLoaded(i,"amx")?-1:-2;var K=this.mPrebid.getAdaptmxEnabledAdSizes();for(c=0;c<r.size.length;++c)if(!(O.indexOf(r.size[c])<0||K&&K.indexOf(r.size[c])<0)){var H=r.size[c];if(this.mPrebid.getSlotName(r,t,H,n)){W.bids["amx_"+o[r.size[c]]]=m,W.bids.amx=m,W.bids.amx_sz=o[r.size[c]];break}}a.amx=W}var j={};if(this.mPrebid.isOutbrainEnable()){j.bids={},m=this.isAdapterLoaded(i,"ob")?-1:-2;var q=this.mPrebid.getOutbrainEnabledAdSizes();if(r.nativeLayout&&"prebidConfig"in r.nativeLayout&&null!=r.nativeLayout.prebidConfig)for(c=0;c<r.size.length;++c)if(!(k.indexOf(r.size[c])<0||q&&q.indexOf(r.size[c])<0)&&this.mPrebid.getOutbrainTagId(r,t,r.size[c],n)){j.bids.ob=m;break}a.outbrain=j}a.status=l.INITIALIZED,a.bidsReceivedTime=null,r.prebid=a}this.mPlacements[e]=r}},e.prototype.callEnabledSSP=function(e,t,i,n){var r=!1;null!=this.mA9&&(this.mA9.callSSP(e,this.a9Callback.bind(this),this.mSspsLogsParams,i,n),r=!0);var s=!1;null!=this.mPrebid&&(this.mPrebid.callSSP(e,this.prebidCallback.bind(this),t,this.mSspsLogsParams,i,n),s=!0),null!=this.mMarkit&&this.getMarkitStatusFromWindow()==l.INITIALIZED&&(this.mMarkit.callMarkit(this.markitCallback.bind(this)),this.setMarkitStatusOnWindow(l.INPROGRESS));for(var a=0;a<e.length;++a)this.mPlacements[e[a].divId]&&(this.mPlacements[e[a].divId].status=l.INPROGRESS,r&&(this.mPlacements[e[a].divId].a9.status=l.INPROGRESS),s&&(this.mPlacements[e[a].divId].prebid.status=l.INPROGRESS))},e.prototype.updateOverAllStatus=function(e){var t=this.mPlacements[e];t&&(t.a9&&t.a9.status!=l.RECEIVED||t.prebid&&t.prebid.status!=l.RECEIVED||(t.status=l.RECEIVED))},e.prototype.a9Callback=function(e,t){var i=this.mPlacements[e];if(i){var n={};n.status=l.RECEIVED,n.bidsReceivedTime=(new Date).getTime(),n.bids={};try{if(null!=t&&t.bid_id)n.bids["a9_"+o[t.size]]=t.bid_value,n.bids["a9_"+o[t.size]+"_id"]=t.bid_id,n.bids.a9_sz=o[t.size],n.bids.a9_id=t.bid_id,n.bids.a9=t.bid_value,"deal_id"in t&&(n.bids.a9_d=t.deal_id),"partner_id"in t&&(n.bids.a9_p=t.partner_id);else if(null!=t)for(var r=this.mA9.getA9EnabledAdSizes(),s=0;s<i.size.length;++s)if(!(v.indexOf(i.size[s])<0||r&&r.indexOf(i.size[s])<0)){n.bids["a9_"+o[i.size[s]]]="0",n.bids.a9_sz=o[i.size[s]],n.bids.a9=0;break}}catch(e){var a=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in a9Callback. "+e});document.dispatchEvent(a)}i.a9=n,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.getPrebidResponseV2=function(e,t,i,n,r,s,a){var l=null;if(e[i].bid_id)l={bids:{}},null!=n&&(l.bids[n+o[e[i].size]]=e[i].bid_value,l.bids[n+o[e[i].size]+"_id"]=e[i].bid_id),l.bids[r]=e[i].bid_value,l.bids[r+"_sz"]=o[e[i].size],l.bids[r+"_id"]=e[i].bid_id,e[i].deal_id&&(null!=n&&(l.bids[n+o[e.size]+"_d"]=e[i].deal_id),l.bids[r+"_d"]=e[i].deal_id);else if(s){l={bids:{}};for(var d=0;d<t.size.length;++d)if(!(P.indexOf(t.size[d])<0||a&&a.indexOf(t.size[d])<0)){null!=n&&(l.bids[n+o[t.size[d]]]=0),l.bids[r]=0,l.bids[r+"_sz"]=o[t.size[d]];break}}return l},e.prototype.prebidCallback=function(e,t){var i=this.mPlacements[e];if(i){var n=i.prebid;n.status=l.RECEIVED,n.bidsReceivedTime=(new Date).getTime();try{if(null!=t&&null!=t.appnexus&&(n.appnexus=this.getPrebidResponseV2(t,i,"appnexus","nx_","nx",this.mPrebid.isAppnexusEnable(),this.mPrebid.getAppnexusEnabledAdSizes())),null!=t&&null!=t.rubicon&&(n.rubicon=this.getPrebidResponseV2(t,i,"rubicon","rb_","rb",this.mPrebid.isRubiconEnable(),this.mPrebid.getRubiconEnabledAdSizes())),null!=t&&null!=t.pubmatic&&(n.pubmatic=this.getPrebidResponseV2(t,i,"pubmatic","pm_","pm",this.mPrebid.isPubmaticEnable(),this.mPrebid.getPubmaticEnabledAdSizes())),null!=t&&null!=t.openx&&(n.openx=this.getPrebidResponseV2(t,i,"openx","oxb_","ox",this.mPrebid.isOpenXEnable(),this.mPrebid.getOpenXEnabledAdSizes())),null!=t&&null!=t.criteo&&(n.criteo=this.getPrebidResponseV2(t,i,"criteo","ct_","ct",this.mPrebid.isCriteoEnable(),this.mPrebid.getCriteoEnabledAdSizes())),null!=t&&null!=t.sovrn&&(n.sovrn=this.getPrebidResponseV2(t,i,"sovrn",null,"sv",this.mPrebid.isSovrnEnable(),this.mPrebid.getSovrnEnabledAdSizes())),null!=t&&null!=t.yieldmo&&(n.yieldmo=this.getPrebidResponseV2(t,i,"yieldmo",null,"ym",this.mPrebid.isYieldmoEnable(),this.mPrebid.getYieldmoEnabledAdSizes())),null!=t&&null!=t["33across"]&&(n.across33=this.getPrebidResponseV2(t,i,"33across",null,"ta",this.mPrebid.is33AcrossEnable(),this.mPrebid.get33AcrossEnabledAdSizes())),null!=t&&null!=t.onemobile&&(n.aol=this.getPrebidResponseV2(t,i,"onemobile",null,"aol",this.mPrebid.isAolEnable(),this.mPrebid.getAolEnabledAdSizes())),null!=t&&null!=t.gumgum&&(n.gumgum=this.getPrebidResponseV2(t,i,"gumgum",null,"gg",this.mPrebid.isGumgumEnable(),this.mPrebid.getGumgumEnabledAdSizes())),null!=t&&null!=t.triplelift)if(t.triplelift.bid_id)n.triplelift={bids:{}},n.triplelift.bids.tpl=t.triplelift.bid_value,n.triplelift.bids.tpl_id=t.triplelift.bid_id,n.triplelift.bids.nat=t.triplelift.bid_value,n.triplelift.bids.nat_id=t.triplelift.bid_id,n.triplelift.bids.nat_v="triplelift",t.triplelift.deal_id&&(n.triplelift.bids.tpl_d=t.triplelift.deal_id);else if(this.mPrebid.isTripleliftEnable()){n.triplelift={bids:{}};for(var r=this.mPrebid.getTripleliftEnabledAdSizes(),s=0;s<i.size.length;++s)if(!(w.indexOf(i.size[s])<0||r&&r.indexOf(i.size[s])<0)){n.triplelift.bids.nat=0,n.triplelift.bids.nat_v="triplelift",n.triplelift.bids.tpl=0;break}}if(null!=t&&null!=t.outbrain)if(t.outbrain.bid_id)n.outbrain={bids:{}},n.outbrain.bids.ob=t.outbrain.bid_value,n.outbrain.bids.ob_id=t.outbrain.bid_id,t.outbrain.deal_id&&(n.outbrain.bids.ob_d=t.outbrain.deal_id);else if(this.mPrebid.isOutbrainEnable()){n.outbrain={bids:{}};var a=this.mPrebid.getOutbrainEnabledAdSizes();for(s=0;s<i.size.length;++s)if(!(k.indexOf(i.size[s])<0||a&&a.indexOf(i.size[s])<0)){n.outbrain.bids.ob=0;break}}null!=t&&null!=t.amx&&(n.amx=this.getPrebidResponseV2(t,i,"amx",null,"amx",this.mPrebid.isAdaptmxEnable(),this.mPrebid.getAdaptmxEnabledAdSizes())),null!=t&&null!=t.smartadserver&&(n.smartadserver=this.getPrebidResponseV2(t,i,"smartadserver",null,"sa",this.mPrebid.isSmartAdServerEnable(),this.mPrebid.getSmartAdServerEnabledAdSizes())),null!=t&&null!=t.improvedigital&&(n.improvedigital=this.getPrebidResponseV2(t,i,"improvedigital",null,"dgt",this.mPrebid.isImproveDigitalEnable(),this.mPrebid.getImproveDigitalEnabledAdSizes())),null!=t&&null!=t.sharethrough&&(n.sharethrough=this.getPrebidResponseV2(t,i,"sharethrough",null,"st",this.mPrebid.isSharethroughEnable(),this.mPrebid.getShareThroughEnabledAdSizes())),null!=t&&null!=t.medianet&&(n.medianet=this.getPrebidResponseV2(t,i,"medianet",null,"mn",this.mPrebid.isMedianetEnable(),this.mPrebid.getMediaNetEnabledAdSizes())),null!=t&&null!=t.automatad&&(n.automatad=this.getPrebidResponseV2(t,i,"automatad",null,"aa",this.mPrebid.isAutomatadEnable(),this.mPrebid.getAutomatAdEnabledAdSizes()))}catch(e){console.log("Error in prebidcallback :: ",e)}i.prebid=n,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.markitCallback=function(e){var t={},i=0;for(var n in this.setMarkitStatusOnWindow(l.RECEIVED),e)this.mMarkitDFPKeys.indexOf(n.toUpperCase())>=0&&(t[n]=e[n],++i);for(var r in i>0&&this.setMarkitValueOnWindow(t),"function"==typeof this.mMarkitCallbackFunction&&this.mMarkitCallbackFunction(t),this.mPlacementCallback){var s=this.mPlacementCallback[r];if("function"==typeof s.callback){var a={};a.markit=t,s.callback(a)}}},e.prototype.getA9PriceByCode=function(e){var t=-1;try{t=+d[e]}catch(e){}return t},e.prototype.getBidderCodes=function(){return m},e.prototype.getBidderOldToNewKeys=function(){return u},e.prototype.getPrebid=function(){return this.mPrebid},e.prototype.getStackSspServeHorizontal=function(e,t,i){var r={},a=n({a9:e.a9},e.prebid),o=-2,l=-2,d=-2,m=-2,p=-2,c=-2,h="",g="",f="",S="",y="",T="",I=-2,v="";for(var P in a)if(R=a[P]){var A=R[(P=s.Utility.getInstance().getBidderNameByCode(P,u))+"_sz"];R[P+"_id"]&&(v=R[P+"_id"]);var E=R[P];"a9"==P?(I=E,-1!=E&&0!=E&&(I=this.getA9PriceByCode(E))):I=E,"92"==A?I>o&&(o=I):"99"==A?I>l&&(l=I):"79"==A&&I>d&&(d=I)}I=-2,v="";var C=i+"_stack32",D=this.getBids(C);if(D){var _=n({a9:D.a9},D.prebid);for(var P in _){var R;(R=_[P])&&(A=R[(P=s.Utility.getInstance().getBidderNameByCode(P,u))+"_sz"],R[P+"_id"]&&(v=R[P+"_id"]),E=R[P],"a9"==P?(I=E,-1!=E&&0!=E&&(I=this.getA9PriceByCode(E))):I=E,"32"==A&&(I>m?(c=p,p=m,m=I,f=g,g=h,h=P,T=y,y=S,S=v):I>p?(c=p,f=g,T=y,p=I,g=P,y=v):I>c&&(c=I,f=P,T=v)))}}if(+m>0&&+p>0||+p>0&&+c>0||+m>0&&+c>0){var U=0;if(+m>0&&(U+=+m),+p>0&&(U+=+p),+c>0&&(U+=+c),+U>+l&&+U>+o&&+U>d){b&&s.Utility.getInstance().debugConsoleMessage("Stack Ads:: dummyDivId ::"+C+", bidValue32_1:"+h+"="+m+", bidValue32_2:"+g+"="+p+", bidValue32_3:"+f+"="+c+", bidValue99:"+l+", bidValue92:"+o+", bidValue99:"+l);var w=m.toString(),O=p.toString();"a9"==g?O=D.a9.a9:"a9"==h&&(w=D.a9.a9);var L=":"+g+":"+h,N=":"+y+":"+S,x=":"+O+":"+w;if(c>0){L=f+":"+g+":"+h,N=T+":"+y+":"+S;var F=c.toString();"a9"==f&&(F=D.a9.a9),x=F+":"+O+":"+w}r={tt:""+U,tt_v:L,tt_id:N,tt_bid:x}}}return r},e.mSSP=null,e.isPrebidS2SEnabled=!1,e}();t.default=a;var o,l,d,m,u,p,c,h=function(){function e(e,t,i){this.mPassConsentManagementConfig=!1,this.mUspString=null,this.mAppnexusConfig=null,this.mRubiconConfig=null,this.mPubmaticConfig=null,this.mOpenXConfig=null,this.mCriteoConfig=null,this.mSovrnConfig=null,this.mYieldmoConfig=null,this.m33AcrossConfig=null,this.mAolConfig=null,this.mGumgumConfig=null,this.mTripleliftConfig=null,this.mAdaptmxConfig=null,this.mSmartAdServerConfig=null,this.mImproveDigitalConfig=null,this.mShareThroughConfig=null,this.mMediaNetConfig=null,this.mOutbrainConfig=null,this.mAutomatAdConfig=null,this.mIC_Window=window.top,this.mRubiconAccountId=11832,this.mHVSuffix="_HV",this.mPriceGranularity=null,this.mSSPLogs=null,this.mNotLoadedAdUnits=null,this.mAddressability=null,this.mSspsLogsParams={},this.mAuctionEventEnabled=!1,this.mS2SConfig={},this.uidModuleNamesArr=[],this.mUserTrackingStartTime=(new Date).getTime(),this.uidModulesId={across33id:"",criteo:"",id5:"",liveramp:"",lotame:"",parrable:"",sharedid:"",unified:"",connectid:""},this.mLogInterval=3e4,this.mDeviceType=e,this.mTimeout=t.prebid.timeout,this.mRefreshTimeout=t.prebid.refreshTimeout,this.mPriceGranularity=t.prebid.priceGranularity,this.mPassConsentManagementConfig=t.prebid.passConsentManagementConfig,this.mCmpVersion=t.prebid.cmpVersion,1==this.mCmpVersion?(this.mCmpConsentData=t.prebid.cmpConsentData,this.mCmpVendorConsentData=t.prebid.cmpVendorConsentData):2==this.mCmpVersion&&(this.mCmpTcString=t.prebid.cmpTcString,this.mCmpGdprApplies=t.prebid.cmpGdprApplies),this.mUspString=t.prebid.uspString,this.mAppnexusConfig=i.appnexusConfig,this.mRubiconConfig=i.rubiconConfig,this.mPubmaticConfig=i.pubmaticConfig,this.mOpenXConfig=i.openxConfig,this.mCriteoConfig=i.criteoConfig,this.mSovrnConfig=i.sovrnConfig,this.mYieldmoConfig=i.yieldmoConfig,this.m33AcrossConfig=i.across33Config,this.mAolConfig=i.aolConfig,this.mGumgumConfig=i.gumgumConfig,this.mTripleliftConfig=i.tripleliftConfig,this.mAdaptmxConfig=i.adaptmxConfig,this.mSmartAdServerConfig=i.smartadserverConfig,this.mImproveDigitalConfig=i.improveDigitalConfig,this.mShareThroughConfig=i.shareThroughConfig,this.mMediaNetConfig=i.mediaNetConfig,this.mOutbrainConfig=i.outbrainConfig,this.mAutomatAdConfig=i.automatAdConfig,this.mS2SConfig=t.s2sConfig,this.mIC_Window.ic_pbjs=this.mIC_Window.ic_pbjs||{},this.mIC_Window.ic_pbjs.que=this.mIC_Window.ic_pbjs.que||[],this.mIC_Window.PWT=this.mIC_Window.PWT||{},this.mIC_Window.owpbjs=this.mIC_Window.owpbjs||{},this.mAdTagName=t.adTagName,this.mAddressability=t.addressability,this.mSSPLogs=[],this.mNotLoadedAdUnits=[],this.prepareConfig()}return e.prototype.prepareConfig=function(e){var t=this,i={},n={};try{void 0!==this.mIC_Window.ic_pbjs&&(n=this.mIC_Window.ic_pbjs.getConfig())}catch(e){}i.priceGranularity=this.mPriceGranularity,"rubicon"in n?i.rubicon=n.rubicon:null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&(i.rubicon={singleRequest:!0}),this.isImproveDigitalEnable()&&(i.improvedigital={singleRequest:!0,usePrebidSizes:!0}),i.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}},syncDelay:5e3},"consentManagement"in n?i.consentManagement=n.consentManagement:(i.consentManagement={},this.mPassConsentManagementConfig&&(1==this.mCmpVersion?i.consentManagement.gdpr={cmpApi:"static",timeout:1,allowAuctionWithoutConsent:!1,consentData:{getConsentData:this.mCmpConsentData,getVendorConsents:this.mCmpVendorConsentData}}:2==this.mCmpVersion&&(i.consentManagement.gdpr={cmpApi:"static",timeout:1,allowAuctionWithoutConsent:!1,consentData:{getTCData:{tcString:this.mCmpTcString,gdprApplies:this.mCmpGdprApplies}}})),null!=this.mUspString&&"undefined"!=this.mUspString&&(i.consentManagement.usp={cmpApi:"static",consentData:{getUSPData:{uspString:this.mUspString}}})),e&&(i.outbrain={bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"});var o=[];if(r.Template.checkAndImplementLiveramIdentityLink(this.mAddressability)){var l={name:"identityLink",params:{pid:this.mAddressability.liverampidentitylink.pid},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}};o.push(l)}if(r.Template.isConnectIdEnabled){var d=this.mAddressability.ConnectUidModule,m=1,u="",p="";d&&"Expires"in d&&(m=d.Expires),d&&"PixelId"in d&&(u=d.PixelId);var c=r.Template.getHashedEmailFromLocalStorage();if(""!=c.SHA256&&(p=c.SHA256),""!=u&&""!=p){var h={name:"connectId",params:{pixelId:u,he:p},storage:{type:"html5",name:r.Template.mConnectIdLocalStorageName,expires:m}};o.push(h)}}o.length>0&&(i.userSync={userIds:o});var g=r.Template.getEligibleS2SBidders();if(g.length>0&&a.isPrebidS2SEnabled){var f=this.mS2SConfig.accountId,S=this.mS2SConfig.bidderTimeout,y=this.mS2SConfig.auctionTimeout,b=this.mS2SConfig.timeoutBuffer,T=this.mS2SConfig.timeout;i.s2sConfig=[{accountId:f,bidders:g,bidderTimeout:S,auctionTimeout:y,timeoutBuffer:b,timeout:T,testing:!1,testServerOnly:!1,endpoint:{p1Consent:s.Constant.PREBID_S2S_AUCTION_URL,noP1Consent:s.Constant.PREBID_S2S_AUCTION_URL},syncEndpoint:{p1Consent:s.Constant.PREBID_S2S_COOKIE_SYNC_URL,noP1Consent:s.Constant.PREBID_S2S_COOKIE_SYNC_URL},enabled:!0,targetingControls:{alwaysIncludeDeals:!0},adapter:"prebidServer"}]}this.mIC_Window.ic_pbjs.que.push((function(){t.mIC_Window.ic_pbjs.setConfig(i)}))},e.prototype.isAppnexusEnable=function(){return!(null==this.mAppnexusConfig||!this.mAppnexusConfig.IsEnabled)},e.prototype.isRubiconEnable=function(){return!(null==this.mRubiconConfig||!this.mRubiconConfig.IsEnabled)},e.prototype.isPubmaticEnable=function(){return!(null==this.mPubmaticConfig||!this.mPubmaticConfig.IsEnabled)},e.prototype.isOpenXEnable=function(){return!(null==this.mOpenXConfig||!this.mOpenXConfig.IsEnabled)},e.prototype.isCriteoEnable=function(){return!(null==this.mCriteoConfig||!this.mCriteoConfig.IsEnabled)},e.prototype.isSovrnEnable=function(){return!(null==this.mSovrnConfig||!this.mSovrnConfig.IsEnabled)},e.prototype.isYieldmoEnable=function(){return!(null==this.mYieldmoConfig||!this.mYieldmoConfig.IsEnabled)},e.prototype.is33AcrossEnable=function(){return!(null==this.m33AcrossConfig||!this.m33AcrossConfig.IsEnabled)},e.prototype.isAolEnable=function(){return!(null==this.mAolConfig||!this.mAolConfig.IsEnabled)},e.prototype.isGumgumEnable=function(){return!(null==this.mGumgumConfig||!this.mGumgumConfig.IsEnabled)},e.prototype.isTripleliftEnable=function(){return!(null==this.mTripleliftConfig||!this.mTripleliftConfig.IsEnabled)},e.prototype.isAdaptmxEnable=function(){return!(null==this.mAdaptmxConfig||!this.mAdaptmxConfig.IsEnabled)},e.prototype.isSmartAdServerEnable=function(){return!(null==this.mSmartAdServerConfig||!this.mSmartAdServerConfig.IsEnabled)},e.prototype.isImproveDigitalEnable=function(){return!(null==this.mImproveDigitalConfig||!this.mImproveDigitalConfig.IsEnabled)},e.prototype.isSharethroughEnable=function(){return!(null==this.mShareThroughConfig||!this.mShareThroughConfig.IsEnabled)},e.prototype.isMedianetEnable=function(){return!(null==this.mMediaNetConfig||!this.mMediaNetConfig.IsEnabled)},e.prototype.isOutbrainEnable=function(){return!(null==this.mOutbrainConfig||!this.mOutbrainConfig.IsEnabled)},e.prototype.isAutomatadEnable=function(){return!(null==this.mAutomatAdConfig||!this.mAutomatAdConfig.IsEnabled)},e.prototype.getAppnexusEnabledAdSizes=function(){return null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled?this.mAppnexusConfig.adSizes:null},e.prototype.getRubiconEnabledAdSizes=function(){return null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled?this.mRubiconConfig.adSizes:null},e.prototype.getPubmaticEnabledAdSizes=function(){return null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled?this.mPubmaticConfig.adSizes:null},e.prototype.getOpenXEnabledAdSizes=function(){return null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled?this.mOpenXConfig.adSizes:null},e.prototype.getCriteoEnabledAdSizes=function(){return null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled?this.mCriteoConfig.adSizes:null},e.prototype.getSovrnEnabledAdSizes=function(){return null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled?this.mSovrnConfig.adSizes:null},e.prototype.getYieldmoEnabledAdSizes=function(){return null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled?this.mYieldmoConfig.adSizes:null},e.prototype.get33AcrossEnabledAdSizes=function(){return null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled?this.m33AcrossConfig.adSizes:null},e.prototype.getAolEnabledAdSizes=function(){return null!=this.mAolConfig&&this.mAolConfig.IsEnabled?this.mAolConfig.adSizes:null},e.prototype.getGumgumEnabledAdSizes=function(){return null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled?this.mGumgumConfig.adSizes:null},e.prototype.getTripleliftEnabledAdSizes=function(){return null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled?this.mTripleliftConfig.adSizes:null},e.prototype.getAdaptmxEnabledAdSizes=function(){return null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled?this.mAdaptmxConfig.adSizes:null},e.prototype.getSmartAdServerEnabledAdSizes=function(){return null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled?this.mSmartAdServerConfig.adSizes:null},e.prototype.getImproveDigitalEnabledAdSizes=function(){return null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled?this.mImproveDigitalConfig.adSizes:null},e.prototype.getShareThroughEnabledAdSizes=function(){return null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled?this.mShareThroughConfig.adSizes:null},e.prototype.getMediaNetEnabledAdSizes=function(){return null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled?this.mMediaNetConfig.adSizes:null},e.prototype.getAutomatAdEnabledAdSizes=function(){return null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled?this.mAutomatAdConfig.adSizes:null},e.prototype.getOutbrainEnabledAdSizes=function(){return null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled?this.mOutbrainConfig.adSizes:null},e.prototype.getSovrnConfig=function(){return this.mSovrnConfig},e.prototype.getAolConfig=function(){return this.mAolConfig},e.prototype.getGumgumConfig=function(){return this.mGumgumConfig},e.prototype.getTripleliftConfig=function(){return this.mTripleliftConfig},e.prototype.getAdaptmxConfig=function(){return this.mAdaptmxConfig},e.prototype.getSmartAdServerConfig=function(){return this.mSmartAdServerConfig},e.prototype.getImproveDigitalConfig=function(){return this.mImproveDigitalConfig},e.prototype.getShareThroughConfig=function(){return this.mShareThroughConfig},e.prototype.getMediaNetConfig=function(){return this.mMediaNetConfig},e.prototype.getOutbrainConfig=function(){return this.mOutbrainConfig},e.prototype.getAutomatAdConfig=function(){return this.mAutomatAdConfig},e.prototype.callSSP=function(e,t,i,n,o,l){var d=this;this.mSspsLogsParams=n;var m=a.getInstance().getLoadedAdapters();b&&S.getInstance().debugConsoleMessage("Loaded Adapters for bidding ",[m]);try{if(i){for(var u=[],p=this.mIC_Window.ic_pbjs.adUnits,c=0;c<e.length;++c){var h=e[c],g=this.getAdUnitByDivId(p,h.divId);null!=g&&this.mIC_Window.ic_pbjs.removeAdUnit(g.code);var f=this.prepareAdUnit(h,i,o,m,l);f&&(u.push(f.code),this.mIC_Window.ic_pbjs.addAdUnits(f)),b&&S.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for newAdUnit ",[f])}try{b&&S.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for adunitcode ",[u])}catch(e){}if(Object.keys(this.mNotLoadedAdUnits).length>0){var y=(new Date).getTime();s.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,y,y,r.Template.getEligibleS2SBidders())}u.length>0&&(this.prepareConfig(),this.setUserIdToadUnits(p),this.mIC_Window.ic_pbjs.requestBids({timeout:this.mRefreshTimeout,adUnitCodes:u,bidsBackHandler:function(e,i){d.prebidCallback(e,t,i)}}))}else{var T=[],I=[];for(c=0;c<e.length;++c){h=e[c];var v=this.prepareAdUnit(h,i,o,m,l);null!=v&&(I.push(v.code),T.push(v))}Object.keys(this.mNotLoadedAdUnits).length>0&&(y=(new Date).getTime(),s.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,y,y,r.Template.getEligibleS2SBidders()));try{b&&S.getInstance().debugConsoleMessage("Called Prebid SSPs for adunits ",[T])}catch(e){}if(T.length<=0)return;this.prepareConfig(),this.mIC_Window.ic_pbjs.que.push((function(){d.mAuctionEventEnabled||(d.mIC_Window.ic_pbjs.onEvent("auctionEnd",(function(e){var t=(new Date).getTime();s.Utility.getInstance().createSSPResponseObject(d.mSSPLogs,e,t,d.uidModuleNamesArr)})),d.mAuctionEventEnabled=!0,d.periodicallyTriggerUserTrackingLogs()),d.setUserIdToadUnits(T),d.mIC_Window.ic_pbjs.addAdUnits(T),d.mIC_Window.ic_pbjs.requestBids({timeout:d.mTimeout,bidsBackHandler:function(e,i){d.prebidCallback(e,t,i)},adUnitCodes:I})}))}}catch(e){console.log("Error while fetching Prebid bids :: ",e)}},e.prototype.setUserIdToadUnits=function(e){if(this.mIC_Window.IHPWT&&"function"==typeof this.mIC_Window.IHPWT.getUserIds){var t={};e.forEach((function(e){e.bids.forEach((function(e){e.userId=this.mIC_Window.IHPWT.getUserIds()}),this)}),this),t=this.mIC_Window.IHPWT.getUserIds(),null!=(i=r.Template.getPubCommId())&&""!=i&&(t.pubcid=i),this.checkInsertUidNames(t)}else if(this.mIC_Window.PWT&&"function"==typeof this.mIC_Window.PWT.getUserIds){var i;t={},e.forEach((function(e){e.bids.forEach((function(e){e.userId=this.mIC_Window.PWT.getUserIds(),e.userIdAsEids=this.mIC_Window.owpbjs.getUserIdsAsEids()}),this)}),this),t=this.mIC_Window.PWT.getUserIds(),null!=(i=r.Template.getPubCommId())&&""!=i&&(t.pubcid=i),this.checkInsertUidNames(t)}if(Object.keys(r.Template.getId5USerIds()).length>0){var s=r.Template.getId5USerIds(),a=s.userId,o=s.userIdAsEid;e.forEach((function(e){e.bids.forEach((function(e){var t={id5id:{ext:{linkType:2},uid:a}};e.userId=n(n({},e.userId),t);var i=-1;"userIdAsEids"in e?e.userIdAsEids.forEach((function(e,t){o.source==e.source&&(i=t)})):e.userIdAsEids=[],i>-1?e.userIdAsEids[i]=o:e.userIdAsEids.push(o)}),this)}),this),this.checkInsertUidNames({id5id:a})}if(r.Template.isConnectIdEnabled){var l=r.Template.getConnectUserId();if(l&&null!=l&&""!=l){var d={};e.forEach((function(e){e.bids.forEach((function(e){d={connectId:l},e.userId=n(n({},e.userId),d)}),this)}),this),this.checkInsertUidNames(d)}}},e.prototype.checkInsertUidNames=function(e){try{var t=!1;for(var i in e){var n="";"id5id"==i&&"object"==typeof e[i]?"uid"in e[i]&&(n=e[i].uid):"33acrossId"==i&&"object"==typeof e[i]?"envelope"in e[i]&&(n=e[i].envelope):n="object"==typeof e[i]?JSON.stringify(e[i]):e[i];var r=c[i];this.uidModulesId[r]!=n&&(t=!0),this.uidModulesId[r]=n}var s=[];for(var i in this.uidModulesId)""!=this.uidModulesId[i]&&s.push(i);this.uidModuleNamesArr=s,t&&(b&&(S.getInstance().debugConsoleMessage("pvlogs at bid requests  :: "+new Date),S.getInstance().debugConsoleMessage("pvlogs Uids  :: "+JSON.stringify(this.uidModuleNamesArr))),this.triggerUserTrackingLogs())}catch(e){}},e.prototype.triggerUserTrackingLogs=function(e){var t="pageId"in this.mSspsLogsParams?this.mSspsLogsParams.pageId:"",i=Math.round(r.Template.getUserActiveTime()/1e3),n=Math.round(r.Template.getMaxScrollDepth()),a=s.Utility.getInstance().getPageHeight(),o="",l=r.Template.getHashSuppliedByPublisher();for(var d in this.uidModulesId)o=o+d+":"+this.uidModulesId[d]+";";s.Utility.getInstance().createUidLogs(t,l,i,n,a,o,e),b&&S.getInstance().debugConsoleMessage("pvlogs fired :: "+new Date)},e.prototype.periodicallyTriggerUserTrackingLogs=function(){this.getLogInterval();var e=this;setTimeout((function(){b&&S.getInstance().debugConsoleMessage("pvlogs PERIODDICALLY :: Interval ::   "+e.mLogInterval.toString()+" :: Date :: "+new Date),e.triggerUserTrackingLogs(),e.periodicallyTriggerUserTrackingLogs()}),this.mLogInterval)},e.prototype.getLogInterval=function(){var e=(new Date).getTime(),t=Math.floor(Math.abs(e-this.mUserTrackingStartTime)/1e3),i=r.Template.mPVLogInterval;for(var n in i){var s=i[n];if("duration"in s)if(-1==s.duration){if("loginterval"in s){this.mLogInterval=1e3*s.loginterval;break}}else if(s.duration>=t&&"loginterval"in s){this.mLogInterval=1e3*s.loginterval;break}}},e.prototype.prepareAdUnit=function(e,t,i,o,l){var d=this.getAdUnitType(e.isSspHVPlacement,t,l,e),m=r.Template.getEligibleS2SBidders(),u="",c={};"HV"!=d&&"HV_Tpc"!=d||(u=this.mHVSuffix);var h=e.divId+u,g=[],f=e.adSize,y=[],b=[],T=[],I=[];e.divId in o&&(I=o[e.divId]);var v=this.getAppnexusSizes(f);if(null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled&&v.length>0){for(var P=0;P<v.length;++P)if((k=this.getSSPPlacementId(this.mAppnexusConfig,d,v[P][0]+"x"+v[P][1],e.position,!0,e.divId))&&this.convertToInt(k)){if(k){var A=m.indexOf("appnexus")>-1?p.S2S:p.CLIENT;I.indexOf("appnexus")>-1&&m.indexOf("appnexus")<0||m.indexOf("appnexus")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"appnexus",params:{placementId:this.convertToInt(k)}}),g.push("mediatype:banner;bidder:appnexus;source:"+A+";")):T.push({bidder:"appnexus"})}break}(I.indexOf("appnexus")>-1&&m.indexOf("appnexus")<0||m.indexOf("appnexus")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(v))}var E=this.getRubiconSizes(f);if(null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&E.length>0){for(P=0;P<E.length;++P)if((k=this.getSSPPlacementId(this.mRubiconConfig,d,E[P][0]+"x"+E[P][1],e.position,!0,e.divId))&&this.convertToInt(k)&&this.convertToInt(this.mRubiconConfig.SiteId)){A=m.indexOf("rubicon")>-1?p.S2S:p.CLIENT,I.indexOf("rubicon")>-1&&m.indexOf("rubicon")<0||m.indexOf("rubicon")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"rubicon",params:{accountId:this.mRubiconAccountId,siteId:this.convertToInt(this.mRubiconConfig.SiteId),zoneId:this.convertToInt(k)}}),g.push("mediatype:banner;bidder:rubicon;source:"+A+";")):T.push({bidder:"rubicon"});break}(I.indexOf("rubicon")>-1&&m.indexOf("rubicon")<0||m.indexOf("rubicon")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(E))}var C=this.getPubmaticSizes(f);if(null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled&&C.length>0&&"SlotNamePrefix"in this.mPubmaticConfig){var D=C[0].join("x"),_=this.getPubmaticSlotNamePrefix(e,t,D,l);A=m.indexOf("pubmatic")>-1?p.S2S:p.CLIENT,I.indexOf("pubmatic")>-1&&m.indexOf("pubmatic")<0||m.indexOf("pubmatic")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"pubmatic",params:{adSlot:_,publisherId:this.mPubmaticConfig.PublisherId}}),g.push("mediatype:banner;bidder:pubmatic;source:"+A+";"),y=y.concat(C)):T.push({bidder:"pubmatic"})}var R=this.getOpenXSizes(f);if(null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled&&R.length>0){for(P=0;P<R.length;++P)if(k=this.getSSPPlacementId(this.mOpenXConfig,d,R[P][0]+"x"+R[P][1],e.position,!0,e.divId)){A=m.indexOf("openx")>-1?p.S2S:p.CLIENT,I.indexOf("openx")>-1&&m.indexOf("openx")<0||m.indexOf("openx")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"openx",params:{unit:k.toString(),delDomain:this.mOpenXConfig.delDomain}}),g.push("mediatype:banner;bidder:openx;source:"+A+";")):T.push({bidder:"openx"});break}(I.indexOf("openx")>-1&&m.indexOf("openx")<0||m.indexOf("openx")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(R))}var U=this.getCriteoSizes(f);null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled&&U.length>0&&(A=m.indexOf("criteo")>-1?p.S2S:p.CLIENT,I.indexOf("criteo")>-1&&m.indexOf("criteo")<0||m.indexOf("criteo")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"criteo",params:{networkId:this.mCriteoConfig.networkId}}),g.push("mediatype:banner;bidder:criteo;source:"+A+";"),y=y.concat(U)):T.push({bidder:"criteo"}));var w=this.getSovrnSizes(f);if(null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled&&w.length>0){for(P=0;P<w.length;++P)if(k=this.getSSPPlacementId(this.mSovrnConfig,d,w[P][0]+"x"+w[P][1],e.position,!1,e.divId)){A=m.indexOf("sovrn")>-1?p.S2S:p.CLIENT,I.indexOf("sovrn")>-1&&m.indexOf("sovrn")<0||m.indexOf("sovrn")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"sovrn",params:{tagid:k,size:w[P]}}),g.push("mediatype:banner;bidder:sovrn;source:"+A+";")):T.push({bidder:"sovrn"});break}(I.indexOf("sovrn")>-1&&m.indexOf("sovrn")<0||m.indexOf("sovrn")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(w))}var O=this.getYieldmoSizes(f);if(null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled&&O.length>0){for(P=0;P<O.length;++P)if(k=this.getSSPPlacementId(this.mYieldmoConfig,d,O[P][0]+"x"+O[P][1],e.position,!0,e.divId)){A=m.indexOf("yieldmo")>-1?p.S2S:p.CLIENT,I.indexOf("yieldmo")>-1&&m.indexOf("yieldmo")<0||m.indexOf("yieldmo")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"yieldmo",params:{placementId:k.toString()}}),g.push("mediatype:banner;bidder:yieldmo;source:"+A+";")):T.push({bidder:"yieldmo"});break}(I.indexOf("yieldmo")>-1&&m.indexOf("yieldmo")<0||m.indexOf("yieldmo")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(O))}var L=this.get33AcrossSizes(f);if(null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled&&L.length>0){for(P=0;P<L.length;++P)if(k=this.getSSPPlacementId(this.m33AcrossConfig,d,L[P][0]+"x"+L[P][1],e.position,!0,e.divId)){A=m.indexOf("33across")>-1?p.S2S:p.CLIENT;var N="siab";if("Adhesion"!=d&&"Adhesion_Tpc"!=d||(N="inview"),I.indexOf("33across")>-1&&m.indexOf("33across")<0||m.indexOf("33across")>-1&&a.isPrebidS2SEnabled){var x={};x={siteId:k,productId:N},m.indexOf("33across")>-1&&"buyerId"in this.m33AcrossConfig&&"zoneId"in this.m33AcrossConfig&&(x={siteId:this.m33AcrossConfig.buyerId,productId:this.m33AcrossConfig.zoneId}),b.push({bidder:"33across",params:x}),g.push("mediatype:banner;bidder:33across;source:"+A+";")}else T.push({bidder:"33across"});break}(I.indexOf("33across")>-1&&m.indexOf("33across")<0||m.indexOf("33across")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(L))}var F=this.getAolSizes(f);if(null!=this.mAolConfig&&this.mAolConfig.IsEnabled&&F.length>0){for(P=0;P<F.length;++P){var k=this.getSSPPlacementId(this.mAolConfig,d,F[P][0]+"x"+F[P][1],e.position,!0,e.divId),M=this.getSiteIdForDevice(this.mAolConfig,d);if(k&&M){A=m.indexOf("aol")>-1?p.S2S:p.CLIENT,I.indexOf("aol")>-1&&m.indexOf("aol")<0||m.indexOf("aol")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"onemobile",params:{dcn:M,pos:k}}),g.push("mediatype:banner;bidder:onemobile;source:"+A+";")):T.push({bidder:"onemobile"});break}}(I.indexOf("aol")>-1&&m.indexOf("aol")<0||m.indexOf("aol")>-1&&a.isPrebidS2SEnabled)&&(y=y.concat(F))}var z=this.getGumgumSizes(f);if(null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled&&z.length>0)for(P=0;P<z.length;++P)if(k=this.getSSPPlacementId(this.mGumgumConfig,d,z[P][0]+"x"+z[P][1],e.position,!0,e.divId)){A=m.indexOf("gumgum")>-1?p.S2S:p.CLIENT,I.indexOf("gumgum")>-1&&m.indexOf("gumgum")<0||m.indexOf("gumgum")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"gumgum",params:{inSlot:k}}),g.push("mediatype:banner;bidder:gumgum;source:"+A+";"),y=y.concat([z[P]])):T.push({bidder:"gumgum"});break}var G=this.getTripleliftSizes(f);if(null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled&&G.length>0)for(P=0;P<G.length;++P)if(k=this.getSSPPlacementId(this.mTripleliftConfig,d,G[P][0]+"x"+G[P][1],e.position,!0,null)){A=m.indexOf("triplelift")>-1?p.S2S:p.CLIENT,I.indexOf("triplelift")>-1&&m.indexOf("triplelift")<0||m.indexOf("triplelift")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"triplelift",params:{inventoryCode:k}}),g.push("mediatype:banner;bidder:triplelift;source:"+A+";"),3==(j=G[P])[0]&&(j[1]=1),y=y.concat([j])):T.push({bidder:"triplelift"});break}var V=this.getSmartAdServerSizes(f);if(null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled&&V.length>0){for(P=0;P<V.length;++P)if((k=this.getSSPPlacementId(this.mSmartAdServerConfig,d,V[P][0]+"x"+V[P][1],e.position,!0,e.divId))&&this.convertToInt(k)){if(A=m.indexOf("smartadserver")>-1?p.S2S:p.CLIENT,I.indexOf("smartadserver")>-1&&m.indexOf("smartadserver")<0||m.indexOf("smartadserver")>-1&&a.isPrebidS2SEnabled){var B={formatId:this.convertToInt(this.mSmartAdServerConfig.formatId),siteId:this.convertToInt(this.mSmartAdServerConfig.siteId),pageId:this.convertToInt(k)};m.indexOf("smartadserver")>-1&&"networkId"in this.mSmartAdServerConfig&&(B=n(n({},B),{networkId:this.mSmartAdServerConfig.networkId})),b.push({bidder:"smartadserver",params:B}),g.push("mediatype:banner;bidder:smartadserver;source:"+A+";")}else T.push({bidder:"smartadserver"});break}(I.indexOf("smartadserver")>-1&&m.indexOf("smartadserver")<0||m.indexOf("smartadserver")>-1)&&(y=y.concat(V))}var W=this.getImproveDigitalSizes(f);if(null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled&&W.length>0)for(P=0;P<W.length;++P)if((k=this.getSSPPlacementId(this.mImproveDigitalConfig,d,W[P][0]+"x"+W[P][1],e.position,!1,e.divId))&&this.convertToInt(k))if(A=m.indexOf("improvedigital")>-1?p.S2S:p.CLIENT,I.indexOf("improvedigital")>-1&&m.indexOf("improvedigital")<0||m.indexOf("improvedigital")>-1&&a.isPrebidS2SEnabled){var K={placementId:this.convertToInt(k)};m.indexOf("improvedigital")>-1?"partnerId"in this.mImproveDigitalConfig&&(K=n(n({},K),{partnerId:this.mImproveDigitalConfig.partnerId})):K=n(n({},K),{size:W[P]}),b.push({bidder:"improvedigital",params:K}),g.push("mediatype:banner;bidder:improvedigital;source:"+A+";"),y=y.concat([W[P]])}else T.push({bidder:"improvedigital"});var H=this.getShareThroughSizes(f);if(null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled&&H.length>0)for(P=0;P<H.length;++P)if(k=this.getSSPPlacementId(this.mShareThroughConfig,d,H[P][0]+"x"+H[P][1],e.position,!0,e.divId)){if(A=m.indexOf("sharethrough")>-1?p.S2S:p.CLIENT,I.indexOf("sharethrough")>-1&&m.indexOf("sharethrough")<0||m.indexOf("sharethrough")>-1&&a.isPrebidS2SEnabled){b.push({bidder:"sharethrough",params:{pkey:k}}),g.push("mediatype:banner;bidder:sharethrough;source:"+A+";");var j=H[P];y=y.concat([j])}else T.push({bidder:"sharethrough"});break}var q=this.getMediaNetSizes(f);if(null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled&&q.length>0)for(P=0;P<q.length;++P)if(k=this.getSSPPlacementId(this.mMediaNetConfig,d,q[P][0]+"x"+q[P][1],e.position,!0,e.divId)){A=m.indexOf("medianet")>-1?p.S2S:p.CLIENT,I.indexOf("medianet")>-1&&m.indexOf("medianet")<0||m.indexOf("medianet")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"medianet",params:{cid:this.mMediaNetConfig.customerId,crid:k}}),g.push("mediatype:banner;bidder:medianet;source:"+A+";"),j=q[P],y=y.concat([j])):T.push({bidder:"medianet"});break}var J=this.getAutomatAdSizes(f);if(null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled&&J.length>0)for(P=0;P<J.length;++P){D=J[0].join("x"),"primaryAdSize"in e&&(D=e.primaryAdSize);var Y=this.getSlotName(e,t,D,l);if(Y){A=m.indexOf("automatad")>-1?p.S2S:p.CLIENT,I.indexOf("automatad")>-1&&m.indexOf("automatad")<0||m.indexOf("automatad")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"automatad",params:{siteId:this.mAutomatAdConfig.siteId,placementId:Y}}),g.push("mediatype:banner;bidder:automatad;source:"+A+";"),j=J[P],y=y.concat([j])):T.push({bidder:"automatad"});break}}var Q=this.getAdaptmxSizes(f);if(null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled&&Q.length>0)for(P=0;P<Q.length;++P){D=Q[0].join("x");var X=this.getSlotName(e,t,D,l);if(X){A=m.indexOf("amx")>-1?p.S2S:p.CLIENT;var Z=s.Utility.getInstance().getFromSessionStorage("ic_uat_amx_test");I.indexOf("amx")>-1&&m.indexOf("amx")<0||m.indexOf("amx")>-1&&a.isPrebidS2SEnabled?(null==Z?b.push({bidder:"amx",params:{adUnitId:X,tagId:this.mAdaptmxConfig.tagId}}):b.push({bidder:"amx",params:{testMode:!0,adUnitId:X,tagId:"cHJlYmlkLm9yZw"}}),g.push("mediatype:banner;bidder:amx;source:"+A+";"),y=y.concat([Q[P]])):T.push({bidder:"amx"});break}}var $=this.getOutbrainSizes(f);if(null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled&&$.length>0&&e.nativeLayout&&"prebidConfig"in e.nativeLayout)for(P=0;P<$.length;++P){D=$[0].join("x"),c={native:JSON.parse(e.nativeLayout.prebidConfig)};var ee=this.getOutbrainTagId(e,t,D,l);A=m.indexOf("outbrain")>-1?p.S2S:p.CLIENT,I.indexOf("outbrain")>-1&&m.indexOf("outbrain")<0||m.indexOf("outbrain")>-1&&a.isPrebidS2SEnabled?(b.push({bidder:"outbrain",params:{publisher:{id:this.mOutbrainConfig.publisherId},tagid:ee}}),this.prepareConfig(!0),g.push("mediatype:native;bidder:outbrain;source:"+A+";"),3==(j=$[P])[0]&&(j[1]=1),y=y.concat([j])):T.push({bidder:"outbrain"});break}if(T&&T.length>0){var te="",ie=e.divId.split("_");ie[2]&&(te=ie[2]);var ne={code:h,mediaTypes:n({},c),bids:T,req:n(n({},this.mSspsLogsParams),{rnd:te,adslot:h,arc:i})};h in this.mNotLoadedAdUnits||(this.mNotLoadedAdUnits[h]=[]),this.mNotLoadedAdUnits[h].push(ne)}if(y=S.getInstance().removeDuplicateFromArray(y),b&&b.length>0){var re=Object.create(y);return this.mSSPLogs[h]=s.Utility.createSSPReqObject(g,re,this.mSspsLogsParams,h,i),{code:h,mediaTypes:n({banner:{sizes:y}},c),bids:b}}return null},e.prototype.convertToInt=function(e){try{return parseInt(e)}catch(e){}},e.prototype.prebidCallback=function(e,t,i){var n=this.mIC_Window.ic_pbjs.getNoBids();try{b&&(S.getInstance().debugConsoleMessage("Received bids from Prebid ",[e]),S.getInstance().debugConsoleMessage("Received no bids from Prebid ",[n]))}catch(e){}var r=[];for(var s in e){var a=e[s];try{b&&S.getInstance().debugConsoleMessage("Received bids from Prebid Values---",[a])}catch(e){}var o={};if(a&&a.bids)for(var l=0;l<a.bids.length;++l)o[(d=a.bids[l]).bidder]={bid_value:parseFloat(d.adserverTargeting.hb_pb),bid_id:d.adserverTargeting.hb_adid,size:d.adserverTargeting.hb_size,deal_id:a.dealId};"function"==typeof t&&(s=s.replace(this.mHVSuffix,""),r.push(s),t(s,o))}for(var s in n){a=n[s];try{b&&S.getInstance().debugConsoleMessage("Received no bids from Prebid Values---",[a])}catch(e){}if(o={},a&&a.bids)for(l=0;l<a.bids.length;++l){var d;o[(d=a.bids[l]).bidder]={}}"function"==typeof t&&t(s=s.replace(this.mHVSuffix,""),o)}},e.prototype.getSupportedAdSizes=function(e,t,i){for(var n=[],r=0;r<e.length;++r)if(!(i.indexOf(e[r])<0||t&&t.indexOf(e[r])<0)){var s=e[r].split("x");s[0]=parseInt(s[0]),s[1]=parseInt(s[1]),n.push(s)}return n},e.prototype.getAppnexusSizes=function(e){return this.getSupportedAdSizes(e,this.getAppnexusEnabledAdSizes(),P)},e.prototype.getRubiconSizes=function(e){return this.getSupportedAdSizes(e,this.getRubiconEnabledAdSizes(),T)},e.prototype.getPubmaticSizes=function(e){return this.getSupportedAdSizes(e,this.getPubmaticEnabledAdSizes(),I)},e.prototype.getOpenXSizes=function(e){return this.getSupportedAdSizes(e,this.getOpenXEnabledAdSizes(),A)},e.prototype.getCriteoSizes=function(e){return this.getSupportedAdSizes(e,this.getCriteoEnabledAdSizes(),E)},e.prototype.getSovrnSizes=function(e){return this.getSupportedAdSizes(e,this.getSovrnEnabledAdSizes(),C)},e.prototype.getYieldmoSizes=function(e){return this.getSupportedAdSizes(e,this.getYieldmoEnabledAdSizes(),D)},e.prototype.get33AcrossSizes=function(e){return this.getSupportedAdSizes(e,this.get33AcrossEnabledAdSizes(),_)},e.prototype.getAolSizes=function(e){return this.getSupportedAdSizes(e,this.getAolEnabledAdSizes(),R)},e.prototype.getGumgumSizes=function(e){return this.getSupportedAdSizes(e,this.getGumgumEnabledAdSizes(),U)},e.prototype.getTripleliftSizes=function(e){return this.getSupportedAdSizes(e,this.getTripleliftEnabledAdSizes(),w)},e.prototype.getAdaptmxSizes=function(e){return this.getSupportedAdSizes(e,this.getAdaptmxEnabledAdSizes(),O)},e.prototype.getSmartAdServerSizes=function(e){return this.getSupportedAdSizes(e,this.getSmartAdServerEnabledAdSizes(),L)},e.prototype.getImproveDigitalSizes=function(e){return this.getSupportedAdSizes(e,this.getImproveDigitalEnabledAdSizes(),N)},e.prototype.getShareThroughSizes=function(e){return this.getSupportedAdSizes(e,this.getShareThroughEnabledAdSizes(),x)},e.prototype.getMediaNetSizes=function(e){return this.getSupportedAdSizes(e,this.getMediaNetEnabledAdSizes(),F)},e.prototype.getOutbrainSizes=function(e){return this.getSupportedAdSizes(e,this.getOutbrainEnabledAdSizes(),k)},e.prototype.getAutomatAdSizes=function(e){return this.getSupportedAdSizes(e,this.getAutomatAdEnabledAdSizes(),M)},e.prototype.getAdUnitType=function(e,t,i,n){var r="NORMAL";return(e||t&&i&&"t"==i)&&(r="HV"),"t"==n.thirdPartyCookie&&(r="HV"==r?"HV_Tpc":"Tpc"),n.isAdhesion&&(r="Tpc"==r||"HV_Tpc"==r?"Adhesion_Tpc":"Adhesion"),r},e.prototype.setPlacementConfig=function(e,t,i){return e&&null!=e?("HV"!=i&&"Adhesion"!=i&&"Adhesion_Tpc"!=i&&"HV_Tpc"!=i||!("HV_Id"in e)||(t=e.HV_Id),"Tpc"==i&&"Tpc_Id"in e&&(t=e.Tpc_Id),"HV_Tpc"==i&&"HV_Tpc_Id"in e&&(t=e.HV_Tpc_Id),"Adhesion"==i&&"Adhesion"in e&&(t=e.Adhesion),"Adhesion_Tpc"==i&&"Adhesion_Tpc_Id"in e&&(t=e.Adhesion_Tpc_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.setStackPlacementConfig=function(e,t,i){return e&&null!=e?("Stack_HV"!=(i="Stack_"+i)&&"Stack_Adhesion"!=i&&"Stack_Adhesion_Tpc"!=i&&"Stack_HV_Tpc"!=i||!("Stack_HV_Id"in e)||(t=e.Stack_HV_Id),"Stack_Tpc"==i&&"Stack_Tpc_Id"in e&&(t=e.Stack_Tpc_Id),"Stack_HV_Tpc"==i&&"Stack_HV_Tpc_Id"in e&&(t=e.Stack_HV_Tpc_Id),"Stack_Adhesion"==i&&"Stack_Adhesion"in e&&(t=e.Stack_Adhesion),"Stack_Adhesion_Tpc"==i&&"Stack_Adhesion_Tpc_Id"in e&&(t=e.Stack_Adhesion_Tpc_Id),t&&null!=t||!("Stack_Id"in e)||(t=e.Stack_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.getSSPPlacementId=function(e,t,i,n,r,s){var a;return void 0===n&&(n=1),void 0===r&&(r=!0),a=1==this.isDummyStackPlacement(s)?this.setStackPlacementConfig(e,a,t):this.setPlacementConfig(e,a,t),this.getPlacementIdForAdSize(a,i,n,r)},e.prototype.getPlacementIdForAdSize=function(e,t,i,n){var r;if(void 0===i&&(i=1),void 0===n&&(n=!0),!e||null==e)return null;t in e?r=e[t]:"Default"in e&&(r=e.Default);var s=null;return r&&null!=r&&r.length>0&&(r.length>=i?s=r[i-1]:n&&(s=r[(i-1)%r.length])),s},e.prototype.getRubiconZoneId=function(e){return"HV"==e&&this.mRubiconConfig.HVZoneId?this.mRubiconConfig.HVZoneId:this.mRubiconConfig.ZoneId},e.prototype.checkAndSetConfigForDummyPlacement=function(e){var t="";if("divId"in e){var i=e.divId;this.isDummyStackPlacement(i)&&(t="Stack_")}return t},e.prototype.getPubmaticSlotNamePrefix=function(e,t,i,n){var r="",s="",a=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==n)&&(r="HV_"),e.isAdhesion&&(r="Adhesion_"),"t"==e.thirdPartyCookie&&(r+="AC_"),this.mDeviceType){case"m":s="Mobile_";break;case"t":s="Tablet_";break;default:s="Desktop_"}return this.mPubmaticConfig.SlotNamePrefix+"_"+a+r+s+i+"_"+e.position},e.prototype.getAdUnitByDivId=function(e,t){for(var i=null,n=0;n<e.length;++n)if(e[n].code.indexOf(t)>=0){i=e[n];break}return i},e.prototype.getTagId=function(e,t,i,n,r,s){if(null==n||!("Config"in n))return null;if((e||r&&"t"==s)&&"HV"in n.Config&&t in n.Config.HV&&n.Config.HV[t].length>=i)return n.Config.HV[t][i-1];switch(this.mDeviceType){case"d":if("Desktop"in n.Config&&t in n.Config.Desktop&&n.Config.Desktop[t].length>=i)return n.Config.Desktop[t][i-1];break;case"m":if("Mobile"in n.Config&&t in n.Config.Mobile&&n.Config.Mobile[t].length>=i)return n.Config.Mobile[t][i-1];break;case"t":if("Tablet"in n.Config&&t in n.Config.Tablet&&n.Config.Tablet[t].length>=i)return n.Config.Tablet[t][i-1]}return null},e.prototype.getPlacementIdForPrimaryAdSize=function(e,t,i,n,r){if(!("Config"in i))return null;if((e||n&&"t"==r)&&"HV"in i.Config&&t in i.Config.HV)return i.Config.HV[t];switch(this.mDeviceType){case"d":if("Desktop"in i.Config&&t in i.Config.Desktop)return i.Config.Desktop[t];break;case"m":if("Mobile"in i.Config&&t in i.Config.Mobile)return i.Config.Mobile[t];break;case"t":if("Tablet"in i.Config&&t in i.Config.Tablet)return i.Config.Tablet[t]}return null},e.prototype.getSiteIdForDevice=function(e,t){var i;return"HV"==t&&"HV_Id"in e&&(i=e.HV_Id),"Tpc"==t&&"Tpc_Id"in e&&(i=e.Tpc_Id),"HV_Tpc"==t&&"HV_Tpc_Id"in e&&(i=e.HV_Tpc_Id),i&&null!=i||(i=e.Default),i&&"SiteId"in i?i.SiteId:null},e.prototype.getSlotName=function(e,t,i,n){var r="",s="",a=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==n)&&(r="HV_"),e.isAdhesion&&(r="Adhesion_"),"t"==e.thirdPartyCookie&&(r+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+a+r+s+i+"_"+e.position},e.prototype.getOutbrainTagId=function(e,t,i,n){var r="",s="";switch((e.isSspHVPlacement||t&&"t"==n)&&(r="HV_"),e.isAdhesion&&(r="Adhesion_"),"t"==e.thirdPartyCookie&&(r+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+r+s+i+"_"+e.position},e.prototype.getPriceBucketString=function(e,t,i){void 0===i&&(i=1);var n=parseFloat(e);return isNaN(n)&&(n=0),this.getCpmStringValue(n,t,i)},e.prototype.getCpmStringValue=function(e,t,i){var n="";if(!this.isValidPriceConfig(t))return n;var r=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),s=0,a=t.buckets.find((function(t){if(e>r.max*i){var a=t.precision;void 0===a&&(a=2),n=(t.max*i).toFixed(a)}else{if(e<=t.max*i&&e>=s*i)return t.min=s,t;s=t.max}}));return a&&(n=this.getCpmTarget(e,a,i)),n},e.prototype.isValidPriceConfig=function(e){if(null==e||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t},e.prototype.getCpmTarget=function(e,t,i){var n=void 0!==t.precision?t.precision:2,r=t.increment*i,s=t.min*i,a=Math.pow(10,n+2),o=(e*a-s*a)/(r*a),l=Math.floor(o)*r+s;return(l=Number(l.toFixed(10))).toFixed(n)},e.prototype.isDummyStackPlacement=function(e){if(e){var t=e.split("_");if(t.length>=4){var i=t[3];if(y.indexOf(i)>-1)return!0}}return!1},e}(),g=function(){function e(e,t){this.mA9Script='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");',this.mStatus=l.INITIALIZED,this.mSspsLogsParams={},this.mSSPLogs=[],this.mDeals=!1,this.mDeviceType=e,this.mTimeout=t.timeout,this.mRefreshTimeout=t.refreshTimeout,this.mDeals=t.deals,"adSizes"in t&&(this.mA9EnabledAdSizes=t.adSizes);var i=document.createElement("script");i.id="IC_A9Script",i.text=this.mA9Script,document.head.appendChild(i)}return e.prototype.callSSP=function(e,t,i,r,a){var o=this;this.mSspsLogsParams=i;var m=this.mTimeout;a&&(m=this.mRefreshTimeout);var u=[];try{for(var c=0;c<e.length;++c){for(var h=e[c],g=this.getSlotName(h,a),f=h.adSize,y=[],T=0;T<f.length;++T)v.indexOf(f[T])<0||this.mA9EnabledAdSizes&&this.mA9EnabledAdSizes.indexOf(f[T])<0||y.push(f[T].split("x"));if(!(y.length<=0)){u.push({slotID:h.divId,slotName:g,sizes:y});var I=["mediatype:banner;bidder:a9;source:"+p.CLIENT];this.mSSPLogs[h.divId]=s.Utility.createSSPReqObject(I,y,i,h.divId,r)}}try{b&&S.getInstance().debugConsoleMessage("Called A9 SSP for adslots ",[u])}catch(e){}if(u.length<=0)return;var P={pubID:"3310",adServer:"googletag"};this.mDeals&&(P=n(n({},P),{deals:!0})),apstag.init(P),this.mStatus=l.INPROGRESS;var A=(new Date).getTime();apstag.fetchBids({slots:u,timeout:m},(function(i,r){o.mStatus=l.RECEIVED;var a=(new Date).getTime();try{b&&S.getInstance().debugConsoleMessage("Received bids from A9 ",[i])}catch(e){}for(var m=[],u=0;u<i.length;++u){var p=JSON.parse(JSON.stringify(i[u])),c={},h="",g="",f="",y="",T="";o.mDeals&&"targeting"in p?("amzndeal_sp"in p.targeting?(h=p.targeting.amzniid_sp,g=p.targeting.amznbid_sp,f=p.targeting.amzndeal_sp,T=p.targeting.amznsz_sp,y=p.targeting.amznp_sp):(h=p.targeting.amzniid,g=p.targeting.amznbid,T=p.targeting.amznsz,"amznp"in p.targeting&&(y=p.targeting.amznp)),p.amzniid=h,p.amznsz=T):(h=p.amzniid,g=p.amznbid,T=p.size,"amznp"in p&&(y=p.amznp)),c={bid_value:g,bid_id:h,size:T},""!=f&&(c=n(n({},c),{deal_id:f})),""!=y&&(c=n(n({},c),{partner_id:y})),"function"==typeof t&&(m.push(p.slotID),t(p.slotID,c));var I=p.slotID,v=[],P=[],E="0";try{if(""!=h){var C=d;void 0!==C[g]&&(E=C[g])}}catch(e){}p.auctionId="",p.auctionStart=A,p.requestTimestamp=A,p.responseTimestamp=a,p.timeToRespond=a-A,p.ttl="",p.adId="",p.currency="",p.creativeId="",p.netRevenue="",p.dealId=f,p.cpm=E,""!=h?((v=p).statusMessage="Bid available",p.netRevenue=!0,p.currency="USD"):""==h&&((P=p).statusMessage="No Bid"),s.Utility.getInstance().createA9SSPResponseObject(I,o.mSSPLogs,v,P,r.fromTimeout)}if("function"==typeof t)for(u=0;u<e.length;++u)m.indexOf(e[u].divId)<0&&t(e[u].divId,null)}))}catch(e){var E=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in callSSP. "+e});document.dispatchEvent(E)}},e.prototype.getStatus=function(){return this.mStatus},e.prototype.getA9EnabledAdSizes=function(){return this.mA9EnabledAdSizes?this.mA9EnabledAdSizes:null},e.prototype.getSlotName=function(e,t){var i="",n=a.getInstance().getPrebid().checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==t)&&(i="HighView_"),e.isAdhesion&&(i="Adhesion_"),"t"==e.thirdPartyCookie&&(i+="ActiveCookie_"),this.mDeviceType){case"d":default:i+="Desktop";break;case"m":i+="Mobile";break;case"t":i+="Tablet"}return n+i},e}(),f=function(){function e(){this.mIC_Window=window.top,this.mMarkitLibrary=("https:"==document.location.protocol?"https://":"http://")+"ad.wsod.com/pub/37693cfc748049e45d87b8c7d8b9aacd/0.0.async/"}return e.prototype.callMarkit=function(e){var t,i=this;this.mIC_Window.document.getElementById("IC_MarkitScript")||(t=self!=this.mIC_Window&&window.location.hostname==this.mIC_Window.location.hostname?this.mIC_Window.document.getElementsByTagName("iframe")[0]:this.mIC_Window.document.getElementsByTagName("script")[0],S.getInstance().dropAsyncScript(this.mMarkitLibrary,t,"IC_MarkitScript"),this.mIC_Window.ICMarkitCallback=function(){try{b&&S.getInstance().debugConsoleMessage("Received values from Markit ",[i.mIC_Window.mdjs.targeting.getCustom()])}catch(e){}"function"==typeof e&&e(i.mIC_Window.mdjs.targeting.getCustom())})},e}(),S=function(){function e(){}return e.getInstance=function(){return null==this.mCommon&&(this.mCommon=new e),this.mCommon},e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var n=0;n<t.length;n++)i.push(t[n]);console.log.apply(console,i)}catch(e){}},e.prototype.dropAsyncScript=function(e,t,i){var n=document.createElement("script");n.id=i,n.src=e,n.type="text/javascript",n.async=!0,t&&t.parentNode.insertBefore(n,t)},e.prototype.removeDuplicateFromArray=function(e){for(var t=[],i=[],n=0;n<e.length;++n){var r=e[n].toString();i.indexOf(r)>=0||(i.push(r),t.push(e[n]))}return t},e.mCommon=null,e}();!function(e){e["160x600"]="16",e["250x250"]="22",e["320x50"]="35",e["300x250"]="32",e["300x600"]="36",e["300x1050"]="31",e["468x60"]="46",e["728x90"]="79",e["970x90"]="99",e["970x250"]="92",e["320x100"]="30"}(o||(o={})),function(e){e.INITIALIZED="INITIALIZED",e.INPROGRESS="INPROGRESS",e.RECEIVED="RECEIVED",e.USED="USED",e.FAILED="FAILED",e.NOT_APPLICABLE="NOT_APPLICABLE"}(l||(l={})),function(e){e.erg1s="0.00",e.zxbh1c="0.01",e.i61gjk="0.02",e["1holhj4"]="0.03",e["9aegao"]="0.04",e["18syha8"]="0.05",e.r1ogsg="0.06",e["1qk8hs0"]="0.07",e["4uky68"]="0.08",e["14d4z5s"]="0.09",e.mluyo0="0.10",e["1m4eznk"]="0.11",e.dq7yf4="0.12",e["1d8rzeo"]="0.13",e.vhhyww="0.14",e["1v01zwg"]="0.15",e["2mo740"]="0.16",e["125883k"]="0.17",e.kdy7ls="0.18",e["1jwi8lc"]="0.19",e.bib7cw="0.20",e["1b0v8cg"]="0.21",e.t9l7uo="0.22",e["1ss58u8"]="0.23",e["72hp8g"]="0.24",e["16l1q80"]="0.25",e.otrpq8="0.26",e["1ocbqps"]="0.27",e.fy4phc="0.28",e["1fgoqgw"]="0.29",e.xpepz4="0.30",e["1x7yqyo"]="0.31",e["1iptkw"]="0.32",e["1119ukg"]="0.33",e.j9zu2o="0.34",e["1isjv28"]="0.35",e.aectts="0.36",e["19wwutc"]="0.37",e.s5mubk="0.38",e["1ro6vb4"]="0.39",e["5yjbpc"]="0.40",e["15h3cow"]="0.41",e.nptc74="0.42",e["1n8dd6o"]="0.43",e.eu6by8="0.44",e["1ecqcxs"]="0.45",e.wlgcg0="0.46",e["1w40dfk"]="0.47",e["3qmkn4"]="0.48",e["1396lmo"]="0.49",e.lhwl4w="0.50",e["1l0gm4g"]="0.51",e.cm9kw0="0.52",e["1c4tlvk"]="0.53",e.udjlds="0.54",e["1tw3mdc"]="0.55",e["86g2rk"]="0.56",e["17p03r4"]="0.57",e.pxq39c="0.58",e["1pga48w"]="0.59",e.h2330g="0.60",e["1gkn400"]="0.61",e.ytd3i8="0.62",e["1ybx4hs"]="0.63",e.yqmtc="0.64",e["10hansw"]="0.65",e.iq0nb4="0.66",e["1i8koao"]="0.67",e["9udn28"]="0.68",e["19cxo1s"]="0.69",e.rlnnk0="0.70",e["1r47ojk"]="0.71",e["5ek4xs"]="0.72",e["14x45xc"]="0.73",e.n5u5fk="0.74",e["1moe6f4"]="0.75",e.ea756o="0.76",e["1dsr668"]="0.77",e.w1h5og="0.78",e["1vk16o0"]="0.79",e["36ndvk"]="0.80",e["12p7ev4"]="0.81",e.kxxedc="0.82",e["1kghfcw"]="0.83",e.c2ae4g="0.84",e["1bkuf40"]="0.85",e.ttkem8="0.86",e["1tc4fls"]="0.87",e["7mgw00"]="0.88",e["1750wzk"]="0.89",e.pdqwhs="0.90",e["1owaxhc"]="0.91",e.gi3w8w="0.92",e["1g0nx8g"]="0.93",e.y9dwqo="0.94",e["1xrxxq8"]="0.95",e["22p0cg"]="0.96",e["11l91c0"]="0.97",e.jtz0u8="0.98",e["1jcj1ts"]="0.99",e.ayc0lc="1.00",e["1agw1kw"]="1.01",e.spm134="1.02",e["1s8622o"]="1.03",e["6iiigw"]="1.04",e["1612jgg"]="1.05",e.o9siyo="1.06",e["1nscjy8"]="1.07",e.fe5ips="1.08",e["1ewpjpc"]="1.09",e.x5fj7k="1.10",e["1wnzk74"]="1.11",e["4alreo"]="1.12",e["13t5se8"]="1.13",e.m1vrwg="1.14",e["1lkfsw0"]="1.15",e.d68rnk="1.16",e["1cossn4"]="1.17",e.uxis5c="1.18",e["1ug2t4w"]="1.19",e["8qf9j4"]="1.20",e["188zaio"]="1.21",e.qhpa0w="1.22",e["1q09b0g"]="1.23",e.hm29s0="1.24",e["1h4mark"]="1.25",e.zdca9s="1.26",e["1yvwb9c"]="1.27",e["4ruo0"]="1.28",e.znbvnk="1.29",e.hw1v5s="1.30",e["1helw5c"]="1.31",e["90euww"]="1.32",e["18iyvwg"]="1.33",e.qroveo="1.34",e["1qa8we8"]="1.35",e["4klcsg"]="1.36",e["1435ds0"]="1.37",e.mbvda8="1.38",e["1lufe9s"]="1.39",e.dg8d1c="1.40",e["1cyse0w"]="1.41",e.v7idj4="1.42",e["1uq2eio"]="1.43",e["2colq8"]="1.44",e["11v8mps"]="1.45",e.k3ym80="1.46",e["1jmin7k"]="1.47",e.b8blz4="1.48",e["1aqvmyo"]="1.49",e.szlmgw="1.50",e["1si5ngg"]="1.51",e["6si3uo"]="1.52",e["16b24u8"]="1.53",e.ojs4cg="1.54",e["1o2c5c0"]="1.55",e.fo543k="1.56",e["1f6p534"]="1.57",e.xff4lc="1.58",e["1wxz5kw"]="1.59",e["18q874"]="1.60",e["10ra96o"]="1.61",e.j008ow="1.62",e["1iik9og"]="1.63",e.a4d8g0="1.64",e["19mx9fk"]="1.65",e.rvn8xs="1.66",e["1re79xc"]="1.67",e["5ojqbk"]="1.68",e["1573rb4"]="1.69",e.nftqtc="1.70",e["1mydrsw"]="1.71",e.ek6qkg="1.72",e["1e2qrk0"]="1.73",e.wbgr28="1.74",e["1vu0s1s"]="1.75",e["3gmz9c"]="1.76",e["12z708w"]="1.77",e.l7wzr4="1.78",e["1kqh0qo"]="1.79",e.cc9zi8="1.80",e["1buu0hs"]="1.81",e.u3k000="1.82",e["1tm40zk"]="1.83",e["7wghds"]="1.84",e["17f0idc"]="1.85",e.pnqhvk="1.86",e["1p6aiv4"]="1.87",e.gs3hmo="1.88",e["1ganim8"]="1.89",e.yjdi4g="1.90",e["1y1xj40"]="1.91",e.or1fk="1.92",e["107b2f4"]="1.93",e.ig11xc="1.94",e["1hyl2ww"]="1.95",e["9ke1og"]="1.96",e["192y2o0"]="1.97",e.rbo268="1.98",e["1qu835s"]="1.99",e["54kjk0"]="2.00",e["14n4kjk"]="2.01",e.mvuk1s="2.02",e["1meel1c"]="2.03",e.e07jsw="2.04",e["1dirksg"]="2.05",e.vrhkao="2.06",e["1va1la8"]="2.07",e["2wnshs"]="2.08",e["12f7thc"]="2.09",e.knxszk="2.10",e["1k6htz4"]="2.11",e.bsasqo="2.12",e["1bautq8"]="2.13",e.tjkt8g="2.14",e["1t24u80"]="2.15",e["7cham8"]="2.16",e["16v1bls"]="2.17",e.p3rb40="2.18",e["1ombc3k"]="2.19",e.g84av4="2.20",e["1fqobuo"]="2.21",e.xzebcw="2.22",e["1xhyccg"]="2.23",e["1speyo"]="2.24",e["11b9fy8"]="2.25",e.jjzfgg="2.26",e["1j2jgg0"]="2.27",e.aocf7k="2.28",e["1a6wg74"]="2.29",e.sfmfpc="2.30",e["1ry6gow"]="2.31",e["68ix34"]="2.32",e["15r2y2o"]="2.33",e.nzsxkw="2.34",e["1nicykg"]="2.35",e.f45xc0="2.36",e["1empybk"]="2.37",e.wvfxts="2.38",e["1wdzytc"]="2.39",e["40m60w"]="2.40",e["13j670g"]="2.41",e.lrw6io="2.42",e["1lag7i8"]="2.43",e.cw969s="2.44",e["1cet79c"]="2.45",e.unj6rk="2.46",e["1u637r4"]="2.47",e["8gfo5c"]="2.48",e["17yzp4w"]="2.49",e.q7pon4="2.50",e["1pq9pmo"]="2.51",e.hc2oe8="2.52",e["1gumpds"]="2.53",e.z3cow0="2.54",e["1ylwpvk"]="2.55",e.jr8qo="2.56",e["102b9q8"]="2.57",e.ib198g="2.58",e["1htla80"]="2.59",e["9fe8zk"]="2.60",e["18xy9z4"]="2.61",e.r6o9hc="2.62",e["1qp8agw"]="2.63",e["4zkqv4"]="2.64",e["14i4ruo"]="2.65",e.mqurcw="2.66",e["1m9escg"]="2.67",e.dv7r40="2.68",e["1ddrs3k"]="2.69",e.vmhrls="2.70",e["1v51slc"]="2.71",e["2rnzsw"]="2.72",e["12a80sg"]="2.73",e.kiy0ao="2.74",e["1k1i1a8"]="2.75",e.bnb01s="2.76",e["1b5v11c"]="2.77",e.tel0jk="2.78",e["1sx51j4"]="2.79",e["77hhxc"]="2.80",e["16q1iww"]="2.81",e.oyrif4="2.82",e["1ohbjeo"]="2.83",e.g34i68="2.84",e["1floj5s"]="2.85",e.xueio0="2.86",e["1xcyjnk"]="2.87",e["1npm9s"]="2.88",e["1169n9c"]="2.89",e.jezmrk="2.90",e["1ixjnr4"]="2.91",e.ajcmio="2.92",e["1a1wni8"]="2.93",e.samn0g="2.94",e["1rt6o00"]="2.95",e["63j4e8"]="2.96",e["15m35ds"]="2.97",e.nut4w0="2.98",e["1ndd5vk"]="2.99",e.ez64n4="3.00",e.uije2o="3.10",e["13qfi8"]="3.20",e.naty4g="3.30",e.c7a6tc="3.40",e.yedpfk="3.50",e["6nib5s"]="3.60",e.m6vklc="3.70",e.hr22gw="3.80",e.qwoo3k="3.90",e["2hoef4"]="4.00",e.oorx1c="4.10",e.a9d14w="4.20",e.wggjr4="4.30",e["81ga2o"]="4.40",e.il0um8="4.50",e.e57chs="4.60",e.toklxc="4.70",e["1xp7nk"]="4.80",e.o4sq9s="4.90",e.d18yyo="5.00",e.z8chkw="5.10",e["4s31ts"]="5.20",e.kbgb9c="5.30",e.fvmt4w="5.40",e.s34xz4="5.50",e["3o4oao"]="5.60",e.pv86ww="5.70",e["9rvqps"]="5.80",e.vyz9c0="5.90",e["7jyznk"]="6.00",e.jrh4hs="6.10",e.fbnmdc="6.20",e.uv0vsw="6.30",e["29ybk"]="6.40",e.m9dgxs="6.50",e.b5tpmo="6.60",e.xcx88w="6.70",e["5m1tz4"]="6.80",e.l5f3eo="6.90",e.gplla8="7.00",e.r965ts="7.10",e["2u5w5c"]="7.20",e.p19erk="7.30",e.aluiv4="7.40",e.wsy1hc="7.50",e["8dxrsw"]="7.60",e.i8jcw0="7.70",e.dspurk="7.80",e.tc3474="7.90",e["1l7pxc"]="8.00",e.nsb8jk="8.10",e.corh8g="8.20",e.yvuzuo="8.30",e["5h21a8"]="8.40",e.l0faps="8.50",e.gklslc="8.60",e.ss3xfk="8.70",e["4d3nr4"]="8.80",e.qk76dc="8.90",e["92wr9c"]="9.00",e["6v0074"]="9.20",e.emomww="9.40",e.r8xs0="9.60",e.busp34="9.80",e["6b0tfk"]="10.00",e.hekkqo="10.20",e["2lf8xs"]="10.40",e.ad3vnk="10.60",e["8574lc"]="10.80",e.e8y70g="11.00",e["21g268"]="11.20",e.d4zthc="11.40",e["4jcem8"]="11.60",e.fmw5xc="11.80",e["3fe134"]="12.00",e["9j53i8"]="12.20",e["7b8cg0"]="12.40",e.f2wz5s="12.60",e.iiakg="12.80",e.bm21vk="13.00",e["62a680"]="13.20",e.h5txj4="13.40",e["3ae8e8"]="13.60",e.b22v40="13.80",e["8u641s"]="14.00",e.djz7k0="14.20",e["1ch2ps"]="14.40",e.cg0u0w="14.60",e["58be2o"]="14.80",e.gbv5ds="15.00",e.vdr4e8="15.50",e.uzsao="16.00",e.ly4xds="16.50",e.a0mdxc="17.00",e.tftyps="17.50",e["4vtwcg"]="18.00",e.pyz1fk="18.50",e.ffegw0="19.00",e.xgo2rk="19.50",e["2xwqo0"]="20.00",e.cln3sw="21.00",e["6rvmrk"]="22.00",e.hbg7b4="23.00",e["272by8"]="24.00",e["9orda8"]="25.00",e["5vey9s"]="26.00",e.dd3zls="27.00",e["3xhslc"]="28.00",e.c45tds="29.00",e["7ybwn4"]="30.00",e.fw9a80="31.00",e["2wfeo"]="32.00",e.amgzy8="33.00",e["5hoidc"]="34.00",e.enb400="35.00"}(d||(d={})),function(e){e.a9="a9",e.nx="appnexus",e.ct="criteo",e.ta="33across",e.pm="pubmatic",e.rb="rubicon",e.ox="openx",e.aol="aol",e.onemobile="aol",e.sv="sovrn",e.tpl="triplelift",e.amx="amx",e.adaptmx="amx",e.sa="smartadserver",e.dgt="improvedigital",e.st="sharethrough",e.ym="yieldmo",e.mn="medianet",e.ob="outbrain",e.oxb="openx",e.tl="triplelift",e.aa="automatad"}(m||(m={})),function(e){e.a9="a9",e.nx="nx",e.ct="ct",e.ta="ta",e.pm="pm",e.rb="rb",e.aol="aol",e.sv="sv",e.amx="amx",e.sa="sa",e.dgt="dgt",e.st="st",e.ym="ym",e.mn="mn",e.ob="ob",e.ox="ox",e.oxb="ox",e.tl="tpl",e.tpl="tpl",e.aa="aa"}(u||(u={})),function(e){e.S2S="s2s",e.CLIENT="client"}(p||(p={})),function(e){e["33acrossId"]="across33id",e.criteoId="criteo",e.id5id="id5",e.idl_env="liveramp",e.lotamePanoramaId="lotame",e.parrableId="parrable",e.pubcid="sharedid",e.tdid="unified",e.connectId="connectid"}(c||(c={}));var y=["stack32"],b=!1,T=[],I=[],v=[],P=[],A=[],E=[],C=[],D=[],_=[],R=[],U=[],w=[],O=[],L=[],N=[],x=[],F=[],k=[],M=[],z=[]},620:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GdprCmp=t.DATManager=t.DMP=t.SSP=t.DAT=void 0;var n=i(575);t.DAT=n.default;var r=i(231);t.SSP=r.default;var s=i(427);t.DMP=s.default;var a=i(101);t.DATManager=a.default;var o=i(249);t.GdprCmp=o.default}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__=__webpack_require__(979);InternalInvestingChannel=__webpack_exports__})();